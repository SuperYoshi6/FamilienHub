function gS(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();function Jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wa(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),i}var qd={exports:{}},aa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function mS(){if(tm)return aa;tm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:l}}return aa.Fragment=e,aa.jsx=i,aa.jsxs=i,aa}var nm;function yS(){return nm||(nm=1,qd.exports=mS()),qd.exports}var y=yS(),Gd={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function vS(){if(im)return De;im=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function N(k,$,re){this.props=k,this.context=$,this.refs=A,this.updater=re||T}N.prototype.isReactComponent={},N.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},N.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function U(){}U.prototype=N.prototype;function M(k,$,re){this.props=k,this.context=$,this.refs=A,this.updater=re||T}var V=M.prototype=new U;V.constructor=M,C(V,N.prototype),V.isPureReactComponent=!0;var G=Array.isArray;function X(){}var O={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function te(k,$,re){var Y=re.ref;return{$$typeof:t,type:k,key:$,ref:Y!==void 0?Y:null,props:re}}function ye(k,$){return te(k.type,$,k.props)}function ve(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Te(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return $[re]})}var Ae=/\/+/g;function Se(k,$){return typeof k=="object"&&k!==null&&k.key!=null?Te(""+k.key):$.toString(36)}function Xe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(X,X):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function L(k,$,re,Y,ie){var J=typeof k;(J==="undefined"||J==="boolean")&&(k=null);var ae=!1;if(k===null)ae=!0;else switch(J){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(k.$$typeof){case t:case e:ae=!0;break;case b:return ae=k._init,L(ae(k._payload),$,re,Y,ie)}}if(ae)return ie=ie(k),ae=Y===""?"."+Se(k,0):Y,G(ie)?(re="",ae!=null&&(re=ae.replace(Ae,"$&/")+"/"),L(ie,$,re,"",function(Me){return Me})):ie!=null&&(ve(ie)&&(ie=ye(ie,re+(ie.key==null||k&&k.key===ie.key?"":(""+ie.key).replace(Ae,"$&/")+"/")+ae)),$.push(ie)),1;ae=0;var Le=Y===""?".":Y+":";if(G(k))for(var oe=0;oe<k.length;oe++)Y=k[oe],J=Le+Se(Y,oe),ae+=L(Y,$,re,J,ie);else if(oe=S(k),typeof oe=="function")for(k=oe.call(k),oe=0;!(Y=k.next()).done;)Y=Y.value,J=Le+Se(Y,oe++),ae+=L(Y,$,re,J,ie);else if(J==="object"){if(typeof k.then=="function")return L(Xe(k),$,re,Y,ie);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ae}function ne(k,$,re){if(k==null)return k;var Y=[],ie=0;return L(k,Y,"","",function(J){return $.call(re,J,ie++)}),Y}function pe(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},me={map:ne,forEach:function(k,$,re){ne(k,function(){$.apply(this,arguments)},re)},count:function(k){var $=0;return ne(k,function(){$++}),$},toArray:function(k){return ne(k,function($){return $})||[]},only:function(k){if(!ve(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return De.Activity=_,De.Children=me,De.Component=N,De.Fragment=i,De.Profiler=o,De.PureComponent=M,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,De.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},De.cache=function(k){return function(){return k.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(k,$,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Y=C({},k.props),ie=k.key;if($!=null)for(J in $.key!==void 0&&(ie=""+$.key),$)!se.call($,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&$.ref===void 0||(Y[J]=$[J]);var J=arguments.length-2;if(J===1)Y.children=re;else if(1<J){for(var ae=Array(J),Le=0;Le<J;Le++)ae[Le]=arguments[Le+2];Y.children=ae}return te(k.type,ie,Y)},De.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},De.createElement=function(k,$,re){var Y,ie={},J=null;if($!=null)for(Y in $.key!==void 0&&(J=""+$.key),$)se.call($,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ie[Y]=$[Y]);var ae=arguments.length-2;if(ae===1)ie.children=re;else if(1<ae){for(var Le=Array(ae),oe=0;oe<ae;oe++)Le[oe]=arguments[oe+2];ie.children=Le}if(k&&k.defaultProps)for(Y in ae=k.defaultProps,ae)ie[Y]===void 0&&(ie[Y]=ae[Y]);return te(k,J,ie)},De.createRef=function(){return{current:null}},De.forwardRef=function(k){return{$$typeof:f,render:k}},De.isValidElement=ve,De.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:pe}},De.memo=function(k,$){return{$$typeof:p,type:k,compare:$===void 0?null:$}},De.startTransition=function(k){var $=O.T,re={};O.T=re;try{var Y=k(),ie=O.S;ie!==null&&ie(re,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(X,ce)}catch(J){ce(J)}finally{$!==null&&re.types!==null&&($.types=re.types),O.T=$}},De.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},De.use=function(k){return O.H.use(k)},De.useActionState=function(k,$,re){return O.H.useActionState(k,$,re)},De.useCallback=function(k,$){return O.H.useCallback(k,$)},De.useContext=function(k){return O.H.useContext(k)},De.useDebugValue=function(){},De.useDeferredValue=function(k,$){return O.H.useDeferredValue(k,$)},De.useEffect=function(k,$){return O.H.useEffect(k,$)},De.useEffectEvent=function(k){return O.H.useEffectEvent(k)},De.useId=function(){return O.H.useId()},De.useImperativeHandle=function(k,$,re){return O.H.useImperativeHandle(k,$,re)},De.useInsertionEffect=function(k,$){return O.H.useInsertionEffect(k,$)},De.useLayoutEffect=function(k,$){return O.H.useLayoutEffect(k,$)},De.useMemo=function(k,$){return O.H.useMemo(k,$)},De.useOptimistic=function(k,$){return O.H.useOptimistic(k,$)},De.useReducer=function(k,$,re){return O.H.useReducer(k,$,re)},De.useRef=function(k){return O.H.useRef(k)},De.useState=function(k){return O.H.useState(k)},De.useSyncExternalStore=function(k,$,re){return O.H.useSyncExternalStore(k,$,re)},De.useTransition=function(){return O.H.useTransition()},De.version="19.2.3",De}var sm;function Kf(){return sm||(sm=1,Gd.exports=vS()),Gd.exports}var H=Kf();const Sa=Jf(H);var Fd={exports:{}},la={},Jd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function bS(){return rm||(rm=1,(function(t){function e(L,ne){var pe=L.length;L.push(ne);e:for(;0<pe;){var ce=pe-1>>>1,me=L[ce];if(0<o(me,ne))L[ce]=ne,L[pe]=me,pe=ce;else break e}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var ne=L[0],pe=L.pop();if(pe!==ne){L[0]=pe;e:for(var ce=0,me=L.length,k=me>>>1;ce<k;){var $=2*(ce+1)-1,re=L[$],Y=$+1,ie=L[Y];if(0>o(re,pe))Y<me&&0>o(ie,re)?(L[ce]=ie,L[Y]=pe,ce=Y):(L[ce]=re,L[$]=pe,ce=$);else if(Y<me&&0>o(ie,pe))L[ce]=ie,L[Y]=pe,ce=Y;else break e}}return ne}function o(L,ne){var pe=L.sortIndex-ne.sortIndex;return pe!==0?pe:L.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var g=[],p=[],b=1,_=null,x=3,S=!1,T=!1,C=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function V(L){for(var ne=i(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=L)r(p),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=i(p)}}function G(L){if(C=!1,V(L),!T)if(i(g)!==null)T=!0,X||(X=!0,Te());else{var ne=i(p);ne!==null&&Xe(G,ne.startTime-L)}}var X=!1,O=-1,se=5,te=-1;function ye(){return A?!0:!(t.unstable_now()-te<se)}function ve(){if(A=!1,X){var L=t.unstable_now();te=L;var ne=!0;try{e:{T=!1,C&&(C=!1,U(O),O=-1),S=!0;var pe=x;try{t:{for(V(L),_=i(g);_!==null&&!(_.expirationTime>L&&ye());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,x=_.priorityLevel;var me=ce(_.expirationTime<=L);if(L=t.unstable_now(),typeof me=="function"){_.callback=me,V(L),ne=!0;break t}_===i(g)&&r(g),V(L)}else r(g);_=i(g)}if(_!==null)ne=!0;else{var k=i(p);k!==null&&Xe(G,k.startTime-L),ne=!1}}break e}finally{_=null,x=pe,S=!1}ne=void 0}}finally{ne?Te():X=!1}}}var Te;if(typeof M=="function")Te=function(){M(ve)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Se=Ae.port2;Ae.port1.onmessage=ve,Te=function(){Se.postMessage(null)}}else Te=function(){N(ve,0)};function Xe(L,ne){O=N(function(){L(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(L){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var pe=x;x=ne;try{return L()}finally{x=pe}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(L,ne){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var pe=x;x=L;try{return ne()}finally{x=pe}},t.unstable_scheduleCallback=function(L,ne,pe){var ce=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ce+pe:ce):pe=ce,L){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=pe+me,L={id:b++,callback:ne,priorityLevel:L,startTime:pe,expirationTime:me,sortIndex:-1},pe>ce?(L.sortIndex=pe,e(p,L),i(g)===null&&L===i(p)&&(C?(U(O),O=-1):C=!0,Xe(G,pe-ce))):(L.sortIndex=me,e(g,L),T||S||(T=!0,X||(X=!0,Te()))),L},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(L){var ne=x;return function(){var pe=x;x=ne;try{return L.apply(this,arguments)}finally{x=pe}}}})(Kd)),Kd}var om;function _S(){return om||(om=1,Jd.exports=bS()),Jd.exports}var Yd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function xS(){if(am)return an;am=1;var t=Kf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,p,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:g,containerInfo:p,implementation:b}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,b)},an.flushSync=function(g){var p=c.T,b=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=b,r.d.f()}},an.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},an.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},an.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,_=f(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:S}):b==="script"&&r.d.X(g,{crossOrigin:_,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=f(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},an.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,_=f(b,p.crossOrigin);r.d.L(g,b,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=f(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},an.requestFormReset=function(g){r.d.r(g)},an.unstable_batchedUpdates=function(g,p){return g(p)},an.useFormState=function(g,p,b){return c.H.useFormState(g,p,b)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.3",an}var lm;function wS(){if(lm)return Yd.exports;lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yd.exports=xS(),Yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function SS(){if(um)return la;um=1;var t=_S(),e=Kf(),i=wS();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var a=n,u=s;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return g(m),n;if(v===u)return g(m),s;v=v.sibling}throw Error(r(188))}if(a.return!==u.return)a=m,u=v;else{for(var w=!1,E=m.child;E;){if(E===a){w=!0,a=m,u=v;break}if(E===u){w=!0,u=m,a=v;break}E=E.sibling}if(!w){for(E=v.child;E;){if(E===a){w=!0,a=v,u=m;break}if(E===u){w=!0,u=v,a=m;break}E=E.sibling}if(!w)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:s}function b(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=b(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Te(n){return n===null||typeof n!="object"?null:(n=ve&&n[ve]||n["@@iterator"],typeof n=="function"?n:null)}var Ae=Symbol.for("react.client.reference");function Se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ae?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case X:return"SuspenseList";case te:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case M:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return s=n.displayName||null,s!==null?s:Se(n.type)||"Memo";case se:s=n._payload,n=n._init;try{return Se(n(s))}catch{}}return null}var Xe=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ce=[],me=-1;function k(n){return{current:n}}function $(n){0>me||(n.current=ce[me],ce[me]=null,me--)}function re(n,s){me++,ce[me]=n.current,n.current=s}var Y=k(null),ie=k(null),J=k(null),ae=k(null);function Le(n,s){switch(re(J,s),re(ie,n),re(Y,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Eg(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Eg(s),n=Tg(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(Y),re(Y,n)}function oe(){$(Y),$(ie),$(J)}function Me(n){n.memoizedState!==null&&re(ae,n);var s=Y.current,a=Tg(s,n.type);s!==a&&(re(ie,n),re(Y,a))}function be(n){ie.current===n&&($(Y),$(ie)),ae.current===n&&($(ae),ia._currentValue=pe)}var Ue,Je;function fe(n){if(Ue===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ue=s&&s[1]||"",Je=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+n+Je}var he=!1;function $e(n,s){if(!n||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(q){B=q}n.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),w=v[0],E=v[1];if(w&&E){var R=w.split(`
`),j=E.split(`
`);for(m=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;if(u===R.length||m===j.length)for(u=R.length-1,m=j.length-1;1<=u&&0<=m&&R[u]!==j[m];)m--;for(;1<=u&&0<=m;u--,m--)if(R[u]!==j[m]){if(u!==1||m!==1)do if(u--,m--,0>m||R[u]!==j[m]){var K=`
`+R[u].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=u&&0<=m);break}}}finally{he=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?fe(a):""}function qe(n,s){switch(n.tag){case 26:case 27:case 5:return fe(n.type);case 16:return fe("Lazy");case 13:return n.child!==s&&s!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return $e(n.type,!1);case 11:return $e(n.type.render,!1);case 1:return $e(n.type,!0);case 31:return fe("Activity");default:return""}}function rt(n){try{var s="",a=null;do s+=qe(n,a),a=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Nt=t.unstable_scheduleCallback,mn=t.unstable_cancelCallback,Yt=t.unstable_shouldYield,Rn=t.unstable_requestPaint,bt=t.unstable_now,mi=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,yn=t.unstable_UserBlockingPriority,qt=t.unstable_NormalPriority,ti=t.unstable_LowPriority,ni=t.unstable_IdlePriority,ii=t.log,Ti=t.unstable_setDisableYieldValue,vn=null,_t=null;function $t(n){if(typeof ii=="function"&&Ti(n),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(vn,n)}catch{}}var St=Math.clz32?Math.clz32:Ci,Ai=Math.log,Hn=Math.LN2;function Ci(n){return n>>>=0,n===0?32:31-(Ai(n)/Hn|0)|0}var Ht=256,ue=262144,We=4194304;function ut(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ft(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var m=0,v=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~v,u!==0?m=ut(u):(w&=E,w!==0?m=ut(w):a||(a=E&~n,a!==0&&(m=ut(a))))):(E=u&~v,E!==0?m=ut(E):w!==0?m=ut(w):a||(a=u&~n,a!==0&&(m=ut(a)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,a=s&-s,v>=a||v===32&&(a&4194048)!==0)?s:m}function xt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function nn(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sn(){var n=We;return We<<=1,(We&62914560)===0&&(We=4194304),n}function si(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Dt(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cn(n,s,a,u,m,v){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var E=n.entanglements,R=n.expirationTimes,j=n.hiddenUpdates;for(a=w&~a;0<a;){var K=31-St(a),Q=1<<K;E[K]=0,R[K]=-1;var B=j[K];if(B!==null)for(j[K]=null,K=0;K<B.length;K++){var q=B[K];q!==null&&(q.lane&=-536870913)}a&=~Q}u!==0&&ri(n,u,0),v!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=v&~(w&~s))}function ri(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-St(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Ni(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-St(a),m=1<<u;m&s|n[u]&s&&(n[u]|=s),a&=~m}}function ki(n,s){var a=s&-s;return a=(a&42)!==0?1:Is(a),(a&(n.suspendedLanes|s))!==0?0:a}function Is(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ds(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function dr(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:Kg(n.type))}function Us(n,s){var a=ne.p;try{return ne.p=n,s()}finally{ne.p=a}}var Bn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Bn,Gt="__reactProps$"+Bn,yi="__reactContainer$"+Bn,Ps="__reactEvents$"+Bn,yo="__reactListeners$"+Bn,vo="__reactHandles$"+Bn,fr="__reactResources$"+Bn,Z="__reactMarker$"+Bn;function He(n){delete n[kt],delete n[Gt],delete n[Ps],delete n[yo],delete n[vo]}function Rt(n){var s=n[kt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[yi]||a[kt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Ig(n);n!==null;){if(a=n[kt])return a;n=Ig(n)}return s}n=a,a=n.parentNode}return null}function Ft(n){if(n=n[kt]||n[yi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function dn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function rn(n){var s=n[fr];return s||(s=n[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(n){n[Z]=!0}var hr=new Set,Na={};function Ri(n,s){ns(n,s),ns(n+"Capture",s)}function ns(n,s){for(Na[n]=s,n=0;n<s.length;n++)hr.add(s[n])}var Lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mi={},ka={};function zu(n){return Ct.call(ka,n)?!0:Ct.call(Mi,n)?!1:Lu.test(n)?ka[n]=!0:(Mi[n]=!0,!1)}function pr(n,s,a){if(zu(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function gr(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function oi(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ra(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Os(n,s,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){a=""+w,v.call(this,w)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function bo(n){if(!n._valueTracker){var s=Ra(n)?"checked":"value";n._valueTracker=Os(n,s,""+n[s])}}function Ma(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=Ra(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function I(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var F=/[\n"\\]/g;function ee(n){return n.replace(F,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function le(n,s,a,u,m,v,w,E){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),s!=null?w==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bn(s)):n.value!==""+bn(s)&&(n.value=""+bn(s)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),s!=null?on(n,w,bn(s)):a!=null?on(n,w,bn(a)):u!=null&&n.removeAttribute("value"),m==null&&v!=null&&(n.defaultChecked=!!v),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+bn(E):n.removeAttribute("name")}function je(n,s,a,u,m,v,w,E){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){bo(n);return}a=a!=null?""+bn(a):"",s=s!=null?""+bn(s):a,E||s===n.value||(n.value=s),n.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w),bo(n)}function on(n,s,a){s==="number"&&I(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function nt(n,s,a,u){if(n=n.options,s){s={};for(var m=0;m<a.length;m++)s["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=s.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&u&&(n[a].defaultSelected=!0)}else{for(a=""+bn(a),s=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function mt(n,s,a){if(s!=null&&(s=""+bn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+bn(a):""}function Bt(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(Xe(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=bn(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),bo(n)}function Et(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||vi.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function fn(n,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&a[m]!==u&&Ls(n,m,u)}else for(var v in s)s.hasOwnProperty(v)&&Ls(n,v,s[v])}function is(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(n){return $u.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function qn(){}var Hu=null;function Bu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mr=null,yr=null;function Sh(n){var s=Ft(n);if(s&&(n=s.stateNode)){var a=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(le(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ee(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var m=u[Gt]||null;if(!m)throw Error(r(90));le(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&Ma(u)}break e;case"textarea":mt(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&nt(n,!!a.multiple,s,!1)}}}var Vu=!1;function Eh(n,s,a){if(Vu)return n(s,a);Vu=!0;try{var u=n(s);return u}finally{if(Vu=!1,(mr!==null||yr!==null)&&(vl(),mr&&(s=mr,n=yr,yr=mr=null,Sh(s),n)))for(s=0;s<n.length;s++)Sh(n[s])}}function _o(n,s){var a=n.stateNode;if(a===null)return null;var u=a[Gt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=!1;if(Ii)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){qu=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{qu=!1}var ss=null,Gu=null,Ia=null;function Th(){if(Ia)return Ia;var n,s=Gu,a=s.length,u,m="value"in ss?ss.value:ss.textContent,v=m.length;for(n=0;n<a&&s[n]===m[n];n++);var w=a-n;for(u=1;u<=w&&s[a-u]===m[v-u];u++);return Ia=m.slice(n,1<u?1-u:void 0)}function Da(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ua(){return!0}function Ah(){return!1}function _n(n){function s(a,u,m,v,w){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(a=n[E],this[E]=a?a(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ua:Ah,this.isPropagationStopped=Ah,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),s}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=_n(zs),wo=_({},zs,{view:0,detail:0}),hx=_n(wo),Fu,Ju,So,Oa=_({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==So&&(So&&n.type==="mousemove"?(Fu=n.screenX-So.screenX,Ju=n.screenY-So.screenY):Ju=Fu=0,So=n),Fu)},movementY:function(n){return"movementY"in n?n.movementY:Ju}}),Ch=_n(Oa),px=_({},Oa,{dataTransfer:0}),gx=_n(px),mx=_({},wo,{relatedTarget:0}),Ku=_n(mx),yx=_({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=_n(yx),bx=_({},zs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_x=_n(bx),xx=_({},zs,{data:0}),Nh=_n(xx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ex={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Ex[n])?!!s[n]:!1}function Yu(){return Tx}var Ax=_({},wo,{key:function(n){if(n.key){var s=wx[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Da(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(n){return n.type==="keypress"?Da(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Da(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cx=_n(Ax),Nx=_({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=_n(Nx),kx=_({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),Rx=_n(kx),Mx=_({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=_n(Mx),Dx=_({},Oa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=_n(Dx),Px=_({},zs,{newState:0,oldState:0}),Ox=_n(Px),Lx=[9,13,27,32],Xu=Ii&&"CompositionEvent"in window,Eo=null;Ii&&"documentMode"in document&&(Eo=document.documentMode);var zx=Ii&&"TextEvent"in window&&!Eo,Rh=Ii&&(!Xu||Eo&&8<Eo&&11>=Eo),Mh=" ",Ih=!1;function Dh(n,s){switch(n){case"keyup":return Lx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vr=!1;function jx(n,s){switch(n){case"compositionend":return Uh(s);case"keypress":return s.which!==32?null:(Ih=!0,Mh);case"textInput":return n=s.data,n===Mh&&Ih?null:n;default:return null}}function $x(n,s){if(vr)return n==="compositionend"||!Xu&&Dh(n,s)?(n=Th(),Ia=Gu=ss=null,vr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rh&&s.locale!=="ko"?null:s.data;default:return null}}var Hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Hx[n.type]:s==="textarea"}function Oh(n,s,a,u){mr?yr?yr.push(u):yr=[u]:mr=u,s=Tl(s,"onChange"),0<s.length&&(a=new Pa("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var To=null,Ao=null;function Bx(n){vg(n,0)}function La(n){var s=dn(n);if(Ma(s))return n}function Lh(n,s){if(n==="change")return s}var zh=!1;if(Ii){var Wu;if(Ii){var Qu="oninput"in document;if(!Qu){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),Qu=typeof jh.oninput=="function"}Wu=Qu}else Wu=!1;zh=Wu&&(!document.documentMode||9<document.documentMode)}function $h(){To&&(To.detachEvent("onpropertychange",Hh),Ao=To=null)}function Hh(n){if(n.propertyName==="value"&&La(Ao)){var s=[];Oh(s,Ao,n,Bu(n)),Eh(Bx,s)}}function Vx(n,s,a){n==="focusin"?($h(),To=s,Ao=a,To.attachEvent("onpropertychange",Hh)):n==="focusout"&&$h()}function qx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return La(Ao)}function Gx(n,s){if(n==="click")return La(s)}function Fx(n,s){if(n==="input"||n==="change")return La(s)}function Jx(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var In=typeof Object.is=="function"?Object.is:Jx;function Co(n,s){if(In(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!Ct.call(s,m)||!In(n[m],s[m]))return!1}return!0}function Bh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vh(n,s){var a=Bh(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bh(a)}}function qh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?qh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Gh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=I(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=I(n.document)}return s}function Zu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Kx=Ii&&"documentMode"in document&&11>=document.documentMode,br=null,ec=null,No=null,tc=!1;function Fh(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tc||br==null||br!==I(u)||(u=br,"selectionStart"in u&&Zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),No&&Co(No,u)||(No=u,u=Tl(ec,"onSelect"),0<u.length&&(s=new Pa("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=br)))}function js(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var _r={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},nc={},Jh={};Ii&&(Jh=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function $s(n){if(nc[n])return nc[n];if(!_r[n])return n;var s=_r[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Jh)return nc[n]=s[a];return n}var Kh=$s("animationend"),Yh=$s("animationiteration"),Xh=$s("animationstart"),Yx=$s("transitionrun"),Xx=$s("transitionstart"),Wx=$s("transitioncancel"),Wh=$s("transitionend"),Qh=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function ai(n,s){Qh.set(n,s),Ri(s,[n])}var za=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Gn=[],xr=0,sc=0;function ja(){for(var n=xr,s=sc=xr=0;s<n;){var a=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var m=Gn[s];Gn[s++]=null;var v=Gn[s];if(Gn[s++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}v!==0&&Zh(a,m,v)}}function $a(n,s,a,u){Gn[xr++]=n,Gn[xr++]=s,Gn[xr++]=a,Gn[xr++]=u,sc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function rc(n,s,a,u){return $a(n,s,a,u),Ha(n)}function Hs(n,s){return $a(n,null,null,s),Ha(n)}function Zh(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var m=!1,v=n.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(m=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,m&&s!==null&&(m=31-St(a),n=v.hiddenUpdates,u=n[m],u===null?n[m]=[s]:u.push(s),s.lane=a|536870912),v):null}function Ha(n){if(50<Xo)throw Xo=0,pd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var wr={};function Qx(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(n,s,a,u){return new Qx(n,s,a,u)}function oc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Di(n,s){var a=n.alternate;return a===null?(a=Dn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ep(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ba(n,s,a,u,m,v){var w=0;if(u=n,typeof n=="function")oc(n)&&(w=1);else if(typeof n=="string")w=iS(n,a,Y.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case te:return n=Dn(31,a,s,m),n.elementType=te,n.lanes=v,n;case C:return Bs(a.children,m,v,s);case A:w=8,m|=24;break;case N:return n=Dn(12,a,s,m|2),n.elementType=N,n.lanes=v,n;case G:return n=Dn(13,a,s,m),n.elementType=G,n.lanes=v,n;case X:return n=Dn(19,a,s,m),n.elementType=X,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:w=10;break e;case U:w=9;break e;case V:w=11;break e;case O:w=14;break e;case se:w=16,u=null;break e}w=29,a=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Dn(w,a,s,m),s.elementType=n,s.type=u,s.lanes=v,s}function Bs(n,s,a,u){return n=Dn(7,n,u,s),n.lanes=a,n}function ac(n,s,a){return n=Dn(6,n,null,s),n.lanes=a,n}function tp(n){var s=Dn(18,null,null,0);return s.stateNode=n,s}function lc(n,s,a){return s=Dn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var np=new WeakMap;function Fn(n,s){if(typeof n=="object"&&n!==null){var a=np.get(n);return a!==void 0?a:(s={value:n,source:s,stack:rt(s)},np.set(n,s),s)}return{value:n,source:s,stack:rt(s)}}var Sr=[],Er=0,Va=null,ko=0,Jn=[],Kn=0,rs=null,bi=1,_i="";function Ui(n,s){Sr[Er++]=ko,Sr[Er++]=Va,Va=n,ko=s}function ip(n,s,a){Jn[Kn++]=bi,Jn[Kn++]=_i,Jn[Kn++]=rs,rs=n;var u=bi;n=_i;var m=32-St(u)-1;u&=~(1<<m),a+=1;var v=32-St(s)+m;if(30<v){var w=m-m%5;v=(u&(1<<w)-1).toString(32),u>>=w,m-=w,bi=1<<32-St(s)+m|a<<m|u,_i=v+n}else bi=1<<v|a<<m|u,_i=n}function uc(n){n.return!==null&&(Ui(n,1),ip(n,1,0))}function cc(n){for(;n===Va;)Va=Sr[--Er],Sr[Er]=null,ko=Sr[--Er],Sr[Er]=null;for(;n===rs;)rs=Jn[--Kn],Jn[Kn]=null,_i=Jn[--Kn],Jn[Kn]=null,bi=Jn[--Kn],Jn[Kn]=null}function sp(n,s){Jn[Kn++]=bi,Jn[Kn++]=_i,Jn[Kn++]=rs,bi=s.id,_i=s.overflow,rs=n}var Xt=null,ht=null,Ke=!1,os=null,Yn=!1,dc=Error(r(519));function as(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ro(Fn(s,n)),dc}function rp(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[kt]=n,s[Gt]=u,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<Qo.length;a++)Ve(Qo[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),je(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Bt(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||wg(s.textContent,a)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=qn),s=!0):s=!1,s||as(n,!0)}function op(n){for(Xt=n.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function Tr(n){if(n!==Xt)return!1;if(!Ke)return op(n),Ke=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||kd(n.type,n.memoizedProps)),a=!a),a&&ht&&as(n),op(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ht=Mg(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ht=Mg(n)}else s===27?(s=ht,xs(n.type)?(n=Ud,Ud=null,ht=n):ht=s):ht=Xt?Wn(n.stateNode.nextSibling):null;return!0}function Vs(){ht=Xt=null,Ke=!1}function fc(){var n=os;return n!==null&&(En===null?En=n:En.push.apply(En,n),os=null),n}function Ro(n){os===null?os=[n]:os.push(n)}var hc=k(null),qs=null,Pi=null;function ls(n,s,a){re(hc,s._currentValue),s._currentValue=a}function Oi(n){n._currentValue=hc.current,$(hc)}function pc(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function gc(n,s,a,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var v=m.dependencies;if(v!==null){var w=m.child;v=v.firstContext;e:for(;v!==null;){var E=v;v=m;for(var R=0;R<s.length;R++)if(E.context===s[R]){v.lanes|=a,E=v.alternate,E!==null&&(E.lanes|=a),pc(v.return,a,n),u||(w=null);break e}v=E.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=a,v=w.alternate,v!==null&&(v.lanes|=a),pc(w,a,n),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===n){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Ar(n,s,a,u){n=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var E=m.type;In(m.pendingProps.value,w.value)||(n!==null?n.push(E):n=[E])}}else if(m===ae.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(ia):n=[ia])}m=m.return}n!==null&&gc(s,n,a,u),s.flags|=262144}function qa(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gs(n){qs=n,Pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Wt(n){return ap(qs,n)}function Ga(n,s){return qs===null&&Gs(n),ap(n,s)}function ap(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Pi===null){if(n===null)throw Error(r(308));Pi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Pi=Pi.next=s;return a}var Zx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},ew=t.unstable_scheduleCallback,tw=t.unstable_NormalPriority,Ut={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new Zx,data:new Map,refCount:0}}function Mo(n){n.refCount--,n.refCount===0&&ew(tw,function(){n.controller.abort()})}var Io=null,yc=0,Cr=0,Nr=null;function nw(n,s){if(Io===null){var a=Io=[];yc=0,Cr=_d(),Nr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return yc++,s.then(lp,lp),s}function lp(){if(--yc===0&&Io!==null){Nr!==null&&(Nr.status="fulfilled");var n=Io;Io=null,Cr=0,Nr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function iw(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<a.length;m++)(0,a[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var up=L.S;L.S=function(n,s){F0=bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nw(n,s),up!==null&&up(n,s)};var Fs=k(null);function vc(){var n=Fs.current;return n!==null?n:ct.pooledCache}function Fa(n,s){s===null?re(Fs,Fs.current):re(Fs,s.pool)}function cp(){var n=vc();return n===null?null:{parent:Ut._currentValue,pool:n}}var kr=Error(r(460)),bc=Error(r(474)),Ja=Error(r(542)),Ka={then:function(){}};function dp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fp(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(qn,qn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,pp(n),n;default:if(typeof s.status=="string")s.then(qn,qn);else{if(n=ct,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,pp(n),n}throw Ks=s,kr}}function Js(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,kr):a}}var Ks=null;function hp(){if(Ks===null)throw Error(r(459));var n=Ks;return Ks=null,n}function pp(n){if(n===kr||n===Ja)throw Error(r(483))}var Rr=null,Do=0;function Ya(n){var s=Do;return Do+=1,Rr===null&&(Rr=[]),fp(Rr,n,s)}function Uo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Xa(n,s){throw s.$$typeof===x?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function gp(n){function s(P,D){if(n){var z=P.deletions;z===null?(P.deletions=[D],P.flags|=16):z.push(D)}}function a(P,D){if(!n)return null;for(;D!==null;)s(P,D),D=D.sibling;return null}function u(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function m(P,D){return P=Di(P,D),P.index=0,P.sibling=null,P}function v(P,D,z){return P.index=z,n?(z=P.alternate,z!==null?(z=z.index,z<D?(P.flags|=67108866,D):z):(P.flags|=67108866,D)):(P.flags|=1048576,D)}function w(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function E(P,D,z,W){return D===null||D.tag!==6?(D=ac(z,P.mode,W),D.return=P,D):(D=m(D,z),D.return=P,D)}function R(P,D,z,W){var Ce=z.type;return Ce===C?K(P,D,z.props.children,W,z.key):D!==null&&(D.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===se&&Js(Ce)===D.type)?(D=m(D,z.props),Uo(D,z),D.return=P,D):(D=Ba(z.type,z.key,z.props,null,P.mode,W),Uo(D,z),D.return=P,D)}function j(P,D,z,W){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=lc(z,P.mode,W),D.return=P,D):(D=m(D,z.children||[]),D.return=P,D)}function K(P,D,z,W,Ce){return D===null||D.tag!==7?(D=Bs(z,P.mode,W,Ce),D.return=P,D):(D=m(D,z),D.return=P,D)}function Q(P,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ac(""+D,P.mode,z),D.return=P,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return z=Ba(D.type,D.key,D.props,null,P.mode,z),Uo(z,D),z.return=P,z;case T:return D=lc(D,P.mode,z),D.return=P,D;case se:return D=Js(D),Q(P,D,z)}if(Xe(D)||Te(D))return D=Bs(D,P.mode,z,null),D.return=P,D;if(typeof D.then=="function")return Q(P,Ya(D),z);if(D.$$typeof===M)return Q(P,Ga(P,D),z);Xa(P,D)}return null}function B(P,D,z,W){var Ce=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Ce!==null?null:E(P,D,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===Ce?R(P,D,z,W):null;case T:return z.key===Ce?j(P,D,z,W):null;case se:return z=Js(z),B(P,D,z,W)}if(Xe(z)||Te(z))return Ce!==null?null:K(P,D,z,W,null);if(typeof z.then=="function")return B(P,D,Ya(z),W);if(z.$$typeof===M)return B(P,D,Ga(P,z),W);Xa(P,z)}return null}function q(P,D,z,W,Ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(z)||null,E(D,P,""+W,Ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return P=P.get(W.key===null?z:W.key)||null,R(D,P,W,Ce);case T:return P=P.get(W.key===null?z:W.key)||null,j(D,P,W,Ce);case se:return W=Js(W),q(P,D,z,W,Ce)}if(Xe(W)||Te(W))return P=P.get(z)||null,K(D,P,W,Ce,null);if(typeof W.then=="function")return q(P,D,z,Ya(W),Ce);if(W.$$typeof===M)return q(P,D,z,Ga(D,W),Ce);Xa(D,W)}return null}function xe(P,D,z,W){for(var Ce=null,Qe=null,we=D,ze=D=0,Fe=null;we!==null&&ze<z.length;ze++){we.index>ze?(Fe=we,we=null):Fe=we.sibling;var Ze=B(P,we,z[ze],W);if(Ze===null){we===null&&(we=Fe);break}n&&we&&Ze.alternate===null&&s(P,we),D=v(Ze,D,ze),Qe===null?Ce=Ze:Qe.sibling=Ze,Qe=Ze,we=Fe}if(ze===z.length)return a(P,we),Ke&&Ui(P,ze),Ce;if(we===null){for(;ze<z.length;ze++)we=Q(P,z[ze],W),we!==null&&(D=v(we,D,ze),Qe===null?Ce=we:Qe.sibling=we,Qe=we);return Ke&&Ui(P,ze),Ce}for(we=u(we);ze<z.length;ze++)Fe=q(we,P,ze,z[ze],W),Fe!==null&&(n&&Fe.alternate!==null&&we.delete(Fe.key===null?ze:Fe.key),D=v(Fe,D,ze),Qe===null?Ce=Fe:Qe.sibling=Fe,Qe=Fe);return n&&we.forEach(function(As){return s(P,As)}),Ke&&Ui(P,ze),Ce}function ke(P,D,z,W){if(z==null)throw Error(r(151));for(var Ce=null,Qe=null,we=D,ze=D=0,Fe=null,Ze=z.next();we!==null&&!Ze.done;ze++,Ze=z.next()){we.index>ze?(Fe=we,we=null):Fe=we.sibling;var As=B(P,we,Ze.value,W);if(As===null){we===null&&(we=Fe);break}n&&we&&As.alternate===null&&s(P,we),D=v(As,D,ze),Qe===null?Ce=As:Qe.sibling=As,Qe=As,we=Fe}if(Ze.done)return a(P,we),Ke&&Ui(P,ze),Ce;if(we===null){for(;!Ze.done;ze++,Ze=z.next())Ze=Q(P,Ze.value,W),Ze!==null&&(D=v(Ze,D,ze),Qe===null?Ce=Ze:Qe.sibling=Ze,Qe=Ze);return Ke&&Ui(P,ze),Ce}for(we=u(we);!Ze.done;ze++,Ze=z.next())Ze=q(we,P,ze,Ze.value,W),Ze!==null&&(n&&Ze.alternate!==null&&we.delete(Ze.key===null?ze:Ze.key),D=v(Ze,D,ze),Qe===null?Ce=Ze:Qe.sibling=Ze,Qe=Ze);return n&&we.forEach(function(pS){return s(P,pS)}),Ke&&Ui(P,ze),Ce}function lt(P,D,z,W){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var Ce=z.key;D!==null;){if(D.key===Ce){if(Ce=z.type,Ce===C){if(D.tag===7){a(P,D.sibling),W=m(D,z.props.children),W.return=P,P=W;break e}}else if(D.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===se&&Js(Ce)===D.type){a(P,D.sibling),W=m(D,z.props),Uo(W,z),W.return=P,P=W;break e}a(P,D);break}else s(P,D);D=D.sibling}z.type===C?(W=Bs(z.props.children,P.mode,W,z.key),W.return=P,P=W):(W=Ba(z.type,z.key,z.props,null,P.mode,W),Uo(W,z),W.return=P,P=W)}return w(P);case T:e:{for(Ce=z.key;D!==null;){if(D.key===Ce)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(P,D.sibling),W=m(D,z.children||[]),W.return=P,P=W;break e}else{a(P,D);break}else s(P,D);D=D.sibling}W=lc(z,P.mode,W),W.return=P,P=W}return w(P);case se:return z=Js(z),lt(P,D,z,W)}if(Xe(z))return xe(P,D,z,W);if(Te(z)){if(Ce=Te(z),typeof Ce!="function")throw Error(r(150));return z=Ce.call(z),ke(P,D,z,W)}if(typeof z.then=="function")return lt(P,D,Ya(z),W);if(z.$$typeof===M)return lt(P,D,Ga(P,z),W);Xa(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(P,D.sibling),W=m(D,z),W.return=P,P=W):(a(P,D),W=ac(z,P.mode,W),W.return=P,P=W),w(P)):a(P,D)}return function(P,D,z,W){try{Do=0;var Ce=lt(P,D,z,W);return Rr=null,Ce}catch(we){if(we===kr||we===Ja)throw we;var Qe=Dn(29,we,null,P.mode);return Qe.lanes=W,Qe.return=P,Qe}finally{}}}var Ys=gp(!0),mp=gp(!1),us=!1;function _c(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function cs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ds(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Ha(n),Zh(n,null,a),s}return $a(n,u,s,a),Ha(n)}function Po(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Ni(n,a)}}function wc(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?m=v=w:v=v.next=w,a=a.next}while(a!==null);v===null?m=v=s:v=v.next=s}else m=v=s;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Sc=!1;function Oo(){if(Sc){var n=Nr;if(n!==null)throw n}}function Lo(n,s,a,u){Sc=!1;var m=n.updateQueue;us=!1;var v=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var R=E,j=R.next;R.next=null,w===null?v=j:w.next=j,w=R;var K=n.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==w&&(E===null?K.firstBaseUpdate=j:E.next=j,K.lastBaseUpdate=R))}if(v!==null){var Q=m.baseState;w=0,K=j=R=null,E=v;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ge&B)===B:(u&B)===B){B!==0&&B===Cr&&(Sc=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var xe=n,ke=E;B=s;var lt=a;switch(ke.tag){case 1:if(xe=ke.payload,typeof xe=="function"){Q=xe.call(lt,Q,B);break e}Q=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ke.payload,B=typeof xe=="function"?xe.call(lt,Q,B):xe,B==null)break e;Q=_({},Q,B);break e;case 2:us=!0}}B=E.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=m.callbacks,q===null?m.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(j=K=q,R=Q):K=K.next=q,w|=B;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;q=E,E=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(!0);K===null&&(R=Q),m.baseState=R,m.firstBaseUpdate=j,m.lastBaseUpdate=K,v===null&&(m.shared.lanes=0),ms|=w,n.lanes=w,n.memoizedState=Q}}function yp(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function vp(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)yp(a[n],s)}var Mr=k(null),Wa=k(0);function bp(n,s){n=Gi,re(Wa,n),re(Mr,s),Gi=n|s.baseLanes}function Ec(){re(Wa,Gi),re(Mr,Mr.current)}function Tc(){Gi=Wa.current,$(Mr),$(Wa)}var Un=k(null),Xn=null;function fs(n){var s=n.alternate;re(Mt,Mt.current&1),re(Un,n),Xn===null&&(s===null||Mr.current!==null||s.memoizedState!==null)&&(Xn=n)}function Ac(n){re(Mt,Mt.current),re(Un,n),Xn===null&&(Xn=n)}function _p(n){n.tag===22?(re(Mt,Mt.current),re(Un,n),Xn===null&&(Xn=n)):hs()}function hs(){re(Mt,Mt.current),re(Un,Un.current)}function Pn(n){$(Un),Xn===n&&(Xn=null),$(Mt)}var Mt=k(0);function Qa(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Dd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Li=0,Pe=null,ot=null,Pt=null,Za=!1,Ir=!1,Xs=!1,el=0,zo=0,Dr=null,sw=0;function Tt(){throw Error(r(321))}function Cc(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!In(n[a],s[a]))return!1;return!0}function Nc(n,s,a,u,m,v){return Li=v,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?i0:Vc,Xs=!1,v=a(u,m),Xs=!1,Ir&&(v=wp(s,a,u,m)),xp(n),v}function xp(n){L.H=Ho;var s=ot!==null&&ot.next!==null;if(Li=0,Pt=ot=Pe=null,Za=!1,zo=0,Dr=null,s)throw Error(r(300));n===null||Ot||(n=n.dependencies,n!==null&&qa(n)&&(Ot=!0))}function wp(n,s,a,u){Pe=n;var m=0;do{if(Ir&&(Dr=null),zo=0,Ir=!1,25<=m)throw Error(r(301));if(m+=1,Pt=ot=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=s0,v=s(a,u)}while(Ir);return v}function rw(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?jo(s):s,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(Pe.flags|=1024),s}function kc(){var n=el!==0;return el=0,n}function Rc(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function Mc(n){if(Za){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Za=!1}Li=0,Pt=ot=Pe=null,Ir=!1,zo=el=0,Dr=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function It(){if(ot===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var s=Pt===null?Pe.memoizedState:Pt.next;if(s!==null)Pt=s,ot=n;else{if(n===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Pt===null?Pe.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(n){var s=zo;return zo+=1,Dr===null&&(Dr=[]),n=fp(Dr,n,s),s=Pe,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?i0:Vc),n}function nl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return jo(n);if(n.$$typeof===M)return Wt(n)}throw Error(r(438,String(n)))}function Ic(n){var s=null,a=Pe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=tl(),Pe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=ye;return s.index++,a}function zi(n,s){return typeof s=="function"?s(n):s}function il(n){var s=It();return Dc(s,ot,n)}function Dc(n,s,a){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=n.baseQueue,v=u.pending;if(v!==null){if(m!==null){var w=m.next;m.next=v.next,v.next=w}s.baseQueue=m=v,u.pending=null}if(v=n.baseState,m===null)n.memoizedState=v;else{s=m.next;var E=w=null,R=null,j=s,K=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(Ge&Q)===Q:(Li&Q)===Q){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Cr&&(K=!0);else if((Li&B)===B){j=j.next,B===Cr&&(K=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Q,w=v):R=R.next=Q,Pe.lanes|=B,ms|=B;Q=j.action,Xs&&a(v,Q),v=j.hasEagerState?j.eagerState:a(v,Q)}else B={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,w=v):R=R.next=B,Pe.lanes|=Q,ms|=Q;j=j.next}while(j!==null&&j!==s);if(R===null?w=v:R.next=E,!In(v,n.memoizedState)&&(Ot=!0,K&&(a=Nr,a!==null)))throw a;n.memoizedState=v,n.baseState=w,n.baseQueue=R,u.lastRenderedState=v}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Uc(n){var s=It(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,m=a.pending,v=s.memoizedState;if(m!==null){a.pending=null;var w=m=m.next;do v=n(v,w.action),w=w.next;while(w!==m);In(v,s.memoizedState)||(Ot=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,u]}function Sp(n,s,a){var u=Pe,m=It(),v=Ke;if(v){if(a===void 0)throw Error(r(407));a=a()}else a=s();var w=!In((ot||m).memoizedState,a);if(w&&(m.memoizedState=a,Ot=!0),m=m.queue,Lc(Ap.bind(null,u,m,n),[n]),m.getSnapshot!==s||w||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Ur(9,{destroy:void 0},Tp.bind(null,u,m,a,s),null),ct===null)throw Error(r(349));v||(Li&127)!==0||Ep(u,s,a)}return a}function Ep(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Pe.updateQueue,s===null?(s=tl(),Pe.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Tp(n,s,a,u){s.value=a,s.getSnapshot=u,Cp(s)&&Np(n)}function Ap(n,s,a){return a(function(){Cp(s)&&Np(n)})}function Cp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!In(n,a)}catch{return!0}}function Np(n){var s=Hs(n,2);s!==null&&Tn(s,n,2)}function Pc(n){var s=hn();if(typeof n=="function"){var a=n;if(n=a(),Xs){$t(!0);try{a()}finally{$t(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:n},s}function kp(n,s,a,u){return n.baseState=a,Dc(n,ot,typeof u=="function"?u:zi)}function ow(n,s,a,u,m){if(ol(n))throw Error(r(485));if(n=s.action,n!==null){var v={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};L.T!==null?a(!0):v.isTransition=!1,u(v),a=s.pending,a===null?(v.next=s.pending=v,Rp(s,v)):(v.next=a.next,s.pending=a.next=v)}}function Rp(n,s){var a=s.action,u=s.payload,m=n.state;if(s.isTransition){var v=L.T,w={};L.T=w;try{var E=a(m,u),R=L.S;R!==null&&R(w,E),Mp(n,s,E)}catch(j){Oc(n,s,j)}finally{v!==null&&w.types!==null&&(v.types=w.types),L.T=v}}else try{v=a(m,u),Mp(n,s,v)}catch(j){Oc(n,s,j)}}function Mp(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ip(n,s,u)},function(u){return Oc(n,s,u)}):Ip(n,s,a)}function Ip(n,s,a){s.status="fulfilled",s.value=a,Dp(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Rp(n,a)))}function Oc(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,Dp(s),s=s.next;while(s!==u)}n.action=null}function Dp(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Up(n,s){return s}function Pp(n,s){if(Ke){var a=ct.formState;if(a!==null){e:{var u=Pe;if(Ke){if(ht){t:{for(var m=ht,v=Yn;m.nodeType!==8;){if(!v){m=null;break t}if(m=Wn(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){ht=Wn(m.nextSibling),u=m.data==="F!";break e}}as(u)}u=!1}u&&(s=a[0])}}return a=hn(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:s},a.queue=u,a=e0.bind(null,Pe,u),u.dispatch=a,u=Pc(!1),v=Bc.bind(null,Pe,!1,u.queue),u=hn(),m={state:s,dispatch:null,action:n,pending:null},u.queue=m,a=ow.bind(null,Pe,m,v,a),m.dispatch=a,u.memoizedState=n,[s,a,!1]}function Op(n){var s=It();return Lp(s,ot,n)}function Lp(n,s,a){if(s=Dc(n,s,Up)[0],n=il(zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=jo(s)}catch(w){throw w===kr?Ja:w}else u=s;s=It();var m=s.queue,v=m.dispatch;return a!==s.memoizedState&&(Pe.flags|=2048,Ur(9,{destroy:void 0},aw.bind(null,m,a),null)),[u,v,n]}function aw(n,s){n.action=s}function zp(n){var s=It(),a=ot;if(a!==null)return Lp(s,a,n);It(),s=s.memoizedState,a=It();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function Ur(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=tl(),Pe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function jp(){return It().memoizedState}function sl(n,s,a,u){var m=hn();Pe.flags|=n,m.memoizedState=Ur(1|s,{destroy:void 0},a,u===void 0?null:u)}function rl(n,s,a,u){var m=It();u=u===void 0?null:u;var v=m.memoizedState.inst;ot!==null&&u!==null&&Cc(u,ot.memoizedState.deps)?m.memoizedState=Ur(s,v,a,u):(Pe.flags|=n,m.memoizedState=Ur(1|s,v,a,u))}function $p(n,s){sl(8390656,8,n,s)}function Lc(n,s){rl(2048,8,n,s)}function lw(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=tl(),Pe.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Hp(n){var s=It().memoizedState;return lw({ref:s,nextImpl:n}),function(){if((tt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Bp(n,s){return rl(4,2,n,s)}function Vp(n,s){return rl(4,4,n,s)}function qp(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Gp(n,s,a){a=a!=null?a.concat([n]):null,rl(4,4,qp.bind(null,s,n),a)}function zc(){}function Fp(n,s){var a=It();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&Cc(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function Jp(n,s){var a=It();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&Cc(s,u[1]))return u[0];if(u=n(),Xs){$t(!0);try{n()}finally{$t(!1)}}return a.memoizedState=[u,s],u}function jc(n,s,a){return a===void 0||(Li&1073741824)!==0&&(Ge&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=K0(),Pe.lanes|=n,ms|=n,a)}function Kp(n,s,a,u){return In(a,s)?a:Mr.current!==null?(n=jc(n,a,u),In(n,s)||(Ot=!0),n):(Li&42)===0||(Li&1073741824)!==0&&(Ge&261930)===0?(Ot=!0,n.memoizedState=a):(n=K0(),Pe.lanes|=n,ms|=n,s)}function Yp(n,s,a,u,m){var v=ne.p;ne.p=v!==0&&8>v?v:8;var w=L.T,E={};L.T=E,Bc(n,!1,s,a);try{var R=m(),j=L.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=iw(R,u);$o(n,s,K,zn(n))}else $o(n,s,u,zn(n))}catch(Q){$o(n,s,{then:function(){},status:"rejected",reason:Q},zn())}finally{ne.p=v,w!==null&&E.types!==null&&(w.types=E.types),L.T=w}}function uw(){}function $c(n,s,a,u){if(n.tag!==5)throw Error(r(476));var m=Xp(n).queue;Yp(n,m,s,pe,a===null?uw:function(){return Wp(n),a(u)})}function Xp(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Wp(n){var s=Xp(n);s.next===null&&(s=n.alternate.memoizedState),$o(n,s.next.queue,{},zn())}function Hc(){return Wt(ia)}function Qp(){return It().memoizedState}function Zp(){return It().memoizedState}function cw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=zn();n=cs(a);var u=ds(s,n,a);u!==null&&(Tn(u,s,a),Po(u,s,a)),s={cache:mc()},n.payload=s;return}s=s.return}}function dw(n,s,a){var u=zn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ol(n)?t0(s,a):(a=rc(n,s,a,u),a!==null&&(Tn(a,n,u),n0(a,s,u)))}function e0(n,s,a){var u=zn();$o(n,s,a,u)}function $o(n,s,a,u){var m={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ol(n))t0(s,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var w=s.lastRenderedState,E=v(w,a);if(m.hasEagerState=!0,m.eagerState=E,In(E,w))return $a(n,s,m,0),ct===null&&ja(),!1}catch{}finally{}if(a=rc(n,s,m,u),a!==null)return Tn(a,n,u),n0(a,s,u),!0}return!1}function Bc(n,s,a,u){if(u={lane:2,revertLane:_d(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ol(n)){if(s)throw Error(r(479))}else s=rc(n,a,u,2),s!==null&&Tn(s,n,2)}function ol(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function t0(n,s){Ir=Za=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function n0(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Ni(n,a)}}var Ho={readContext:Wt,use:nl,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ho.useEffectEvent=Tt;var i0={readContext:Wt,use:nl,useCallback:function(n,s){return hn().memoizedState=[n,s===void 0?null:s],n},useContext:Wt,useEffect:$p,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,sl(4194308,4,qp.bind(null,s,n),a)},useLayoutEffect:function(n,s){return sl(4194308,4,n,s)},useInsertionEffect:function(n,s){sl(4,2,n,s)},useMemo:function(n,s){var a=hn();s=s===void 0?null:s;var u=n();if(Xs){$t(!0);try{n()}finally{$t(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=hn();if(a!==void 0){var m=a(s);if(Xs){$t(!0);try{a(s)}finally{$t(!1)}}}else m=s;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=dw.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var s=hn();return n={current:n},s.memoizedState=n},useState:function(n){n=Pc(n);var s=n.queue,a=e0.bind(null,Pe,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:zc,useDeferredValue:function(n,s){var a=hn();return jc(a,n,s)},useTransition:function(){var n=Pc(!1);return n=Yp.bind(null,Pe,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=Pe,m=hn();if(Ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ct===null)throw Error(r(349));(Ge&127)!==0||Ep(u,s,a)}m.memoizedState=a;var v={value:a,getSnapshot:s};return m.queue=v,$p(Ap.bind(null,u,v,n),[n]),u.flags|=2048,Ur(9,{destroy:void 0},Tp.bind(null,u,v,a,s),null),a},useId:function(){var n=hn(),s=ct.identifierPrefix;if(Ke){var a=_i,u=bi;a=(u&~(1<<32-St(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=el++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=sw++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Hc,useFormState:Pp,useActionState:Pp,useOptimistic:function(n){var s=hn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Bc.bind(null,Pe,!0,a),a.dispatch=s,[n,s]},useMemoCache:Ic,useCacheRefresh:function(){return hn().memoizedState=cw.bind(null,Pe)},useEffectEvent:function(n){var s=hn(),a={impl:n};return s.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Vc={readContext:Wt,use:nl,useCallback:Fp,useContext:Wt,useEffect:Lc,useImperativeHandle:Gp,useInsertionEffect:Bp,useLayoutEffect:Vp,useMemo:Jp,useReducer:il,useRef:jp,useState:function(){return il(zi)},useDebugValue:zc,useDeferredValue:function(n,s){var a=It();return Kp(a,ot.memoizedState,n,s)},useTransition:function(){var n=il(zi)[0],s=It().memoizedState;return[typeof n=="boolean"?n:jo(n),s]},useSyncExternalStore:Sp,useId:Qp,useHostTransitionStatus:Hc,useFormState:Op,useActionState:Op,useOptimistic:function(n,s){var a=It();return kp(a,ot,n,s)},useMemoCache:Ic,useCacheRefresh:Zp};Vc.useEffectEvent=Hp;var s0={readContext:Wt,use:nl,useCallback:Fp,useContext:Wt,useEffect:Lc,useImperativeHandle:Gp,useInsertionEffect:Bp,useLayoutEffect:Vp,useMemo:Jp,useReducer:Uc,useRef:jp,useState:function(){return Uc(zi)},useDebugValue:zc,useDeferredValue:function(n,s){var a=It();return ot===null?jc(a,n,s):Kp(a,ot.memoizedState,n,s)},useTransition:function(){var n=Uc(zi)[0],s=It().memoizedState;return[typeof n=="boolean"?n:jo(n),s]},useSyncExternalStore:Sp,useId:Qp,useHostTransitionStatus:Hc,useFormState:zp,useActionState:zp,useOptimistic:function(n,s){var a=It();return ot!==null?kp(a,ot,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Zp};s0.useEffectEvent=Hp;function qc(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:_({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gc={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=zn(),m=cs(u);m.payload=s,a!=null&&(m.callback=a),s=ds(n,m,u),s!==null&&(Tn(s,n,u),Po(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=zn(),m=cs(u);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=ds(n,m,u),s!==null&&(Tn(s,n,u),Po(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=zn(),u=cs(a);u.tag=2,s!=null&&(u.callback=s),s=ds(n,u,a),s!==null&&(Tn(s,n,a),Po(s,n,a))}};function r0(n,s,a,u,m,v,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,v,w):s.prototype&&s.prototype.isPureReactComponent?!Co(a,u)||!Co(m,v):!0}function o0(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Gc.enqueueReplaceState(s,s.state,null)}function Ws(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=_({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function a0(n){za(n)}function l0(n){console.error(n)}function u0(n){za(n)}function al(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function c0(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Fc(n,s,a){return a=cs(a),a.tag=3,a.payload={element:null},a.callback=function(){al(n,s)},a}function d0(n){return n=cs(n),n.tag=3,n}function f0(n,s,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var v=u.value;n.payload=function(){return m(v)},n.callback=function(){c0(s,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){c0(s,a,u),typeof m!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function fw(n,s,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Ar(s,a,m,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?bl():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===Ka?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),yd(n,u,m)),!1;case 22:return a.flags|=65536,u===Ka?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),yd(n,u,m)),!1}throw Error(r(435,a.tag))}return yd(n,u,m),bl(),!1}if(Ke)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==dc&&(n=Error(r(422),{cause:u}),Ro(Fn(n,a)))):(u!==dc&&(s=Error(r(423),{cause:u}),Ro(Fn(s,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=Fn(u,a),m=Fc(n.stateNode,u,m),wc(n,m),At!==4&&(At=2)),!1;var v=Error(r(520),{cause:u});if(v=Fn(v,a),Yo===null?Yo=[v]:Yo.push(v),At!==4&&(At=2),s===null)return!0;u=Fn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=Fc(a.stateNode,u,n),wc(a,n),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ys===null||!ys.has(v))))return a.flags|=65536,m&=-m,a.lanes|=m,m=d0(m),f0(m,n,a,u),wc(a,m),!1}a=a.return}while(a!==null);return!1}var Jc=Error(r(461)),Ot=!1;function Qt(n,s,a,u){s.child=n===null?mp(s,null,a,u):Ys(s,n.child,a,u)}function h0(n,s,a,u,m){a=a.render;var v=s.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return Gs(s),u=Nc(n,s,a,w,v,m),E=kc(),n!==null&&!Ot?(Rc(n,s,m),ji(n,s,m)):(Ke&&E&&uc(s),s.flags|=1,Qt(n,s,u,m),s.child)}function p0(n,s,a,u,m){if(n===null){var v=a.type;return typeof v=="function"&&!oc(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,g0(n,s,v,u,m)):(n=Ba(a.type,null,u,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,!td(n,m)){var w=v.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(w,u)&&n.ref===s.ref)return ji(n,s,m)}return s.flags|=1,n=Di(v,u),n.ref=s.ref,n.return=s,s.child=n}function g0(n,s,a,u,m){if(n!==null){var v=n.memoizedProps;if(Co(v,u)&&n.ref===s.ref)if(Ot=!1,s.pendingProps=u=v,td(n,m))(n.flags&131072)!==0&&(Ot=!0);else return s.lanes=n.lanes,ji(n,s,m)}return Kc(n,s,a,u,m)}function m0(n,s,a,u){var m=u.children,v=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,n!==null){for(u=s.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~v}else u=0,s.child=null;return y0(n,s,v,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fa(s,v!==null?v.cachePool:null),v!==null?bp(s,v):Ec(),_p(s);else return u=s.lanes=536870912,y0(n,s,v!==null?v.baseLanes|a:a,a,u)}else v!==null?(Fa(s,v.cachePool),bp(s,v),hs(),s.memoizedState=null):(n!==null&&Fa(s,null),Ec(),hs());return Qt(n,s,m,a),s.child}function Bo(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function y0(n,s,a,u,m){var v=vc();return v=v===null?null:{parent:Ut._currentValue,pool:v},s.memoizedState={baseLanes:a,cachePool:v},n!==null&&Fa(s,null),Ec(),_p(s),n!==null&&Ar(n,s,u,!0),s.childLanes=m,null}function ll(n,s){return s=cl({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function v0(n,s,a){return Ys(s,n.child,null,a),n=ll(s,s.pendingProps),n.flags|=2,Pn(s),s.memoizedState=null,n}function hw(n,s,a){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ke){if(u.mode==="hidden")return n=ll(s,u),s.lanes=536870912,Bo(null,n);if(Ac(s),(n=ht)?(n=Rg(n,Yn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:rs!==null?{id:bi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=tp(n),a.return=s,s.child=a,Xt=s,ht=null)):n=null,n===null)throw as(s);return s.lanes=536870912,null}return ll(s,u)}var v=n.memoizedState;if(v!==null){var w=v.dehydrated;if(Ac(s),m)if(s.flags&256)s.flags&=-257,s=v0(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ot||Ar(n,s,a,!1),m=(a&n.childLanes)!==0,Ot||m){if(u=ct,u!==null&&(w=ki(u,a),w!==0&&w!==v.retryLane))throw v.retryLane=w,Hs(n,w),Tn(u,n,w),Jc;bl(),s=v0(n,s,a)}else n=v.treeContext,ht=Wn(w.nextSibling),Xt=s,Ke=!0,os=null,Yn=!1,n!==null&&sp(s,n),s=ll(s,u),s.flags|=4096;return s}return n=Di(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function ul(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Kc(n,s,a,u,m){return Gs(s),a=Nc(n,s,a,u,void 0,m),u=kc(),n!==null&&!Ot?(Rc(n,s,m),ji(n,s,m)):(Ke&&u&&uc(s),s.flags|=1,Qt(n,s,a,m),s.child)}function b0(n,s,a,u,m,v){return Gs(s),s.updateQueue=null,a=wp(s,u,a,m),xp(n),u=kc(),n!==null&&!Ot?(Rc(n,s,v),ji(n,s,v)):(Ke&&u&&uc(s),s.flags|=1,Qt(n,s,a,v),s.child)}function _0(n,s,a,u,m){if(Gs(s),s.stateNode===null){var v=wr,w=a.contextType;typeof w=="object"&&w!==null&&(v=Wt(w)),v=new a(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Gc,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},_c(s),w=a.contextType,v.context=typeof w=="object"&&w!==null?Wt(w):wr,v.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(qc(s,a,w,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Gc.enqueueReplaceState(v,v.state,null),Lo(s,u,v,m),Oo(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){v=s.stateNode;var E=s.memoizedProps,R=Ws(a,E);v.props=R;var j=v.context,K=a.contextType;w=wr,typeof K=="object"&&K!==null&&(w=Wt(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,K||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E||j!==w)&&o0(s,v,u,w),us=!1;var B=s.memoizedState;v.state=B,Lo(s,u,v,m),Oo(),j=s.memoizedState,E||B!==j||us?(typeof Q=="function"&&(qc(s,a,Q,u),j=s.memoizedState),(R=us||r0(s,a,R,u,B,j,w))?(K||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=j),v.props=u,v.state=j,v.context=w,u=R):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,xc(n,s),w=s.memoizedProps,K=Ws(a,w),v.props=K,Q=s.pendingProps,B=v.context,j=a.contextType,R=wr,typeof j=="object"&&j!==null&&(R=Wt(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==Q||B!==R)&&o0(s,v,u,R),us=!1,B=s.memoizedState,v.state=B,Lo(s,u,v,m),Oo();var q=s.memoizedState;w!==Q||B!==q||us||n!==null&&n.dependencies!==null&&qa(n.dependencies)?(typeof E=="function"&&(qc(s,a,E,u),q=s.memoizedState),(K=us||r0(s,a,K,u,B,q,R)||n!==null&&n.dependencies!==null&&qa(n.dependencies))?(j||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,q,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,q,R)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=q),v.props=u,v.state=q,v.context=R,u=K):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(s.flags|=1024),u=!1)}return v=u,ul(n,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,n!==null&&u?(s.child=Ys(s,n.child,null,m),s.child=Ys(s,null,a,m)):Qt(n,s,a,m),s.memoizedState=v.state,n=s.child):n=ji(n,s,m),n}function x0(n,s,a,u){return Vs(),s.flags|=256,Qt(n,s,a,u),s.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xc(n){return{baseLanes:n,cachePool:cp()}}function Wc(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Ln),n}function w0(n,s,a){var u=s.pendingProps,m=!1,v=(s.flags&128)!==0,w;if((w=v)||(w=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(m?fs(s):hs(),(n=ht)?(n=Rg(n,Yn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:rs!==null?{id:bi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=tp(n),a.return=s,s.child=a,Xt=s,ht=null)):n=null,n===null)throw as(s);return Dd(n)?s.lanes=32:s.lanes=536870912,null}var E=u.children;return u=u.fallback,m?(hs(),m=s.mode,E=cl({mode:"hidden",children:E},m),u=Bs(u,m,a,null),E.return=s,u.return=s,E.sibling=u,s.child=E,u=s.child,u.memoizedState=Xc(a),u.childLanes=Wc(n,w,a),s.memoizedState=Yc,Bo(null,u)):(fs(s),Qc(s,E))}var R=n.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(v)s.flags&256?(fs(s),s.flags&=-257,s=Zc(n,s,a)):s.memoizedState!==null?(hs(),s.child=n.child,s.flags|=128,s=null):(hs(),E=u.fallback,m=s.mode,u=cl({mode:"visible",children:u.children},m),E=Bs(E,m,a,null),E.flags|=2,u.return=s,E.return=s,u.sibling=E,s.child=u,Ys(s,n.child,null,a),u=s.child,u.memoizedState=Xc(a),u.childLanes=Wc(n,w,a),s.memoizedState=Yc,s=Bo(null,u));else if(fs(s),Dd(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var j=w.dgst;w=j,u=Error(r(419)),u.stack="",u.digest=w,Ro({value:u,source:null,stack:null}),s=Zc(n,s,a)}else if(Ot||Ar(n,s,a,!1),w=(a&n.childLanes)!==0,Ot||w){if(w=ct,w!==null&&(u=ki(w,a),u!==0&&u!==R.retryLane))throw R.retryLane=u,Hs(n,u),Tn(w,n,u),Jc;Id(E)||bl(),s=Zc(n,s,a)}else Id(E)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,ht=Wn(E.nextSibling),Xt=s,Ke=!0,os=null,Yn=!1,n!==null&&sp(s,n),s=Qc(s,u.children),s.flags|=4096);return s}return m?(hs(),E=u.fallback,m=s.mode,R=n.child,j=R.sibling,u=Di(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Di(j,E):(E=Bs(E,m,a,null),E.flags|=2),E.return=s,u.return=s,u.sibling=E,s.child=u,Bo(null,u),u=s.child,E=n.child.memoizedState,E===null?E=Xc(a):(m=E.cachePool,m!==null?(R=Ut._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=cp(),E={baseLanes:E.baseLanes|a,cachePool:m}),u.memoizedState=E,u.childLanes=Wc(n,w,a),s.memoizedState=Yc,Bo(n.child,u)):(fs(s),a=n.child,n=a.sibling,a=Di(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(w=s.deletions,w===null?(s.deletions=[n],s.flags|=16):w.push(n)),s.child=a,s.memoizedState=null,a)}function Qc(n,s){return s=cl({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function cl(n,s){return n=Dn(22,n,null,s),n.lanes=0,n}function Zc(n,s,a){return Ys(s,n.child,null,a),n=Qc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function S0(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),pc(n.return,s,a)}function ed(n,s,a,u,m,v){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m,treeForkCount:v}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=a,w.tailMode=m,w.treeForkCount=v)}function E0(n,s,a){var u=s.pendingProps,m=u.revealOrder,v=u.tail;u=u.children;var w=Mt.current,E=(w&2)!==0;if(E?(w=w&1|2,s.flags|=128):w&=1,re(Mt,w),Qt(n,s,u,a),u=Ke?ko:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&S0(n,a,s);else if(n.tag===19)S0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=s.child,m=null;a!==null;)n=a.alternate,n!==null&&Qa(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=s.child,s.child=null):(m=a.sibling,a.sibling=null),ed(s,!1,m,a,v,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Qa(n)===null){s.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}ed(s,!0,a,null,v,u);break;case"together":ed(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ji(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ms|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ar(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,a=Di(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Di(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function td(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&qa(n)))}function pw(n,s,a){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),ls(s,Ut,n.memoizedState.cache),Vs();break;case 27:case 5:Me(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ac(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(fs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?w0(n,s,a):(fs(s),n=ji(n,s,a),n!==null?n.sibling:null);fs(s);break;case 19:var m=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Ar(n,s,a,!1),u=(a&s.childLanes)!==0),m){if(u)return E0(n,s,a);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),re(Mt,Mt.current),u)break;return null;case 22:return s.lanes=0,m0(n,s,a,s.pendingProps);case 24:ls(s,Ut,n.memoizedState.cache)}return ji(n,s,a)}function T0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ot=!0;else{if(!td(n,a)&&(s.flags&128)===0)return Ot=!1,pw(n,s,a);Ot=(n.flags&131072)!==0}else Ot=!1,Ke&&(s.flags&1048576)!==0&&ip(s,ko,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Js(s.elementType),s.type=n,typeof n=="function")oc(n)?(u=Ws(n,u),s.tag=1,s=_0(null,s,n,u,a)):(s.tag=0,s=Kc(null,s,n,u,a));else{if(n!=null){var m=n.$$typeof;if(m===V){s.tag=11,s=h0(null,s,n,u,a);break e}else if(m===O){s.tag=14,s=p0(null,s,n,u,a);break e}}throw s=Se(n)||n,Error(r(306,s,""))}}return s;case 0:return Kc(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,m=Ws(u,s.pendingProps),_0(n,s,u,m,a);case 3:e:{if(Le(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;m=v.element,xc(n,s),Lo(s,u,null,a);var w=s.memoizedState;if(u=w.cache,ls(s,Ut,u),u!==v.cache&&gc(s,[Ut],a,!0),Oo(),u=w.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=x0(n,s,u,a);break e}else if(u!==m){m=Fn(Error(r(424)),s),Ro(m),s=x0(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Wn(n.firstChild),Xt=s,Ke=!0,os=null,Yn=!0,a=mp(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vs(),u===m){s=ji(n,s,a);break e}Qt(n,s,u,a)}s=s.child}return s;case 26:return ul(n,s),n===null?(a=Og(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ke||(a=s.type,n=s.pendingProps,u=Al(J.current).createElement(a),u[kt]=s,u[Gt]=n,Zt(u,a,n),wt(u),s.stateNode=u):s.memoizedState=Og(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Me(s),n===null&&Ke&&(u=s.stateNode=Dg(s.type,s.pendingProps,J.current),Xt=s,Yn=!0,m=ht,xs(s.type)?(Ud=m,ht=Wn(u.firstChild)):ht=m),Qt(n,s,s.pendingProps.children,a),ul(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((m=u=ht)&&(u=qw(u,s.type,s.pendingProps,Yn),u!==null?(s.stateNode=u,Xt=s,ht=Wn(u.firstChild),Yn=!1,m=!0):m=!1),m||as(s)),Me(s),m=s.type,v=s.pendingProps,w=n!==null?n.memoizedProps:null,u=v.children,kd(m,v)?u=null:w!==null&&kd(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=Nc(n,s,rw,null,null,a),ia._currentValue=m),ul(n,s),Qt(n,s,u,a),s.child;case 6:return n===null&&Ke&&((n=a=ht)&&(a=Gw(a,s.pendingProps,Yn),a!==null?(s.stateNode=a,Xt=s,ht=null,n=!0):n=!1),n||as(s)),null;case 13:return w0(n,s,a);case 4:return Le(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Ys(s,null,u,a):Qt(n,s,u,a),s.child;case 11:return h0(n,s,s.type,s.pendingProps,a);case 7:return Qt(n,s,s.pendingProps,a),s.child;case 8:return Qt(n,s,s.pendingProps.children,a),s.child;case 12:return Qt(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,ls(s,s.type,u.value),Qt(n,s,u.children,a),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,Gs(s),m=Wt(m),u=u(m),s.flags|=1,Qt(n,s,u,a),s.child;case 14:return p0(n,s,s.type,s.pendingProps,a);case 15:return g0(n,s,s.type,s.pendingProps,a);case 19:return E0(n,s,a);case 31:return hw(n,s,a);case 22:return m0(n,s,a,s.pendingProps);case 24:return Gs(s),u=Wt(Ut),n===null?(m=vc(),m===null&&(m=ct,v=mc(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=a),m=v),s.memoizedState={parent:u,cache:m},_c(s),ls(s,Ut,m)):((n.lanes&a)!==0&&(xc(n,s),Lo(s,null,null,a),Oo()),m=n.memoizedState,v=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ls(s,Ut,u)):(u=v.cache,ls(s,Ut,u),u!==m.cache&&gc(s,[Ut],a,!0))),Qt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $i(n){n.flags|=4}function nd(n,s,a,u,m){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Q0())n.flags|=8192;else throw Ks=Ka,bc}else n.flags&=-16777217}function A0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Hg(s))if(Q0())n.flags|=8192;else throw Ks=Ka,bc}function dl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?sn():536870912,n.lanes|=s,zr|=s)}function Vo(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function pt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function gw(n,s,a){var u=s.pendingProps;switch(cc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Oi(Ut),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Tr(s)?$i(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fc())),pt(s),null;case 26:var m=s.type,v=s.memoizedState;return n===null?($i(s),v!==null?(pt(s),A0(s,v)):(pt(s),nd(s,m,null,u,a))):v?v!==n.memoizedState?($i(s),pt(s),A0(s,v)):(pt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&$i(s),pt(s),nd(s,m,n,u,a)),null;case 27:if(be(s),a=J.current,m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&$i(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pt(s),null}n=Y.current,Tr(s)?rp(s):(n=Dg(m,u,a),s.stateNode=n,$i(s))}return pt(s),null;case 5:if(be(s),m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&$i(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(v=Y.current,Tr(s))rp(s);else{var w=Al(J.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}v[kt]=s,v[Gt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=v;e:switch(Zt(v,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$i(s)}}return pt(s),nd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&$i(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=J.current,Tr(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,m=Xt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[kt]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||wg(n.nodeValue,a)),n||as(s,!0)}else n=Al(n).createTextNode(u),n[kt]=s,s.stateNode=n}return pt(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(u=Tr(s),a!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[kt]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),n=!1}else a=fc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Pn(s),s):(Pn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Tr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[kt]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),m=!1}else m=fc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Pn(s),s):(Pn(s),null)}return Pn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==m&&(u.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),dl(s,s.updateQueue),pt(s),null);case 4:return oe(),n===null&&Ed(s.stateNode.containerInfo),pt(s),null;case 10:return Oi(s.type),pt(s),null;case 19:if($(Mt),u=s.memoizedState,u===null)return pt(s),null;if(m=(s.flags&128)!==0,v=u.rendering,v===null)if(m)Vo(u,!1);else{if(At!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=Qa(n),v!==null){for(s.flags|=128,Vo(u,!1),n=v.updateQueue,s.updateQueue=n,dl(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)ep(a,n),a=a.sibling;return re(Mt,Mt.current&1|2),Ke&&Ui(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&bt()>ml&&(s.flags|=128,m=!0,Vo(u,!1),s.lanes=4194304)}else{if(!m)if(n=Qa(v),n!==null){if(s.flags|=128,m=!0,n=n.updateQueue,s.updateQueue=n,dl(s,n),Vo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Ke)return pt(s),null}else 2*bt()-u.renderingStartTime>ml&&a!==536870912&&(s.flags|=128,m=!0,Vo(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(n=u.last,n!==null?n.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=bt(),n.sibling=null,a=Mt.current,re(Mt,m?a&1|2:a&1),Ke&&Ui(s,u.treeForkCount),n):(pt(s),null);case 22:case 23:return Pn(s),Tc(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),a=s.updateQueue,a!==null&&dl(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&$(Fs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Oi(Ut),pt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mw(n,s){switch(cc(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Oi(Ut),oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return be(s),null;case 31:if(s.memoizedState!==null){if(Pn(s),s.alternate===null)throw Error(r(340));Vs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Pn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Vs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(Mt),null;case 4:return oe(),null;case 10:return Oi(s.type),null;case 22:case 23:return Pn(s),Tc(),n!==null&&$(Fs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Oi(Ut),null;case 25:return null;default:return null}}function C0(n,s){switch(cc(s),s.tag){case 3:Oi(Ut),oe();break;case 26:case 27:case 5:be(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&Pn(s);break;case 13:Pn(s);break;case 19:$(Mt);break;case 10:Oi(s.type);break;case 22:case 23:Pn(s),Tc(),n!==null&&$(Fs);break;case 24:Oi(Ut)}}function qo(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&n)===n){u=void 0;var v=a.create,w=a.inst;u=v(),w.destroy=u}a=a.next}while(a!==m)}}catch(E){st(s,s.return,E)}}function ps(n,s,a){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&n)===n){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,m=s;var R=a,j=E;try{j()}catch(K){st(m,R,K)}}}u=u.next}while(u!==v)}}catch(K){st(s,s.return,K)}}function N0(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{vp(s,a)}catch(u){st(n,n.return,u)}}}function k0(n,s,a){a.props=Ws(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){st(n,s,u)}}function Go(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(m){st(n,s,m)}}function xi(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){st(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){st(n,s,m)}else a.current=null}function R0(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){st(n,n.return,m)}}function id(n,s,a){try{var u=n.stateNode;zw(u,n.type,a,s),u[Gt]=s}catch(m){st(n,n.return,m)}}function M0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&xs(n.type)||n.tag===4}function sd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||M0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&xs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rd(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=qn));else if(u!==4&&(u===27&&xs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(rd(n,s,a),n=n.sibling;n!==null;)rd(n,s,a),n=n.sibling}function fl(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&xs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(fl(n,s,a),n=n.sibling;n!==null;)fl(n,s,a),n=n.sibling}function I0(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Zt(s,u,a),s[kt]=n,s[Gt]=a}catch(v){st(n,n.return,v)}}var Hi=!1,Lt=!1,od=!1,D0=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function yw(n,s){if(n=n.containerInfo,Cd=Dl,n=Gh(n),Zu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var w=0,E=-1,R=-1,j=0,K=0,Q=n,B=null;t:for(;;){for(var q;Q!==a||m!==0&&Q.nodeType!==3||(E=w+m),Q!==v||u!==0&&Q.nodeType!==3||(R=w+u),Q.nodeType===3&&(w+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===n)break t;if(B===a&&++j===m&&(E=w),B===v&&++K===u&&(R=w),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:n,selectionRange:a},Dl=!1,Jt=s;Jt!==null;)if(s=Jt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Jt=n;else for(;Jt!==null;){switch(s=Jt,v=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,a=s,m=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var xe=Ws(a.type,m);n=u.getSnapshotBeforeUpdate(xe,v),u.__reactInternalSnapshotBeforeUpdate=n}catch(ke){st(a,a.return,ke)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Md(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Md(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Jt=n;break}Jt=s.return}}function U0(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(n,a),u&4&&qo(5,a);break;case 1:if(Vi(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(w){st(a,a.return,w)}else{var m=Ws(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(w){st(a,a.return,w)}}u&64&&N0(a),u&512&&Go(a,a.return);break;case 3:if(Vi(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{vp(n,s)}catch(w){st(a,a.return,w)}}break;case 27:s===null&&u&4&&I0(a);case 26:case 5:Vi(n,a),s===null&&u&4&&R0(a),u&512&&Go(a,a.return);break;case 12:Vi(n,a);break;case 31:Vi(n,a),u&4&&L0(n,a);break;case 13:Vi(n,a),u&4&&z0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Aw.bind(null,a),Fw(n,a))));break;case 22:if(u=a.memoizedState!==null||Hi,!u){s=s!==null&&s.memoizedState!==null||Lt,m=Hi;var v=Lt;Hi=u,(Lt=s)&&!v?qi(n,a,(a.subtreeFlags&8772)!==0):Vi(n,a),Hi=m,Lt=v}break;case 30:break;default:Vi(n,a)}}function P0(n){var s=n.alternate;s!==null&&(n.alternate=null,P0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&He(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,xn=!1;function Bi(n,s,a){for(a=a.child;a!==null;)O0(n,s,a),a=a.sibling}function O0(n,s,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(vn,a)}catch{}switch(a.tag){case 26:Lt||xi(a,s),Bi(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||xi(a,s);var u=yt,m=xn;xs(a.type)&&(yt=a.stateNode,xn=!1),Bi(n,s,a),ea(a.stateNode),yt=u,xn=m;break;case 5:Lt||xi(a,s);case 6:if(u=yt,m=xn,yt=null,Bi(n,s,a),yt=u,xn=m,yt!==null)if(xn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(v){st(a,s,v)}else try{yt.removeChild(a.stateNode)}catch(v){st(a,s,v)}break;case 18:yt!==null&&(xn?(n=yt,Ng(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Fr(n)):Ng(yt,a.stateNode));break;case 4:u=yt,m=xn,yt=a.stateNode.containerInfo,xn=!0,Bi(n,s,a),yt=u,xn=m;break;case 0:case 11:case 14:case 15:ps(2,a,s),Lt||ps(4,a,s),Bi(n,s,a);break;case 1:Lt||(xi(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&k0(a,s,u)),Bi(n,s,a);break;case 21:Bi(n,s,a);break;case 22:Lt=(u=Lt)||a.memoizedState!==null,Bi(n,s,a),Lt=u;break;default:Bi(n,s,a)}}function L0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Fr(n)}catch(a){st(s,s.return,a)}}}function z0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fr(n)}catch(a){st(s,s.return,a)}}function vw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new D0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new D0),s;default:throw Error(r(435,n.tag))}}function hl(n,s){var a=vw(n);s.forEach(function(u){if(!a.has(u)){a.add(u);var m=Cw.bind(null,n,u);u.then(m,m)}})}function wn(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],v=n,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){yt=E.stateNode,xn=!1;break e}break;case 5:yt=E.stateNode,xn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,xn=!0;break e}E=E.return}if(yt===null)throw Error(r(160));O0(v,w,m),yt=null,xn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)j0(s,n),s=s.sibling}var li=null;function j0(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:wn(s,n),Sn(n),u&4&&(ps(3,n,n.return),qo(3,n),ps(5,n,n.return));break;case 1:wn(s,n),Sn(n),u&512&&(Lt||a===null||xi(a,a.return)),u&64&&Hi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=li;if(wn(s,n),Sn(n),u&512&&(Lt||a===null||xi(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Z]||v[kt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(u),m.head.insertBefore(v,m.querySelector("head > title"))),Zt(v,u,a),v[kt]=n,wt(v),u=v;break e;case"link":var w=jg("link","href",m).get(u+(a.href||""));if(w){for(var E=0;E<w.length;E++)if(v=w[E],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(E,1);break t}}v=m.createElement(u),Zt(v,u,a),m.head.appendChild(v);break;case"meta":if(w=jg("meta","content",m).get(u+(a.content||""))){for(E=0;E<w.length;E++)if(v=w[E],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(E,1);break t}}v=m.createElement(u),Zt(v,u,a),m.head.appendChild(v);break;default:throw Error(r(468,u))}v[kt]=n,wt(v),u=v}n.stateNode=u}else $g(m,n.type,n.stateNode);else n.stateNode=zg(m,u,n.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?$g(m,n.type,n.stateNode):zg(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&id(n,n.memoizedProps,a.memoizedProps)}break;case 27:wn(s,n),Sn(n),u&512&&(Lt||a===null||xi(a,a.return)),a!==null&&u&4&&id(n,n.memoizedProps,a.memoizedProps);break;case 5:if(wn(s,n),Sn(n),u&512&&(Lt||a===null||xi(a,a.return)),n.flags&32){m=n.stateNode;try{Et(m,"")}catch(xe){st(n,n.return,xe)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,id(n,m,a!==null?a.memoizedProps:m)),u&1024&&(od=!0);break;case 6:if(wn(s,n),Sn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(xe){st(n,n.return,xe)}}break;case 3:if(kl=null,m=li,li=Cl(s.containerInfo),wn(s,n),li=m,Sn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Fr(s.containerInfo)}catch(xe){st(n,n.return,xe)}od&&(od=!1,$0(n));break;case 4:u=li,li=Cl(n.stateNode.containerInfo),wn(s,n),Sn(n),li=u;break;case 12:wn(s,n),Sn(n);break;case 31:wn(s,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hl(n,u)));break;case 13:wn(s,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gl=bt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hl(n,u)));break;case 22:m=n.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=Hi,K=Lt;if(Hi=j||m,Lt=K||R,wn(s,n),Lt=K,Hi=j,Sn(n),u&8192)e:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(a===null||R||Hi||Lt||Qs(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(v=R.stateNode,m)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(xe){st(R,R.return,xe)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(xe){st(R,R.return,xe)}}}else if(s.tag===18){if(a===null){R=s;try{var q=R.stateNode;m?kg(q,!0):kg(R.stateNode,!1)}catch(xe){st(R,R.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,hl(n,a))));break;case 19:wn(s,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,hl(n,u)));break;case 30:break;case 21:break;default:wn(s,n),Sn(n)}}function Sn(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(M0(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var m=a.stateNode,v=sd(n);fl(n,v,m);break;case 5:var w=a.stateNode;a.flags&32&&(Et(w,""),a.flags&=-33);var E=sd(n);fl(n,E,w);break;case 3:case 4:var R=a.stateNode.containerInfo,j=sd(n);rd(n,j,R);break;default:throw Error(r(161))}}catch(K){st(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function $0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;$0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Vi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)U0(n,s.alternate,s),s=s.sibling}function Qs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Qs(s);break;case 1:xi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&k0(s,s.return,a),Qs(s);break;case 27:ea(s.stateNode);case 26:case 5:xi(s,s.return),Qs(s);break;case 22:s.memoizedState===null&&Qs(s);break;case 30:Qs(s);break;default:Qs(s)}n=n.sibling}}function qi(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=n,v=s,w=v.flags;switch(v.tag){case 0:case 11:case 15:qi(m,v,a),qo(4,v);break;case 1:if(qi(m,v,a),u=v,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(j){st(u,u.return,j)}if(u=v,m=u.updateQueue,m!==null){var E=u.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)yp(R[m],E)}catch(j){st(u,u.return,j)}}a&&w&64&&N0(v),Go(v,v.return);break;case 27:I0(v);case 26:case 5:qi(m,v,a),a&&u===null&&w&4&&R0(v),Go(v,v.return);break;case 12:qi(m,v,a);break;case 31:qi(m,v,a),a&&w&4&&L0(m,v);break;case 13:qi(m,v,a),a&&w&4&&z0(m,v);break;case 22:v.memoizedState===null&&qi(m,v,a),Go(v,v.return);break;case 30:break;default:qi(m,v,a)}s=s.sibling}}function ad(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Mo(a))}function ld(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Mo(n))}function ui(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)H0(n,s,a,u),s=s.sibling}function H0(n,s,a,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ui(n,s,a,u),m&2048&&qo(9,s);break;case 1:ui(n,s,a,u);break;case 3:ui(n,s,a,u),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Mo(n)));break;case 12:if(m&2048){ui(n,s,a,u),n=s.stateNode;try{var v=s.memoizedProps,w=v.id,E=v.onPostCommit;typeof E=="function"&&E(w,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){st(s,s.return,R)}}else ui(n,s,a,u);break;case 31:ui(n,s,a,u);break;case 13:ui(n,s,a,u);break;case 23:break;case 22:v=s.stateNode,w=s.alternate,s.memoizedState!==null?v._visibility&2?ui(n,s,a,u):Fo(n,s):v._visibility&2?ui(n,s,a,u):(v._visibility|=2,Pr(n,s,a,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&ad(w,s);break;case 24:ui(n,s,a,u),m&2048&&ld(s.alternate,s);break;default:ui(n,s,a,u)}}function Pr(n,s,a,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=n,w=s,E=a,R=u,j=w.flags;switch(w.tag){case 0:case 11:case 15:Pr(v,w,E,R,m),qo(8,w);break;case 23:break;case 22:var K=w.stateNode;w.memoizedState!==null?K._visibility&2?Pr(v,w,E,R,m):Fo(v,w):(K._visibility|=2,Pr(v,w,E,R,m)),m&&j&2048&&ad(w.alternate,w);break;case 24:Pr(v,w,E,R,m),m&&j&2048&&ld(w.alternate,w);break;default:Pr(v,w,E,R,m)}s=s.sibling}}function Fo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,m=u.flags;switch(u.tag){case 22:Fo(a,u),m&2048&&ad(u.alternate,u);break;case 24:Fo(a,u),m&2048&&ld(u.alternate,u);break;default:Fo(a,u)}s=s.sibling}}var Jo=8192;function Or(n,s,a){if(n.subtreeFlags&Jo)for(n=n.child;n!==null;)B0(n,s,a),n=n.sibling}function B0(n,s,a){switch(n.tag){case 26:Or(n,s,a),n.flags&Jo&&n.memoizedState!==null&&sS(a,li,n.memoizedState,n.memoizedProps);break;case 5:Or(n,s,a);break;case 3:case 4:var u=li;li=Cl(n.stateNode.containerInfo),Or(n,s,a),li=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Jo,Jo=16777216,Or(n,s,a),Jo=u):Or(n,s,a));break;default:Or(n,s,a)}}function V0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ko(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Jt=u,G0(u,n)}V0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q0(n),n=n.sibling}function q0(n){switch(n.tag){case 0:case 11:case 15:Ko(n),n.flags&2048&&ps(9,n,n.return);break;case 3:Ko(n);break;case 12:Ko(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,pl(n)):Ko(n);break;default:Ko(n)}}function pl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Jt=u,G0(u,n)}V0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ps(8,s,s.return),pl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,pl(s));break;default:pl(s)}n=n.sibling}}function G0(n,s){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:ps(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Mo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Jt=u;else e:for(a=n;Jt!==null;){u=Jt;var m=u.sibling,v=u.return;if(P0(u),u===a){Jt=null;break e}if(m!==null){m.return=v,Jt=m;break e}Jt=v}}}var bw={getCacheForType:function(n){var s=Wt(Ut),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return Wt(Ut).controller.signal}},_w=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,Be=null,Ge=0,it=0,On=null,gs=!1,Lr=!1,ud=!1,Gi=0,At=0,ms=0,Zs=0,cd=0,Ln=0,zr=0,Yo=null,En=null,dd=!1,gl=0,F0=0,ml=1/0,yl=null,ys=null,Vt=0,vs=null,jr=null,Fi=0,fd=0,hd=null,J0=null,Xo=0,pd=null;function zn(){return(tt&2)!==0&&Ge!==0?Ge&-Ge:L.T!==null?_d():dr()}function K0(){if(Ln===0)if((Ge&536870912)===0||Ke){var n=ue;ue<<=1,(ue&3932160)===0&&(ue=262144),Ln=n}else Ln=536870912;return n=Un.current,n!==null&&(n.flags|=32),Ln}function Tn(n,s,a){(n===ct&&(it===2||it===9)||n.cancelPendingCommit!==null)&&($r(n,0),bs(n,Ge,Ln,!1)),Dt(n,a),((tt&2)===0||n!==ct)&&(n===ct&&((tt&2)===0&&(Zs|=a),At===4&&bs(n,Ge,Ln,!1)),wi(n))}function Y0(n,s,a){if((tt&6)!==0)throw Error(r(327));var u=!a&&(s&127)===0&&(s&n.expiredLanes)===0||xt(n,s),m=u?Sw(n,s):md(n,s,!0),v=u;do{if(m===0){Lr&&!u&&bs(n,s,0,!1);break}else{if(a=n.current.alternate,v&&!xw(a)){m=md(n,s,!1),v=!1;continue}if(m===2){if(v=s,n.errorRecoveryDisabledLanes&v)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var E=n;m=Yo;var R=E.current.memoizedState.isDehydrated;if(R&&($r(E,w).flags|=256),w=md(E,w,!1),w!==2){if(ud&&!R){E.errorRecoveryDisabledLanes|=v,Zs|=v,m=4;break e}v=En,En=m,v!==null&&(En===null?En=v:En.push.apply(En,v))}m=w}if(v=!1,m!==2)continue}}if(m===1){$r(n,0),bs(n,s,0,!0);break}e:{switch(u=n,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:bs(u,s,Ln,!gs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=gl+300-bt(),10<m)){if(bs(u,s,Ln,!gs),ft(u,0,!0)!==0)break e;Fi=s,u.timeoutHandle=Ag(X0.bind(null,u,a,En,yl,dd,s,Ln,Zs,zr,gs,v,"Throttled",-0,0),m);break e}X0(u,a,En,yl,dd,s,Ln,Zs,zr,gs,v,null,-0,0)}}break}while(!0);wi(n)}function X0(n,s,a,u,m,v,w,E,R,j,K,Q,B,q){if(n.timeoutHandle=-1,Q=s.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},B0(s,v,Q);var xe=(v&62914560)===v?gl-bt():(v&4194048)===v?F0-bt():0;if(xe=rS(Q,xe),xe!==null){Fi=v,n.cancelPendingCommit=xe(sg.bind(null,n,s,v,a,u,m,w,E,R,K,Q,null,B,q)),bs(n,v,w,!j);return}}sg(n,s,v,a,u,m,w,E,R)}function xw(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],v=m.getSnapshot;m=m.value;try{if(!In(v(),m))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bs(n,s,a,u){s&=~cd,s&=~Zs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var m=s;0<m;){var v=31-St(m),w=1<<v;u[v]=-1,m&=~w}a!==0&&ri(n,a,s)}function vl(){return(tt&6)===0?(Wo(0),!1):!0}function gd(){if(Be!==null){if(it===0)var n=Be.return;else n=Be,Pi=qs=null,Mc(n),Rr=null,Do=0,n=Be;for(;n!==null;)C0(n.alternate,n),n=n.return;Be=null}}function $r(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Hw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fi=0,gd(),ct=n,Be=a=Di(n.current,null),Ge=s,it=0,On=null,gs=!1,Lr=xt(n,s),ud=!1,zr=Ln=cd=Zs=ms=At=0,En=Yo=null,dd=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var m=31-St(u),v=1<<m;s|=n[m],u&=~v}return Gi=s,ja(),a}function W0(n,s){Pe=null,L.H=Ho,s===kr||s===Ja?(s=hp(),it=3):s===bc?(s=hp(),it=4):it=s===Jc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,On=s,Be===null&&(At=1,al(n,Fn(s,n.current)))}function Q0(){var n=Un.current;return n===null?!0:(Ge&4194048)===Ge?Xn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?n===Xn:!1}function Z0(){var n=L.H;return L.H=Ho,n===null?Ho:n}function eg(){var n=L.A;return L.A=bw,n}function bl(){At=4,gs||(Ge&4194048)!==Ge&&Un.current!==null||(Lr=!0),(ms&134217727)===0&&(Zs&134217727)===0||ct===null||bs(ct,Ge,Ln,!1)}function md(n,s,a){var u=tt;tt|=2;var m=Z0(),v=eg();(ct!==n||Ge!==s)&&(yl=null,$r(n,s)),s=!1;var w=At;e:do try{if(it!==0&&Be!==null){var E=Be,R=On;switch(it){case 8:gd(),w=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var j=it;if(it=0,On=null,Hr(n,E,R,j),a&&Lr){w=0;break e}break;default:j=it,it=0,On=null,Hr(n,E,R,j)}}ww(),w=At;break}catch(K){W0(n,K)}while(!0);return s&&n.shellSuspendCounter++,Pi=qs=null,tt=u,L.H=m,L.A=v,Be===null&&(ct=null,Ge=0,ja()),w}function ww(){for(;Be!==null;)tg(Be)}function Sw(n,s){var a=tt;tt|=2;var u=Z0(),m=eg();ct!==n||Ge!==s?(yl=null,ml=bt()+500,$r(n,s)):Lr=xt(n,s);e:do try{if(it!==0&&Be!==null){s=Be;var v=On;t:switch(it){case 1:it=0,On=null,Hr(n,s,v,1);break;case 2:case 9:if(dp(v)){it=0,On=null,ng(s);break}s=function(){it!==2&&it!==9||ct!==n||(it=7),wi(n)},v.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:dp(v)?(it=0,On=null,ng(s)):(it=0,On=null,Hr(n,s,v,7));break;case 5:var w=null;switch(Be.tag){case 26:w=Be.memoizedState;case 5:case 27:var E=Be;if(w?Hg(w):E.stateNode.complete){it=0,On=null;var R=E.sibling;if(R!==null)Be=R;else{var j=E.return;j!==null?(Be=j,_l(j)):Be=null}break t}}it=0,On=null,Hr(n,s,v,5);break;case 6:it=0,On=null,Hr(n,s,v,6);break;case 8:gd(),At=6;break e;default:throw Error(r(462))}}Ew();break}catch(K){W0(n,K)}while(!0);return Pi=qs=null,L.H=u,L.A=m,tt=a,Be!==null?0:(ct=null,Ge=0,ja(),At)}function Ew(){for(;Be!==null&&!Yt();)tg(Be)}function tg(n){var s=T0(n.alternate,n,Gi);n.memoizedProps=n.pendingProps,s===null?_l(n):Be=s}function ng(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=b0(a,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=b0(a,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:Mc(s);default:C0(a,s),s=Be=ep(s,Gi),s=T0(a,s,Gi)}n.memoizedProps=n.pendingProps,s===null?_l(n):Be=s}function Hr(n,s,a,u){Pi=qs=null,Mc(s),Rr=null,Do=0;var m=s.return;try{if(fw(n,m,s,a,Ge)){At=1,al(n,Fn(a,n.current)),Be=null;return}}catch(v){if(m!==null)throw Be=m,v;At=1,al(n,Fn(a,n.current)),Be=null;return}s.flags&32768?(Ke||u===1?n=!0:Lr||(Ge&536870912)!==0?n=!1:(gs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),ig(s,n)):_l(s)}function _l(n){var s=n;do{if((s.flags&32768)!==0){ig(s,gs);return}n=s.return;var a=gw(s.alternate,s,Gi);if(a!==null){Be=a;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=n}while(s!==null);At===0&&(At=5)}function ig(n,s){do{var a=mw(n.alternate,n);if(a!==null){a.flags&=32767,Be=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Be=n;return}Be=n=a}while(n!==null);At=6,Be=null}function sg(n,s,a,u,m,v,w,E,R){n.cancelPendingCommit=null;do xl();while(Vt!==0);if((tt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=sc,cn(n,a,v,w,E,R),n===ct&&(Be=ct=null,Ge=0),jr=s,vs=n,Fi=a,fd=v,hd=m,J0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Nw(qt,function(){return ug(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,m=ne.p,ne.p=2,w=tt,tt|=4;try{yw(n,s,a)}finally{tt=w,ne.p=m,L.T=u}}Vt=1,rg(),og(),ag()}}function rg(){if(Vt===1){Vt=0;var n=vs,s=jr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var u=ne.p;ne.p=2;var m=tt;tt|=4;try{j0(s,n);var v=Nd,w=Gh(n.containerInfo),E=v.focusedElem,R=v.selectionRange;if(w!==E&&E&&E.ownerDocument&&qh(E.ownerDocument.documentElement,E)){if(R!==null&&Zu(E)){var j=R.start,K=R.end;if(K===void 0&&(K=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(K,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),xe=E.textContent.length,ke=Math.min(R.start,xe),lt=R.end===void 0?ke:Math.min(R.end,xe);!q.extend&&ke>lt&&(w=lt,lt=ke,ke=w);var P=Vh(E,ke),D=Vh(E,lt);if(P&&D&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var z=Q.createRange();z.setStart(P.node,P.offset),q.removeAllRanges(),ke>lt?(q.addRange(z),q.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),q.addRange(z))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var W=Q[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Dl=!!Cd,Nd=Cd=null}finally{tt=m,ne.p=u,L.T=a}}n.current=s,Vt=2}}function og(){if(Vt===2){Vt=0;var n=vs,s=jr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var u=ne.p;ne.p=2;var m=tt;tt|=4;try{U0(n,s.alternate,s)}finally{tt=m,ne.p=u,L.T=a}}Vt=3}}function ag(){if(Vt===4||Vt===3){Vt=0,Rn();var n=vs,s=jr,a=Fi,u=J0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Vt=5:(Vt=0,jr=vs=null,lg(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ys=null),Ds(a),s=s.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(vn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,m=ne.p,ne.p=2,L.T=null;try{for(var v=n.onRecoverableError,w=0;w<u.length;w++){var E=u[w];v(E.value,{componentStack:E.stack})}}finally{L.T=s,ne.p=m}}(Fi&3)!==0&&xl(),wi(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===pd?Xo++:(Xo=0,pd=n):Xo=0,Wo(0)}}function lg(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Mo(s)))}function xl(){return rg(),og(),ag(),ug()}function ug(){if(Vt!==5)return!1;var n=vs,s=fd;fd=0;var a=Ds(Fi),u=L.T,m=ne.p;try{ne.p=32>a?32:a,L.T=null,a=hd,hd=null;var v=vs,w=Fi;if(Vt=0,jr=vs=null,Fi=0,(tt&6)!==0)throw Error(r(331));var E=tt;if(tt|=4,q0(v.current),H0(v,v.current,w,a),tt=E,Wo(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(vn,v)}catch{}return!0}finally{ne.p=m,L.T=u,lg(n,s)}}function cg(n,s,a){s=Fn(a,s),s=Fc(n.stateNode,s,2),n=ds(n,s,2),n!==null&&(Dt(n,2),wi(n))}function st(n,s,a){if(n.tag===3)cg(n,n,a);else for(;s!==null;){if(s.tag===3){cg(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ys===null||!ys.has(u))){n=Fn(a,n),a=d0(2),u=ds(s,a,2),u!==null&&(f0(a,u,s,n),Dt(u,2),wi(u));break}}s=s.return}}function yd(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new _w;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(a)||(ud=!0,m.add(a),n=Tw.bind(null,n,s,a),s.then(n,n))}function Tw(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ct===n&&(Ge&a)===a&&(At===4||At===3&&(Ge&62914560)===Ge&&300>bt()-gl?(tt&2)===0&&$r(n,0):cd|=a,zr===Ge&&(zr=0)),wi(n)}function dg(n,s){s===0&&(s=sn()),n=Hs(n,s),n!==null&&(Dt(n,s),wi(n))}function Aw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),dg(n,a)}function Cw(n,s){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),dg(n,a)}function Nw(n,s){return Nt(n,s)}var wl=null,Br=null,vd=!1,Sl=!1,bd=!1,_s=0;function wi(n){n!==Br&&n.next===null&&(Br===null?wl=Br=n:Br=Br.next=n),Sl=!0,vd||(vd=!0,Rw())}function Wo(n,s){if(!bd&&Sl){bd=!0;do for(var a=!1,u=wl;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var v=0;else{var w=u.suspendedLanes,E=u.pingedLanes;v=(1<<31-St(42|n)+1)-1,v&=m&~(w&~E),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,gg(u,v))}else v=Ge,v=ft(u,u===ct?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||xt(u,v)||(a=!0,gg(u,v));u=u.next}while(a);bd=!1}}function kw(){fg()}function fg(){Sl=vd=!1;var n=0;_s!==0&&$w()&&(n=_s);for(var s=bt(),a=null,u=wl;u!==null;){var m=u.next,v=hg(u,s);v===0?(u.next=null,a===null?wl=m:a.next=m,m===null&&(Br=a)):(a=u,(n!==0||(v&3)!==0)&&(Sl=!0)),u=m}Vt!==0&&Vt!==5||Wo(n),_s!==0&&(_s=0)}function hg(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var w=31-St(v),E=1<<w,R=m[w];R===-1?((E&a)===0||(E&u)!==0)&&(m[w]=nn(E,s)):R<=s&&(n.expiredLanes|=E),v&=~E}if(s=ct,a=Ge,a=ft(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(it===2||it===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&mn(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||xt(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&mn(u),Ds(a)){case 2:case 8:a=yn;break;case 32:a=qt;break;case 268435456:a=ni;break;default:a=qt}return u=pg.bind(null,n),a=Nt(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&mn(u),n.callbackPriority=2,n.callbackNode=null,2}function pg(n,s){if(Vt!==0&&Vt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(xl()&&n.callbackNode!==a)return null;var u=Ge;return u=ft(n,n===ct?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Y0(n,u,s),hg(n,bt()),n.callbackNode!=null&&n.callbackNode===a?pg.bind(null,n):null)}function gg(n,s){if(xl())return null;Y0(n,s,!0)}function Rw(){Bw(function(){(tt&6)!==0?Nt(Mn,kw):fg()})}function _d(){if(_s===0){var n=Cr;n===0&&(n=Ht,Ht<<=1,(Ht&261888)===0&&(Ht=256)),_s=n}return _s}function mg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Vn(""+n)}function yg(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function Mw(n,s,a,u,m){if(s==="submit"&&a&&a.stateNode===m){var v=mg((m[Gt]||null).action),w=u.submitter;w&&(s=(s=w[Gt]||null)?mg(s.formAction):w.getAttribute("formAction"),s!==null&&(v=s,w=null));var E=new Pa("action","action",null,u,m);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_s!==0){var R=w?yg(m,w):new FormData(m);$c(a,{pending:!0,data:R,method:m.method,action:v},null,R)}}else typeof v=="function"&&(E.preventDefault(),R=w?yg(m,w):new FormData(m),$c(a,{pending:!0,data:R,method:m.method,action:v},v,R))},currentTarget:m}]})}}for(var xd=0;xd<ic.length;xd++){var wd=ic[xd],Iw=wd.toLowerCase(),Dw=wd[0].toUpperCase()+wd.slice(1);ai(Iw,"on"+Dw)}ai(Kh,"onAnimationEnd"),ai(Yh,"onAnimationIteration"),ai(Xh,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Yx,"onTransitionRun"),ai(Xx,"onTransitionStart"),ai(Wx,"onTransitionCancel"),ai(Wh,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function vg(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],m=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var w=u.length-1;0<=w;w--){var E=u[w],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==v&&m.isPropagationStopped())break e;v=E,m.currentTarget=j;try{v(m)}catch(K){za(K)}m.currentTarget=null,v=R}else for(w=0;w<u.length;w++){if(E=u[w],R=E.instance,j=E.currentTarget,E=E.listener,R!==v&&m.isPropagationStopped())break e;v=E,m.currentTarget=j;try{v(m)}catch(K){za(K)}m.currentTarget=null,v=R}}}}function Ve(n,s){var a=s[Ps];a===void 0&&(a=s[Ps]=new Set);var u=n+"__bubble";a.has(u)||(bg(s,n,2,!1),a.add(u))}function Sd(n,s,a){var u=0;s&&(u|=4),bg(a,n,u,s)}var El="_reactListening"+Math.random().toString(36).slice(2);function Ed(n){if(!n[El]){n[El]=!0,hr.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||Sd(a,!1,n),Sd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[El]||(s[El]=!0,Sd("selectionchange",!1,s))}}function bg(n,s,a,u){switch(Kg(s)){case 2:var m=lS;break;case 8:m=uS;break;default:m=jd}a=m.bind(null,s,a,n),m=void 0,!qu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(s,a,{capture:!0,passive:m}):n.addEventListener(s,a,!0):m!==void 0?n.addEventListener(s,a,{passive:m}):n.addEventListener(s,a,!1)}function Td(n,s,a,u,m){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===m)break;if(w===4)for(w=u.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;E!==null;){if(w=Rt(E),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){u=v=w;continue e}E=E.parentNode}}u=u.return}Eh(function(){var j=v,K=Bu(a),Q=[];e:{var B=Qh.get(n);if(B!==void 0){var q=Pa,xe=n;switch(n){case"keypress":if(Da(a)===0)break e;case"keydown":case"keyup":q=Cx;break;case"focusin":xe="focus",q=Ku;break;case"focusout":xe="blur",q=Ku;break;case"beforeblur":case"afterblur":q=Ku;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Rx;break;case Kh:case Yh:case Xh:q=vx;break;case Wh:q=Ix;break;case"scroll":case"scrollend":q=hx;break;case"wheel":q=Ux;break;case"copy":case"cut":case"paste":q=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=kh;break;case"toggle":case"beforetoggle":q=Ox}var ke=(s&4)!==0,lt=!ke&&(n==="scroll"||n==="scrollend"),P=ke?B!==null?B+"Capture":null:B;ke=[];for(var D=j,z;D!==null;){var W=D;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||P===null||(W=_o(D,P),W!=null&&ke.push(Zo(D,W,z))),lt)break;D=D.return}0<ke.length&&(B=new q(B,xe,null,a,K),Q.push({event:B,listeners:ke}))}}if((s&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&a!==Hu&&(xe=a.relatedTarget||a.fromElement)&&(Rt(xe)||xe[yi]))break e;if((q||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,q?(xe=a.relatedTarget||a.toElement,q=j,xe=xe?Rt(xe):null,xe!==null&&(lt=l(xe),ke=xe.tag,xe!==lt||ke!==5&&ke!==27&&ke!==6)&&(xe=null)):(q=null,xe=j),q!==xe)){if(ke=Ch,W="onMouseLeave",P="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ke=kh,W="onPointerLeave",P="onPointerEnter",D="pointer"),lt=q==null?B:dn(q),z=xe==null?B:dn(xe),B=new ke(W,D+"leave",q,a,K),B.target=lt,B.relatedTarget=z,W=null,Rt(K)===j&&(ke=new ke(P,D+"enter",xe,a,K),ke.target=z,ke.relatedTarget=lt,W=ke),lt=W,q&&xe)t:{for(ke=Pw,P=q,D=xe,z=0,W=P;W;W=ke(W))z++;W=0;for(var Ce=D;Ce;Ce=ke(Ce))W++;for(;0<z-W;)P=ke(P),z--;for(;0<W-z;)D=ke(D),W--;for(;z--;){if(P===D||D!==null&&P===D.alternate){ke=P;break t}P=ke(P),D=ke(D)}ke=null}else ke=null;q!==null&&_g(Q,B,q,ke,!1),xe!==null&&lt!==null&&_g(Q,lt,xe,ke,!0)}}e:{if(B=j?dn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Qe=Lh;else if(Ph(B))if(zh)Qe=Fx;else{Qe=qx;var we=Vx}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&is(j.elementType)&&(Qe=Lh):Qe=Gx;if(Qe&&(Qe=Qe(n,j))){Oh(Q,Qe,a,K);break e}we&&we(n,B,j),n==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&on(B,"number",B.value)}switch(we=j?dn(j):window,n){case"focusin":(Ph(we)||we.contentEditable==="true")&&(br=we,ec=j,No=null);break;case"focusout":No=ec=br=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Fh(Q,a,K);break;case"selectionchange":if(Kx)break;case"keydown":case"keyup":Fh(Q,a,K)}var ze;if(Xu)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else vr?Dh(n,a)&&(Fe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Rh&&a.locale!=="ko"&&(vr||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&vr&&(ze=Th()):(ss=K,Gu="value"in ss?ss.value:ss.textContent,vr=!0)),we=Tl(j,Fe),0<we.length&&(Fe=new Nh(Fe,n,null,a,K),Q.push({event:Fe,listeners:we}),ze?Fe.data=ze:(ze=Uh(a),ze!==null&&(Fe.data=ze)))),(ze=zx?jx(n,a):$x(n,a))&&(Fe=Tl(j,"onBeforeInput"),0<Fe.length&&(we=new Nh("onBeforeInput","beforeinput",null,a,K),Q.push({event:we,listeners:Fe}),we.data=ze)),Mw(Q,n,j,a,K)}vg(Q,s)})}function Zo(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Tl(n,s){for(var a=s+"Capture",u=[];n!==null;){var m=n,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=_o(n,a),m!=null&&u.unshift(Zo(n,m,v)),m=_o(n,s),m!=null&&u.push(Zo(n,m,v))),n.tag===3)return u;n=n.return}return[]}function Pw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _g(n,s,a,u,m){for(var v=s._reactName,w=[];a!==null&&a!==u;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===u)break;E!==5&&E!==26&&E!==27||j===null||(R=j,m?(j=_o(a,v),j!=null&&w.unshift(Zo(a,j,R))):m||(j=_o(a,v),j!=null&&w.push(Zo(a,j,R)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var Ow=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function xg(n){return(typeof n=="string"?n:""+n).replace(Ow,`
`).replace(Lw,"")}function wg(n,s){return s=xg(s),xg(n)===s}function at(n,s,a,u,m,v){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Et(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Et(n,""+u);break;case"className":gr(n,"class",u);break;case"tabIndex":gr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(n,a,u);break;case"style":fn(n,u,v);break;case"data":if(s!=="object"){gr(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Vn(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&at(n,s,"name",m.name,m,null),at(n,s,"formEncType",m.formEncType,m,null),at(n,s,"formMethod",m.formMethod,m,null),at(n,s,"formTarget",m.formTarget,m,null)):(at(n,s,"encType",m.encType,m,null),at(n,s,"method",m.method,m,null),at(n,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Vn(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=qn);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Vn(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),pr(n,"popover",u);break;case"xlinkActuate":oi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":oi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":oi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":oi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":oi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":oi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":oi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":oi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":oi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,pr(n,a,u))}}function Ad(n,s,a,u,m,v){switch(a){case"style":fn(n,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Et(n,u):(typeof u=="number"||typeof u=="bigint")&&Et(n,""+u);break;case"onScroll":u!=null&&Ve("scroll",n);break;case"onScrollEnd":u!=null&&Ve("scrollend",n);break;case"onClick":u!=null&&(n.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),s=a.slice(2,m?a.length-7:void 0),v=n[Gt]||null,v=v!=null?v[a]:null,typeof v=="function"&&n.removeEventListener(s,v,m),typeof u=="function")){typeof v!="function"&&v!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,m);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):pr(n,a,u)}}}function Zt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var u=!1,m=!1,v;for(v in a)if(a.hasOwnProperty(v)){var w=a[v];if(w!=null)switch(v){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(n,s,v,w,a,null)}}m&&at(n,s,"srcSet",a.srcSet,a,null),u&&at(n,s,"src",a.src,a,null);return;case"input":Ve("invalid",n);var E=v=w=m=null,R=null,j=null;for(u in a)if(a.hasOwnProperty(u)){var K=a[u];if(K!=null)switch(u){case"name":m=K;break;case"type":w=K;break;case"checked":R=K;break;case"defaultChecked":j=K;break;case"value":v=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:at(n,s,u,K,a,null)}}je(n,v,E,R,j,w,m,!1);return;case"select":Ve("invalid",n),u=w=v=null;for(m in a)if(a.hasOwnProperty(m)&&(E=a[m],E!=null))switch(m){case"value":v=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:at(n,s,m,E,a,null)}s=v,a=w,n.multiple=!!u,s!=null?nt(n,!!u,s,!1):a!=null&&nt(n,!!u,a,!0);return;case"textarea":Ve("invalid",n),v=m=u=null;for(w in a)if(a.hasOwnProperty(w)&&(E=a[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":m=E;break;case"children":v=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:at(n,s,w,E,a,null)}Bt(n,u,m,v);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(u=a[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:at(n,s,R,u,a,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(u=0;u<Qo.length;u++)Ve(Qo[u],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(u=a[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(n,s,j,u,a,null)}return;default:if(is(s)){for(K in a)a.hasOwnProperty(K)&&(u=a[K],u!==void 0&&Ad(n,s,K,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&at(n,s,E,u,a,null))}function zw(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,w=null,E=null,R=null,j=null,K=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:u.hasOwnProperty(q)||at(n,s,q,null,u,Q)}}for(var B in u){var q=u[B];if(Q=a[B],u.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":v=q;break;case"name":m=q;break;case"checked":j=q;break;case"defaultChecked":K=q;break;case"value":w=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==Q&&at(n,s,B,q,u,Q)}}le(n,w,E,R,j,K,v,m);return;case"select":q=w=E=B=null;for(v in a)if(R=a[v],a.hasOwnProperty(v)&&R!=null)switch(v){case"value":break;case"multiple":q=R;default:u.hasOwnProperty(v)||at(n,s,v,null,u,R)}for(m in u)if(v=u[m],R=a[m],u.hasOwnProperty(m)&&(v!=null||R!=null))switch(m){case"value":B=v;break;case"defaultValue":E=v;break;case"multiple":w=v;default:v!==R&&at(n,s,m,v,u,R)}s=E,a=w,u=q,B!=null?nt(n,!!a,B,!1):!!u!=!!a&&(s!=null?nt(n,!!a,s,!0):nt(n,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(m=a[E],a.hasOwnProperty(E)&&m!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(n,s,E,null,u,m)}for(w in u)if(m=u[w],v=a[w],u.hasOwnProperty(w)&&(m!=null||v!=null))switch(w){case"value":B=m;break;case"defaultValue":q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&at(n,s,w,m,u,v)}mt(n,B,q);return;case"option":for(var xe in a)if(B=a[xe],a.hasOwnProperty(xe)&&B!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:at(n,s,xe,null,u,B)}for(R in u)if(B=u[R],q=a[R],u.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:at(n,s,R,B,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in a)B=a[ke],a.hasOwnProperty(ke)&&B!=null&&!u.hasOwnProperty(ke)&&at(n,s,ke,null,u,B);for(j in u)if(B=u[j],q=a[j],u.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,s));break;default:at(n,s,j,B,u,q)}return;default:if(is(s)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!u.hasOwnProperty(lt)&&Ad(n,s,lt,void 0,u,B);for(K in u)B=u[K],q=a[K],!u.hasOwnProperty(K)||B===q||B===void 0&&q===void 0||Ad(n,s,K,B,u,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!u.hasOwnProperty(P)&&at(n,s,P,null,u,B);for(Q in u)B=u[Q],q=a[Q],!u.hasOwnProperty(Q)||B===q||B==null&&q==null||at(n,s,Q,B,u,q)}function Sg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var m=a[u],v=m.transferSize,w=m.initiatorType,E=m.duration;if(v&&E&&Sg(w)){for(w=0,E=m.responseEnd,u+=1;u<a.length;u++){var R=a[u],j=R.startTime;if(j>E)break;var K=R.transferSize,Q=R.initiatorType;K&&Sg(Q)&&(R=R.responseEnd,w+=K*(R<E?1:(E-j)/(R-j)))}if(--u,s+=8*(v+w)/(m.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Cd=null,Nd=null;function Al(n){return n.nodeType===9?n:n.ownerDocument}function Eg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tg(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function kd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rd=null;function $w(){var n=window.event;return n&&n.type==="popstate"?n===Rd?!1:(Rd=n,!0):(Rd=null,!1)}var Ag=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,Cg=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Cg<"u"?function(n){return Cg.resolve(null).then(n).catch(Vw)}:Ag;function Vw(n){setTimeout(function(){throw n})}function xs(n){return n==="head"}function Ng(n,s){var a=s,u=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(m),Fr(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ea(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,ea(a);for(var v=a.firstChild;v;){var w=v.nextSibling,E=v.nodeName;v[Z]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}else a==="body"&&ea(n.ownerDocument.body);a=m}while(a);Fr(s)}function kg(n,s){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function Md(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),He(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qw(n,s,a,u){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Z])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=Wn(n.nextSibling),n===null)break}return null}function Gw(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Wn(n.nextSibling),n===null))return null;return n}function Rg(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Wn(n.nextSibling),n===null))return null;return n}function Id(n){return n.data==="$?"||n.data==="$~"}function Dd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Fw(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Wn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Ud=null;function Mg(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return Wn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Ig(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function Dg(n,s,a){switch(s=Al(a),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ea(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);He(n)}var Qn=new Map,Ug=new Set;function Cl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ji=ne.d;ne.d={f:Jw,r:Kw,D:Yw,C:Xw,L:Ww,m:Qw,X:eS,S:Zw,M:tS};function Jw(){var n=Ji.f(),s=vl();return n||s}function Kw(n){var s=Ft(n);s!==null&&s.tag===5&&s.type==="form"?Wp(s):Ji.r(n)}var Vr=typeof document>"u"?null:document;function Pg(n,s,a){var u=Vr;if(u&&typeof s=="string"&&s){var m=ee(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),Ug.has(m)||(Ug.add(m),n={rel:n,crossOrigin:a,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Zt(s,"link",n),wt(s),u.head.appendChild(s)))}}function Yw(n){Ji.D(n),Pg("dns-prefetch",n,null)}function Xw(n,s){Ji.C(n,s),Pg("preconnect",n,s)}function Ww(n,s,a){Ji.L(n,s,a);var u=Vr;if(u&&n&&s){var m='link[rel="preload"][as="'+ee(s)+'"]';s==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+ee(a.imageSizes)+'"]')):m+='[href="'+ee(n)+'"]';var v=m;switch(s){case"style":v=qr(n);break;case"script":v=Gr(n)}Qn.has(v)||(n=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Qn.set(v,n),u.querySelector(m)!==null||s==="style"&&u.querySelector(ta(v))||s==="script"&&u.querySelector(na(v))||(s=u.createElement("link"),Zt(s,"link",n),wt(s),u.head.appendChild(s)))}}function Qw(n,s){Ji.m(n,s);var a=Vr;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+ee(u)+'"][href="'+ee(n)+'"]',v=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Gr(n)}if(!Qn.has(v)&&(n=_({rel:"modulepreload",href:n},s),Qn.set(v,n),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(na(v)))return}u=a.createElement("link"),Zt(u,"link",n),wt(u),a.head.appendChild(u)}}}function Zw(n,s,a){Ji.S(n,s,a);var u=Vr;if(u&&n){var m=rn(u).hoistableStyles,v=qr(n);s=s||"default";var w=m.get(v);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(ta(v)))E.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Qn.get(v))&&Pd(n,a);var R=w=u.createElement("link");wt(R),Zt(R,"link",n),R._p=new Promise(function(j,K){R.onload=j,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nl(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:E},m.set(v,w)}}}function eS(n,s){Ji.X(n,s);var a=Vr;if(a&&n){var u=rn(a).hoistableScripts,m=Gr(n),v=u.get(m);v||(v=a.querySelector(na(m)),v||(n=_({src:n,async:!0},s),(s=Qn.get(m))&&Od(n,s),v=a.createElement("script"),wt(v),Zt(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function tS(n,s){Ji.M(n,s);var a=Vr;if(a&&n){var u=rn(a).hoistableScripts,m=Gr(n),v=u.get(m);v||(v=a.querySelector(na(m)),v||(n=_({src:n,async:!0,type:"module"},s),(s=Qn.get(m))&&Od(n,s),v=a.createElement("script"),wt(v),Zt(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(m,v))}}function Og(n,s,a,u){var m=(m=J.current)?Cl(m):null;if(!m)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=qr(a.href),a=rn(m).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=qr(a.href);var v=rn(m).hoistableStyles,w=v.get(n);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,w),(v=m.querySelector(ta(n)))&&!v._p&&(w.instance=v,w.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),v||nS(m,n,a,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Gr(a),a=rn(m).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function qr(n){return'href="'+ee(n)+'"'}function ta(n){return'link[rel="stylesheet"]['+n+"]"}function Lg(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function nS(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Zt(s,"link",a),wt(s),n.head.appendChild(s))}function Gr(n){return'[src="'+ee(n)+'"]'}function na(n){return"script[async]"+n}function zg(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+ee(a.href)+'"]');if(u)return s.instance=u,wt(u),u;var m=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),wt(u),Zt(u,"style",m),Nl(u,a.precedence,n),s.instance=u;case"stylesheet":m=qr(a.href);var v=n.querySelector(ta(m));if(v)return s.state.loading|=4,s.instance=v,wt(v),v;u=Lg(a),(m=Qn.get(m))&&Pd(u,m),v=(n.ownerDocument||n).createElement("link"),wt(v);var w=v;return w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Zt(v,"link",u),s.state.loading|=4,Nl(v,a.precedence,n),s.instance=v;case"script":return v=Gr(a.src),(m=n.querySelector(na(v)))?(s.instance=m,wt(m),m):(u=a,(m=Qn.get(v))&&(u=_({},a),Od(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),wt(m),Zt(m,"link",u),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nl(u,a.precedence,n));return s.instance}function Nl(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,v=m,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===s)v=E;else if(v!==m)break}v?v.parentNode.insertBefore(n,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Pd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Od(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kl=null;function jg(n,s,a){if(kl===null){var u=new Map,m=kl=new Map;m.set(a,u)}else m=kl,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var v=a[m];if(!(v[Z]||v[kt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(s)||"";w=n+w;var E=u.get(w);E?E.push(v):u.set(w,[v])}}return u}function $g(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function iS(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Hg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function sS(n,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=qr(u.href),v=s.querySelector(ta(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Rl.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=v,wt(v);return}v=s.ownerDocument||s,u=Lg(u),(m=Qn.get(m))&&Pd(u,m),v=v.createElement("link"),wt(v);var w=v;w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Zt(v,"link",u),a.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Rl.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var Ld=0;function rS(n,s){return n.stylesheets&&n.count===0&&Il(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Il(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+s);0<n.imgBytes&&Ld===0&&(Ld=62500*jw());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Il(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>Ld?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Rl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Il(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ml=null;function Il(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ml=new Map,s.forEach(oS,n),Ml=null,Rl.call(n))}function oS(n,s){if(!(s.state.loading&4)){var a=Ml.get(n);if(a)var u=a.get(null);else{a=new Map,Ml.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var w=m[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}m=s.instance,w=m.getAttribute("data-precedence"),v=a.get(w)||u,v===u&&a.set(null,m),a.set(w,m),this.count++,u=Rl.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),v?v.parentNode.insertBefore(m,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var ia={$$typeof:M,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aS(n,s,a,u,m,v,w,E,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Bg(n,s,a,u,m,v,w,E,R,j,K,Q){return n=new aS(n,s,a,w,R,j,K,Q,E),s=1,v===!0&&(s|=24),v=Dn(3,null,null,s),n.current=v,v.stateNode=n,s=mc(),s.refCount++,n.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:s},_c(v),n}function Vg(n){return n?(n=wr,n):wr}function qg(n,s,a,u,m,v){m=Vg(m),u.context===null?u.context=m:u.pendingContext=m,u=cs(s),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=ds(n,u,s),a!==null&&(Tn(a,n,s),Po(a,n,s))}function Gg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function zd(n,s){Gg(n,s),(n=n.alternate)&&Gg(n,s)}function Fg(n){if(n.tag===13||n.tag===31){var s=Hs(n,67108864);s!==null&&Tn(s,n,67108864),zd(n,67108864)}}function Jg(n){if(n.tag===13||n.tag===31){var s=zn();s=Is(s);var a=Hs(n,s);a!==null&&Tn(a,n,s),zd(n,s)}}var Dl=!0;function lS(n,s,a,u){var m=L.T;L.T=null;var v=ne.p;try{ne.p=2,jd(n,s,a,u)}finally{ne.p=v,L.T=m}}function uS(n,s,a,u){var m=L.T;L.T=null;var v=ne.p;try{ne.p=8,jd(n,s,a,u)}finally{ne.p=v,L.T=m}}function jd(n,s,a,u){if(Dl){var m=$d(u);if(m===null)Td(n,s,u,Ul,a),Yg(n,u);else if(dS(m,n,s,a,u))u.stopPropagation();else if(Yg(n,u),s&4&&-1<cS.indexOf(n)){for(;m!==null;){var v=Ft(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=ut(v.pendingLanes);if(w!==0){var E=v;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var R=1<<31-St(w);E.entanglements[1]|=R,w&=~R}wi(v),(tt&6)===0&&(ml=bt()+500,Wo(0))}}break;case 31:case 13:E=Hs(v,2),E!==null&&Tn(E,v,2),vl(),zd(v,2)}if(v=$d(u),v===null&&Td(n,s,u,Ul,a),v===m)break;m=v}m!==null&&u.stopPropagation()}else Td(n,s,u,null,a)}}function $d(n){return n=Bu(n),Hd(n)}var Ul=null;function Hd(n){if(Ul=null,n=Rt(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=f(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Ul=n,null}function Kg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case Mn:return 2;case yn:return 8;case qt:case ti:return 32;case ni:return 268435456;default:return 32}default:return 32}}var Bd=!1,ws=null,Ss=null,Es=null,sa=new Map,ra=new Map,Ts=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(n,s){switch(n){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":sa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(s.pointerId)}}function oa(n,s,a,u,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[m]},s!==null&&(s=Ft(s),s!==null&&Fg(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function dS(n,s,a,u,m){switch(s){case"focusin":return ws=oa(ws,n,s,a,u,m),!0;case"dragenter":return Ss=oa(Ss,n,s,a,u,m),!0;case"mouseover":return Es=oa(Es,n,s,a,u,m),!0;case"pointerover":var v=m.pointerId;return sa.set(v,oa(sa.get(v)||null,n,s,a,u,m)),!0;case"gotpointercapture":return v=m.pointerId,ra.set(v,oa(ra.get(v)||null,n,s,a,u,m)),!0}return!1}function Xg(n){var s=Rt(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,Us(n.priority,function(){Jg(a)});return}}else if(s===31){if(s=f(a),s!==null){n.blockedOn=s,Us(n.priority,function(){Jg(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=$d(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Hu=u,a.target.dispatchEvent(u),Hu=null}else return s=Ft(a),s!==null&&Fg(s),n.blockedOn=a,!1;s.shift()}return!0}function Wg(n,s,a){Pl(n)&&a.delete(s)}function fS(){Bd=!1,ws!==null&&Pl(ws)&&(ws=null),Ss!==null&&Pl(Ss)&&(Ss=null),Es!==null&&Pl(Es)&&(Es=null),sa.forEach(Wg),ra.forEach(Wg)}function Ol(n,s){n.blockedOn===s&&(n.blockedOn=null,Bd||(Bd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fS)))}var Ll=null;function Qg(n){Ll!==n&&(Ll=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ll===n&&(Ll=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],m=n[s+2];if(typeof u!="function"){if(Hd(u||a)===null)continue;break}var v=Ft(a);v!==null&&(n.splice(s,3),s-=3,$c(v,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function Fr(n){function s(R){return Ol(R,n)}ws!==null&&Ol(ws,n),Ss!==null&&Ol(Ss,n),Es!==null&&Ol(Es,n),sa.forEach(s),ra.forEach(s);for(var a=0;a<Ts.length;a++){var u=Ts[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ts.length&&(a=Ts[0],a.blockedOn===null);)Xg(a),a.blockedOn===null&&Ts.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],v=a[u+1],w=m[Gt]||null;if(typeof v=="function")w||Qg(a);else if(w){var E=null;if(v&&v.hasAttribute("formAction")){if(m=v,w=v[Gt]||null)E=w.formAction;else if(Hd(m)!==null)continue}else E=w.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),Qg(a)}}}function Zg(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Vd(n){this._internalRoot=n}zl.prototype.render=Vd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=zn();qg(a,u,n,s,null,null)},zl.prototype.unmount=Vd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;qg(n.current,2,null,n,null,null),vl(),s[yi]=null}};function zl(n){this._internalRoot=n}zl.prototype.unstable_scheduleHydration=function(n){if(n){var s=dr();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ts.length&&s!==0&&s<Ts[a].priority;a++);Ts.splice(a,0,n),a===0&&Xg(n)}};var em=e.version;if(em!=="19.2.3")throw Error(r(527,em,"19.2.3"));ne.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?b(n):null,n=n===null?null:n.stateNode,n};var hS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{vn=jl.inject(hS),_t=jl}catch{}}return la.createRoot=function(n,s){if(!o(n))throw Error(r(299));var a=!1,u="",m=a0,v=l0,w=u0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=Bg(n,1,!1,null,null,a,u,null,m,v,w,Zg),n[yi]=s.current,Ed(n),new Vd(s)},la.hydrateRoot=function(n,s,a){if(!o(n))throw Error(r(299));var u=!1,m="",v=a0,w=l0,E=u0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),s=Bg(n,1,!0,s,a??null,u,m,R,v,w,E,Zg),s.context=Vg(null),a=s.current,u=zn(),u=Is(u),m=cs(u),m.callback=null,ds(a,m,u),a=u,s.current.lanes=a,Dt(s,a),wi(s),n[yi]=s.current,Ed(n),new zl(s)},la.version="19.2.3",la}var cm;function ES(){if(cm)return Fd.exports;cm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fd.exports=SS(),Fd.exports}var TS=ES();const AS=Jf(TS);var Ye=(t=>(t.DASHBOARD="dashboard",t.CALENDAR="calendar",t.NEWS="news",t.LISTS="lists",t.MEALS="meals",t.ACTIVITIES="activities",t.SETTINGS="settings",t.WEATHER="weather",t))(Ye||{});/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),dm=t=>{const e=NS(t);return e.charAt(0).toUpperCase()+e.slice(1)},jv=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),kS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=H.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...f},g)=>H.createElement("svg",{ref:g,...RS,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:jv("lucide",o),...!l&&!kS(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,b])=>H.createElement(p,b)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const i=H.forwardRef(({className:r,...o},l)=>H.createElement(MS,{ref:l,iconNode:e,className:jv(`lucide-${CS(dm(t))}`,`lucide-${t}`,r),...o}));return i.displayName=dm(t),i};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ff=de("arrow-left",IS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],fm=de("arrow-right-left",DS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PS=de("arrow-right",US);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],LS=de("book-open",OS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M12.127 22H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v5.125",key:"vxdnp4"}],["path",{d:"M14.62 18.8A2.25 2.25 0 1 1 18 15.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z",key:"15cy7q"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],jS=de("calendar-heart",zS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hf=de("calendar",$S);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pf=de("camera",HS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hm=de("check",BS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],qS=de("chef-hat",VS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FS=de("chevron-down",GS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pm=de("chevron-left",JS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rs=de("chevron-right",KS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XS=de("chevron-up",YS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QS=de("circle-check-big",WS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gm=de("circle-check",ZS);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mm=de("circle",eE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],$v=de("clipboard-list",tE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hv=de("clock",nE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]],Yf=de("cloud-fog",iE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],Xf=de("cloud-lightning",sE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],Wf=de("cloud-snow",rE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],ya=de("cloud-rain",oE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],lE=de("cloud-sun",aE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Qf=de("cloud",uE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],dE=de("coffee",cE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],hE=de("cookie",fE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gE=de("download",pE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],gf=de("droplets",mE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Bv=de("external-link",yE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ym=de("eye-off",vE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ou=de("eye",bE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xE=de("file-text",_E);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],SE=de("flag",wE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],TE=de("gauge",EE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],CE=de("gift",AE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kE=de("globe",NE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],ME=de("grip-horizontal",RE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],DE=de("hash",IE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vv=de("house",UE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],vm=de("inbox",PE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qv=de("info",OE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],zE=de("key-round",LE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],bm=de("link",jE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wi=de("loader-circle",$E);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gv=de("lock",HE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VE=de("log-out",BE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],GE=de("mail",qE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]],JE=de("map-pin-off",FE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],eo=de("map-pin",KE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M7.828 13.07A3 3 0 0 1 12 8.764a3 3 0 0 1 5.004 2.224 3 3 0 0 1-.832 2.083l-3.447 3.62a1 1 0 0 1-1.45-.001z",key:"hoo97p"}]],XE=de("message-circle-heart",YE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_m=de("message-square",WE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Tu=de("moon",QE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],au=de("navigation",ZE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],t1=de("panels-top-left",e1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],i1=de("pen-line",n1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fv=de("pen",s1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lu=de("plus",r1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],a1=de("refresh-ccw",o1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],u1=de("rotate-ccw",l1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jv=de("save",c1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ur=de("search",d1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],h1=de("send",f1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g1=de("settings",p1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],y1=de("shield-alert",m1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],b1=de("shopping-cart",v1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Kv=de("snowflake",_1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],w1=de("sparkles",x1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],E1=de("square-pen",S1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],va=de("star",T1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],C1=de("store",A1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ei=de("sun",N1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],R1=de("sunrise",k1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],I1=de("sunset",M1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],U1=de("text-align-start",D1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Yv=de("thermometer",P1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ao=de("trash-2",O1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],z1=de("tree-pine",L1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$1=de("triangle-alert",j1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M12 13v7a2 2 0 0 0 4 0",key:"rpgb42"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M20.992 13a1 1 0 0 0 .97-1.274 10.284 10.284 0 0 0-19.923 0A1 1 0 0 0 3 13z",key:"124nyo"}]],B1=de("umbrella",H1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],q1=de("user-plus",V1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xv=de("user",G1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],J1=de("users",F1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Zf=de("utensils",K1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],xm=de("wand-sparkles",Y1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],W1=de("wind",X1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nn=de("x",Q1);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eT=de("zap",Z1),Oe=(t,e)=>{const i=t.split(".");let r=tT[e];for(const o of i){if(r[o]===void 0)return t;r=r[o]}return r},tT={de:{nav:{dashboard:"Home",weather:"Wetter",calendar:"Kalender",meals:"Essen",lists:"Listen"},dashboard:{greeting:"Hallo",good_day:"Einen schnen Tag.",weather_details:"DETAILS",shopping_list:"Einkaufsliste",all_done:"Alles erledigt",items_open:"offen",meal_plan:"Heute essen",nothing_planned:"Nichts geplant",my_tasks:"Meine Aufgaben",tasks_open:"Aufgaben offen",all_tasks_done:"Alles erledigt! ",appointments_today:"Termine heute",all:"Alle",no_appointments:"Keine Termine fr heute.",location_error:"Standort?",loading:"Lade..."},settings:{title:"Einstellungen",profile:"MEIN PROFIL",display_name:"Anzeigename",change_password:"Passwort ndern",new_password:"Neues Passwort",your_color:"DEINE FARBE",generate_avatar:"KI-Avatar generieren",app_settings:"APP EINSTELLUNGEN",dark_mode:"Dunkelmodus",notifications:"Benachrichtigungen",notifications_desc:"Fr Aufgaben und Termine",language:"Sprache",family_management:"FAMILIENVERWALTUNG",set_temp_pass:"Passwort setzen",set_pass_confirm:"Neues Passwort fr {name} setzen:",reset_success:"Gespeichert",info_help:"INFO & HILFE",about:"ber die App",feedback:"Feedback geben",save:"Speichern",logout:"Abmelden",logout_confirm_title:"Abmelden?",logout_confirm_text:"Mchtest du dich wirklich abmelden?",cancel:"Abbrechen",confirm:"Besttigen",only_parents:"Nur fr Eltern sichtbar"},login:{welcome:"Willkommen zuhause.",hello:"Hallo",enter_pass:"Bitte Passwort eingeben",create_pass:"Erstelle ein Passwort",pass_placeholder:"Passwort",new_pass_placeholder:"Neues Passwort",wrong_pass:"Falsches Passwort",login_btn:"Anmelden",set_pass_btn:"Passwort festlegen"},header:{logged_in_as:"Angemeldet als"}},en:{nav:{dashboard:"Home",weather:"Weather",calendar:"Calendar",meals:"Meals",lists:"Lists"},dashboard:{greeting:"Hello",good_day:"Have a wonderful day.",weather_details:"DETAILS",shopping_list:"Shopping List",all_done:"All clear",items_open:"items",meal_plan:"On the Menu",nothing_planned:"Nothing planned",my_tasks:"My Tasks",tasks_open:"pending",all_tasks_done:"All done! ",appointments_today:"Today's Schedule",all:"View All",no_appointments:"No appointments for today.",location_error:"Location?",loading:"Loading..."},settings:{title:"Settings",profile:"MY PROFILE",display_name:"Display Name",change_password:"Change Password",new_password:"New Password",your_color:"THEME COLOR",generate_avatar:"Generate AI Avatar",app_settings:"APP SETTINGS",dark_mode:"Dark Mode",notifications:"Notifications",notifications_desc:"For tasks and events",language:"Language",family_management:"FAMILY MANAGEMENT",set_temp_pass:"Set Password",set_pass_confirm:"Set new password for {name}:",reset_success:"Saved",info_help:"INFO & HELP",about:"About",feedback:"Send Feedback",save:"Save Changes",logout:"Sign Out",logout_confirm_title:"Sign Out?",logout_confirm_text:"Are you sure you want to sign out?",cancel:"Cancel",confirm:"Confirm",only_parents:"Visible to parents only"},login:{welcome:"Welcome home.",hello:"Hello",enter_pass:"Please enter your password",create_pass:"Create a password",pass_placeholder:"Password",new_pass_placeholder:"New Password",wrong_pass:"Incorrect password",login_btn:"Sign In",set_pass_btn:"Set Password"},header:{logged_in_as:"Signed in as"}}},nT=Sa.memo(({currentRoute:t,onNavigate:e,lang:i,christmasMode:r,liquidGlass:o})=>{const l=t===Ye.WEATHER,c=H.useRef(null),[f,g]=H.useState(null),p=[{route:Ye.DASHBOARD,icon:r?z1:Vv,label:Oe("nav.dashboard",i)},{route:Ye.WEATHER,icon:r?Kv:lE,label:Oe("nav.weather",i)},{route:Ye.CALENDAR,icon:r?jS:hf,label:Oe("nav.calendar",i)},{route:Ye.MEALS,icon:r?hE:Zf,label:Oe("nav.meals",i)},{route:Ye.LISTS,icon:r?CE:$v,label:Oe("nav.lists",i)}],b=()=>o?"liquid-shimmer-card pb-[env(safe-area-inset-bottom)]":l?"bg-black/20 backdrop-blur-lg border-t border-white/10 pb-[env(safe-area-inset-bottom)]":"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 pb-[env(safe-area-inset-bottom)]",_=p.findIndex(G=>G.route===t),x=100/p.length,S=G=>{if(!o)return;G.preventDefault(),G.stopPropagation(),G.currentTarget.setPointerCapture(G.pointerId),g(_*x)},T=G=>{if(!o||f===null||!c.current)return;G.preventDefault(),G.stopPropagation();const X=c.current.getBoundingClientRect(),O=G.clientX-X.left,se=X.width/p.length;let ye=(O-se/2)/X.width*100;const ve=100-x;ye=Math.max(0,Math.min(ve,ye)),g(ye)},C=G=>{if(!o||f===null)return;G.preventDefault(),G.stopPropagation(),G.currentTarget.releasePointerCapture(G.pointerId);const X=Math.round(f/x),O=Math.max(0,Math.min(p.length-1,X)),se=p[O];se&&se.route!==t&&e(se.route),g(null)},A=()=>o?"bg-white/40 dark:bg-white/20 backdrop-blur-xl shadow-lg border border-white/40 dark:border-white/10":"",N=f!==null?f:_!==-1?_*x:0,U=o&&(_!==-1||f!==null),M=f!==null?"transition-none":"transition-all duration-500 cubic-bezier(0.23, 1, 0.32, 1)",V=f!==null?"scale-[1.02] shadow-xl cursor-grabbing":"scale-100 cursor-grab";return y.jsxs("nav",{ref:c,className:`fixed bottom-0 left-0 right-0 px-2 pt-2 pb-safe flex justify-around items-center z-50 transition-all duration-500 ${b()}`,children:[U&&y.jsx("div",{className:`absolute top-1 bottom-[calc(env(safe-area-inset-bottom)+0.25rem)] rounded-2xl z-0 will-change-transform ${M}`,style:{left:`${N}%`,width:`${x}%`},children:y.jsx("div",{className:`h-full rounded-2xl mx-0.5 w-[calc(100%-4px)] transition-transform duration-200 ${V} ${A()}`,children:f===null&&y.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-1 rounded-full bg-white/40 dark:bg-white/10"})})}),U&&y.jsx("div",{className:`absolute top-1 bottom-[calc(env(safe-area-inset-bottom)+0.25rem)] z-20 touch-none ${M}`,style:{left:`${N}%`,width:`${x}%`},onPointerDown:S,onPointerMove:T,onPointerUp:C,onPointerCancel:C}),p.map(G=>{const X=t===G.route;let O="";l&&!o?O=X?"text-white drop-shadow-md":"text-white/60 hover:text-white drop-shadow-sm":r?O=X?"text-red-600 dark:text-red-500 drop-shadow-sm":"text-green-800/70 dark:text-green-400/60 hover:text-green-700 dark:hover:text-green-300":o?O=X?"text-slate-900 dark:text-white font-extrabold drop-shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300":O=X?"text-blue-600 dark:text-blue-400 scale-105":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300";const se=X&&o?"scale-110 -translate-y-1":"scale-100";return y.jsxs("button",{onClick:()=>e(G.route),className:`flex flex-col items-center justify-center w-full space-y-1 transition-all duration-300 z-10 pb-[env(safe-area-inset-bottom)] group ${O}`,style:{width:`${x}%`},children:[y.jsx("div",{className:`relative transition-transform duration-300 ${se} ${X&&o?"drop-shadow-md":""} pointer-events-none`,children:y.jsx(G.icon,{size:24,strokeWidth:X?2.5:2,className:l&&!o?"filter drop-shadow-sm":""})}),y.jsx("span",{className:`text-[10px] font-medium truncate w-full text-center drop-shadow-sm transition-all duration-300 pointer-events-none ${X&&o?"opacity-100 translate-y-0":"opacity-100"}`,children:G.label})]},G.route)})]})}),uu=({className:t="",size:e=40})=>y.jsxs("svg",{width:e,height:e,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",className:t,children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"logo_grad_sunset",x1:"0",y1:"0",x2:"1",y2:"1",children:[y.jsx("stop",{offset:"0%",stopColor:"#f59e0b"})," ",y.jsx("stop",{offset:"50%",stopColor:"#ec4899"})," ",y.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})," "]})}),y.jsx("path",{fill:"url(#logo_grad_sunset)",fillRule:"evenodd",d:`
          M256 80
          L80 240
          V432
          C80 449.6 94.4 464 112 464
          H400
          C417.6 464 432 449.6 432 432
          V240
          L256 80
          Z
          M256 380
          C256 380 346 325 346 270
          C346 240 321 220 291 220
          C274 220 263 230 256 240
          C249 230 238 220 221 220
          C191 220 166 240 166 270
          C166 325 256 380 256 380
          Z
        `})]}),Ea=({title:t,currentUser:e,onProfileClick:i,liquidGlass:r})=>y.jsxs("header",{className:`sticky top-0 z-40 px-4 py-4 flex justify-between items-center transition-all duration-500 border-b shadow-sm ${r?"bg-white/30 dark:bg-black/20 backdrop-blur-2xl border-white/20":"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-gray-100 dark:border-gray-800"}`,children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:r?"drop-shadow-md":"",children:y.jsx(uu,{size:32})}),y.jsx("h1",{className:`text-xl font-bold tracking-tight ${r?"text-slate-800 dark:text-white drop-shadow-sm":"text-gray-800 dark:text-white"}`,children:t})]}),y.jsx("div",{className:"flex items-center space-x-3",children:e&&y.jsx("button",{onClick:i,className:"flex items-center space-x-2 focus:outline-none group ml-1",children:y.jsxs("div",{className:"relative transition-transform duration-300 active:scale-95",children:[y.jsx("img",{src:e.avatar,alt:e.name,className:`w-9 h-9 rounded-full border-2 shadow-sm object-cover transition-all ${r?"border-white/50 dark:border-white/20":"border-white dark:border-gray-700 group-hover:ring-2 group-hover:ring-blue-200 dark:group-hover:ring-blue-800"}`}),y.jsx("div",{className:`absolute -bottom-1 -right-1 rounded-full p-0.5 shadow-sm border backdrop-blur-sm ${r?"bg-white/80 dark:bg-black/80 border-white/20":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}`,children:y.jsx(g1,{size:10,className:r?"text-slate-500 dark:text-slate-300":"text-gray-400 dark:text-gray-300"})})]})})})]}),eh=async(t,e)=>{try{const i=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,precipitation,weather_code,cloud_cover,surface_pressure,wind_speed_10m,visibility&hourly=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,uv_index_max,precipitation_probability_max&timezone=auto`);if(!i.ok)throw new Error("Weather fetch failed");return await i.json()}catch(i){return console.error("Weather fetch error:",i),null}},iT=async t=>{try{const i=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(t)}&count=1&language=de&format=json`)).json();if(i.results&&i.results.length>0){const r=i.results[0];return{lat:r.latitude,lng:r.longitude,name:`${r.name}${r.admin1?", "+r.admin1:""}`}}return null}catch(e){return console.error("Geocoding error:",e),null}},th=t=>t===0?"Klar":t===1?"Leicht bewlkt":t===2?"Bewlkt":t===3?"Bedeckt":t>=45&&t<=48?"Nebel":t>=51&&t<=55?"Nieselregen":t>=56&&t<=57?"Gefrierender Niesel":t>=61&&t<=65?"Regen":t>=66&&t<=67?"Gefrierender Regen":t>=71&&t<=77?"Schnee":t>=80&&t<=82?"Regenschauer":t>=85&&t<=86?"Schneeschauer":t>=95&&t<=99?"Gewitter":"Wetter",sT=({family:t,currentUser:e,events:i,shoppingCount:r,openTaskCount:o=0,todayMeal:l,onNavigate:c,onProfileClick:f,lang:g,weatherFavorites:p=[],currentWeatherLocation:b,onUpdateWeatherLocation:_,news:x,liquidGlass:S=!1})=>{const[T,C]=H.useState("family"),A=T==="family"?0:1,N=new Date().toISOString().split("T")[0],M=i.filter(Y=>Y.date===N?T==="private"?Y.assignedTo.includes(e.id):!0:!1).sort((Y,ie)=>Y.time.localeCompare(ie.time)),[V,G]=H.useState(!0),[X,O]=H.useState(!1),[se,te]=H.useState("--"),[ye,ve]=H.useState(Oe("dashboard.loading",g)),[Te,Ae]=H.useState(0),[Se,Xe]=H.useState(1),[L,ne]=H.useState(""),pe=async(Y,ie,J)=>{G(!0),O(!1);try{const ae=await eh(Y,ie);ae?(te(`${Math.round(ae.current.temperature_2m)}`),ve(th(ae.current.weather_code)),Ae(ae.current.weather_code),Xe(ae.current.is_day),ne(J||"")):O(!0)}catch{O(!0)}finally{G(!1)}};H.useEffect(()=>{ve(Oe("dashboard.loading",g));const Y=()=>{O(!0),G(!1)};if(b){pe(b.lat,b.lng,b.name);return}if(!navigator.geolocation){Y();return}navigator.geolocation.getCurrentPosition(ie=>{const J={lat:ie.coords.latitude,lng:ie.coords.longitude,name:"Aktueller Standort"};pe(J.lat,J.lng,J.name),_(J)},ie=>{console.log("GPS error in Dashboard:",ie.message),Y()},{timeout:5e3})},[g]);const ce=(Y,ie)=>Y===0?ie?y.jsx(Ei,{className:"text-yellow-300 animate-spin-slow",size:48}):y.jsx(Tu,{className:"text-gray-200",size:48}):Y>=1&&Y<=3?y.jsx(Qf,{className:"text-gray-200",size:48}):Y>=45&&Y<=48?y.jsx(Yf,{className:"text-gray-300",size:48}):Y>=51&&Y<=67?y.jsx(ya,{className:"text-blue-300",size:48}):Y>=71&&Y<=77?y.jsx(Wf,{className:"text-white",size:48}):Y>=95?y.jsx(Xf,{className:"text-purple-300",size:48}):y.jsx(Ei,{className:"text-yellow-300",size:48}),me=(Y,ie)=>S?"liquid-shimmer-card":ie?Y===0?"bg-gradient-to-r from-blue-500 to-blue-400":Y>=1&&Y<=3?"bg-gradient-to-r from-blue-400 to-slate-400":Y>=51?"bg-gradient-to-r from-slate-500 to-gray-600":"bg-gradient-to-r from-blue-500 to-cyan-600":"bg-gradient-to-r from-slate-800 to-indigo-900",k=()=>"absolute top-0.5 bottom-0.5 rounded-lg z-0 transition-all duration-500 cubic-bezier(0.23, 1, 0.32, 1)",$=()=>S?"w-full h-full rounded-lg bg-white/40 dark:bg-white/20 backdrop-blur-md border border-white/40 shadow-sm":"",re=Y=>S?Y?"text-slate-900 dark:text-white":"text-gray-500 dark:text-gray-400":Y?"bg-white dark:bg-gray-600 shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400";return y.jsxs(y.Fragment,{children:[y.jsx(Ea,{title:"bersicht",currentUser:e,onProfileClick:f,liquidGlass:S}),y.jsxs("main",{className:"p-4 space-y-6 pb-24",children:[y.jsxs("div",{className:`${me(Te,Se)} rounded-2xl p-6 text-white shadow-lg relative overflow-hidden transition-all duration-1000`,children:[y.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:`text-3xl font-bold ${S?"text-slate-800 dark:text-white drop-shadow-sm":""}`,children:[Oe("dashboard.greeting",g)," ",e.name,"!"]}),y.jsx("p",{className:`text-sm font-medium mt-1 ${S?"text-slate-600 dark:text-gray-300":"text-blue-50/80"}`,children:Oe("dashboard.good_day",g)})]}),y.jsx("div",{className:"filter drop-shadow-md",children:ce(Te,Se)})]}),!S&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-5 rounded-full blur-xl"})]})]}),y.jsx("div",{className:"relative",children:y.jsxs("button",{onClick:()=>c(Ye.WEATHER),className:`w-full rounded-2xl p-4 shadow-sm border relative overflow-hidden flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-750 transition ${S?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}`,children:[V&&y.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 z-20 flex items-center justify-center",children:y.jsx(Wi,{className:"animate-spin text-blue-500",size:24})}),y.jsxs("div",{className:"flex items-center space-x-4",children:[X?y.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-full",children:y.jsx(ur,{className:"text-gray-400",size:20})}):y.jsx("div",{className:`p-2 rounded-full ${S?"bg-blue-100/50 dark:bg-blue-900/30":"bg-blue-50 dark:bg-blue-900/30"}`,children:y.jsx(ya,{className:"text-blue-500",size:24})}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:`text-2xl font-bold block leading-none mb-1 ${S?"text-slate-800 dark:text-white":"text-gray-800 dark:text-white"}`,children:X?"--":se}),y.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:X?"Ort suchen...":y.jsxs("span",{children:[L?`${L}  `:""," ",ye]})})]})]}),y.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400 text-xs font-bold uppercase tracking-wider",children:[Oe("dashboard.weather_details",g)," ",y.jsx(Rs,{size:16,className:"ml-1"})]})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:()=>c(Ye.LISTS),className:`p-4 rounded-xl shadow-sm border flex flex-col items-start transition ${S?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[y.jsxs("div",{className:"flex justify-between w-full mb-2",children:[y.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-lg text-orange-600 dark:text-orange-400",children:y.jsx($v,{size:20})}),r>0&&y.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full h-fit",children:r})]}),y.jsx("span",{className:`text-sm font-bold ${S?"text-slate-800 dark:text-white":"text-gray-700 dark:text-gray-200"}`,children:Oe("dashboard.shopping_list",g)}),y.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:r===0?Oe("dashboard.all_done",g):`${r} ${Oe("dashboard.items_open",g)}`})]}),y.jsxs("button",{onClick:()=>c(Ye.MEALS),className:`p-4 rounded-xl shadow-sm border flex flex-col items-start transition ${S?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[y.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-2 rounded-lg text-green-600 dark:text-green-400 mb-2",children:y.jsx(Zf,{size:20})}),y.jsx("span",{className:`text-sm font-bold line-clamp-1 w-full text-left ${S?"text-slate-800 dark:text-white":"text-gray-700 dark:text-gray-200"}`,children:l?l.mealName:Oe("dashboard.nothing_planned",g)}),y.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:Oe("dashboard.meal_plan",g)})]})]}),y.jsxs("button",{onClick:()=>c(Ye.LISTS),className:`w-full p-4 rounded-xl shadow-sm border flex items-center justify-between transition ${S?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-2 rounded-lg text-purple-600 dark:text-purple-400",children:y.jsx(QS,{size:20})}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:`block text-sm font-bold ${S?"text-slate-800 dark:text-white":"text-gray-800 dark:text-gray-200"}`,children:Oe("dashboard.my_tasks",g)}),y.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:o===0?Oe("dashboard.all_tasks_done",g):`${o} ${Oe("dashboard.tasks_open",g)}`})]})]}),y.jsx(Rs,{size:18,className:"text-gray-400"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:Oe("dashboard.appointments_today",g)}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsxs("div",{className:`flex p-0.5 rounded-lg relative ${S?"liquid-shimmer-card border-white/40":"bg-gray-200 dark:bg-gray-700"}`,children:[S&&y.jsx("div",{className:k(),style:{left:`${A*50}%`,width:"50%"},children:y.jsx("div",{className:$()})}),y.jsx("button",{onClick:()=>C("family"),className:`px-2 py-1 rounded-md text-[10px] font-bold transition z-10 ${re(T==="family")}`,children:"Alle"}),y.jsx("button",{onClick:()=>C("private"),className:`px-2 py-1 rounded-md text-[10px] font-bold transition z-10 ${re(T==="private")}`,children:"Meine"})]}),y.jsx("button",{onClick:()=>c(Ye.CALENDAR),className:"text-blue-600 dark:text-blue-400 text-sm font-medium flex items-center",children:y.jsx(Rs,{size:20})})]})]}),y.jsx("div",{className:"space-y-3",children:M.length>0?M.map(Y=>y.jsxs("div",{className:`p-4 rounded-xl shadow-sm border-l-4 border-blue-500 flex items-center animate-fade-in ${S?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800"}`,children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:`font-semibold ${S?"text-slate-800 dark:text-white":"text-gray-800 dark:text-gray-200"}`,children:Y.title}),y.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-xs mt-1 space-x-2",children:[y.jsxs("span",{className:"flex items-center",children:[y.jsx(Hv,{size:12,className:"mr-1"})," ",Y.time]}),Y.location&&y.jsxs("span",{children:[" ",Y.location]})]})]}),y.jsx("div",{className:"flex -space-x-2",children:Y.assignedTo.map(ie=>{const J=t.find(ae=>ae.id===ie);return J?y.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] text-white font-bold ring-2 ring-white dark:ring-gray-800 ${J.color.split(" ")[0].replace("bg-","bg-")}`,children:J.name[0]},ie):null})})]},Y.id)):y.jsx("div",{className:`text-center py-8 rounded-xl border border-dashed ${S?"border-white/30 bg-white/20":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:y.jsx("p",{className:`text-sm ${S?"text-slate-600 dark:text-slate-400":"text-gray-400"}`,children:Oe("dashboard.no_appointments",g)})})})]})]})]})},fa=(t,e=800,i=.7)=>new Promise(r=>{const o=new Image;o.src=t,o.onload=()=>{const l=document.createElement("canvas");let c=o.width,f=o.height;c>e&&(f=Math.round(f*e/c),c=e),l.width=c,l.height=f;const g=l.getContext("2d");g?(g.drawImage(o,0,0,c,f),r(l.toDataURL("image/jpeg",i))):r(t)},o.onerror=()=>{r(t)}}),wm=({events:t,news:e,polls:i,family:r,currentUser:o,onAddEvent:l,onUpdateEvent:c,onDeleteEvent:f,onAddNews:g,onUpdateNews:p,onDeleteNews:b,onProfileClick:_,initialTab:x="calendar",liquidGlass:S=!1})=>{const[T,C]=H.useState(()=>{const ue=localStorage.getItem("fh_calendar_tab");return ue==="calendar"||ue==="news"?ue:x}),[A,N]=H.useState(()=>{const ue=localStorage.getItem("fh_calendar_view");return ue==="family"||ue==="private"?ue:"family"});H.useEffect(()=>{localStorage.setItem("fh_calendar_tab",T)},[T]),H.useEffect(()=>{localStorage.setItem("fh_calendar_view",A)},[A]);const[U,M]=H.useState(new Date),[V,G]=H.useState(null),[X,O]=H.useState(!1),[se,te]=H.useState(null),[ye,ve]=H.useState(""),[Te,Ae]=H.useState(""),[Se,Xe]=H.useState("12:00"),[L,ne]=H.useState("13:00"),[pe,ce]=H.useState(""),[me,k]=H.useState(""),[$,re]=H.useState([o.id]),[Y,ie]=H.useState(!1),[J,ae]=H.useState(""),[Le,oe]=H.useState(""),[Me,be]=H.useState(""),[Ue,Je]=H.useState(""),[fe,he]=H.useState("upload"),[$e,qe]=H.useState(""),rt=H.useRef(null),[Ct,Nt]=H.useState(!1),Yt=t.filter(ue=>A==="private"?ue.assignedTo.includes(o.id):!0).reduce((ue,We)=>(ue[We.date]||(ue[We.date]=[]),ue[We.date].push(We),ue),{}),Rn=T==="calendar"?0:1,bt=A==="family"?0:1,mi=()=>S?"liquid-shimmer-card border-white/40 p-1 rounded-xl relative flex":"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex",Mn=()=>"absolute top-1 bottom-1 rounded-lg z-0 transition-all duration-300 ease-in-out",yn=()=>S?"w-full h-full rounded-lg bg-white/40 dark:bg-white/20 backdrop-blur-md border border-white/40 shadow-sm":"",qt=ue=>S?ue?"text-slate-900 dark:text-white font-extrabold":"text-gray-500 dark:text-gray-400":ue?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",ti=ue=>{G(ue),O(!1)},ni=()=>{G(null),O(!1),te(null)},ii=()=>{te(null),ve(""),Ae(V||new Date().toISOString().split("T")[0]),Xe("12:00"),ne("13:00"),ce(""),k(""),re([o.id]),O(!0)},Ti=ue=>{te(ue.id),ve(ue.title),Ae(ue.date),Xe(ue.time),ne(ue.endTime||""),ce(ue.location||""),k(ue.description||""),re(ue.assignedTo),O(!0)},vn=ue=>{if(ue.preventDefault(),!!ye.trim()){if(se)c(se,{title:ye,date:Te,time:Se,endTime:L,location:pe,description:me,assignedTo:$});else{const We={id:Date.now().toString(),title:ye,date:Te,time:Se,endTime:L,location:pe,description:me,assignedTo:$};l(We)}G(Te),O(!1),te(null)}},_t=()=>{se&&(f(se),O(!1),te(null))},$t=ue=>{const We=ue.getFullYear(),ut=ue.getMonth(),ft=new Date(We,ut,1).getDay(),xt=new Date(We,ut+1,0).getDate(),nn=ft===0?6:ft-1;return{year:We,month:ut,daysInMonth:xt,startOffset:nn}},St=ue=>{M(new Date(U.getFullYear(),U.getMonth()+ue,1))},Ai=()=>{const{year:ue,month:We,daysInMonth:ut,startOffset:ft}=$t(U),xt=U.toLocaleDateString("de-DE",{month:"long",year:"numeric"}),nn=Array.from({length:ft}),sn=Array.from({length:ut},(Dt,cn)=>cn+1),si=["Mo","Di","Mi","Do","Fr","Sa","So"];return y.jsxs("div",{className:`rounded-xl shadow-sm border overflow-hidden animate-fade-in transition-colors mb-6 ${S?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}`,children:[y.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${S?"border-white/20 bg-white/10":"border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800"}`,children:[y.jsx("button",{onClick:()=>St(-1),className:"p-2 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition",children:y.jsx(pm,{size:20})}),y.jsx("span",{className:`font-bold text-lg capitalize ${S?"text-slate-800 dark:text-white":"text-gray-800 dark:text-white"}`,children:xt}),y.jsx("button",{onClick:()=>St(1),className:"p-2 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition",children:y.jsx(Rs,{size:20})})]}),y.jsx("div",{className:`grid grid-cols-7 border-b ${S?"border-white/20 bg-white/5":"bg-gray-50 dark:bg-gray-900 border-gray-100 dark:border-gray-700"}`,children:si.map(Dt=>y.jsx("div",{className:"py-3 text-center text-xs font-bold opacity-60 uppercase tracking-wider",children:Dt},Dt))}),y.jsxs("div",{className:`grid grid-cols-7 auto-rows-[minmax(80px,auto)] divide-x divide-y ${S?"divide-white/20 border-b border-white/20":"divide-gray-100 dark:divide-gray-700 border-b dark:border-gray-700"}`,children:[nn.map((Dt,cn)=>y.jsx("div",{className:"bg-black/5 dark:bg-white/5"},`empty-${cn}`)),sn.map(Dt=>{const cn=`${ue}-${String(We+1).padStart(2,"0")}-${String(Dt).padStart(2,"0")}`,ri=Yt[cn]||[],Ni=cn===new Date().toISOString().split("T")[0];return y.jsxs("div",{onClick:()=>ti(cn),className:"relative flex flex-col items-center justify-start pt-2 pb-1 cursor-pointer transition-colors hover:bg-blue-500/10 active:bg-blue-500/20",children:[y.jsx("span",{className:`text-sm font-semibold w-7 h-7 flex items-center justify-center rounded-full mb-1 ${Ni?"bg-blue-600 text-white shadow-md":S?"text-slate-800 dark:text-white":"text-gray-700 dark:text-gray-300"}`,children:Dt}),y.jsxs("div",{className:"flex flex-col space-y-1 w-full px-1 items-center overflow-hidden",children:[ri.slice(0,3).map(ki=>y.jsx("div",{className:"w-full max-w-[80%] h-1.5 rounded-full bg-blue-400 dark:bg-blue-500/80 transition-colors"},ki.id)),ri.length>3&&y.jsxs("div",{className:"text-[9px] opacity-60 leading-none font-bold",children:["+ ",ri.length-3]})]})]},Dt)})]})]})},Hn=async ue=>{var ut;const We=(ut=ue.target.files)==null?void 0:ut[0];if(We){Nt(!0);const ft=new FileReader;ft.onloadend=async()=>{const xt=ft.result,nn=await fa(xt,800,.7);Je(nn),Nt(!1)},ft.readAsDataURL(We)}},Ci=ue=>{if(ue.preventDefault(),!J.trim())return;const We=fe==="url"?$e:Ue,ut={id:Date.now().toString(),title:J,description:Le,tag:Me.startsWith("#")?Me:Me?`#${Me}`:void 0,image:We,createdAt:new Date().toISOString(),authorId:o.id};g(ut),ie(!1),ae(""),oe(""),be(""),Je(""),qe("")},Ht=()=>y.jsxs("div",{className:"animate-fade-in space-y-6",children:[!Y&&y.jsx("div",{className:"flex justify-center",children:y.jsxs("button",{onClick:()=>ie(!0),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl shadow-lg font-bold flex items-center space-x-2 hover:bg-indigo-700 transition active:scale-95",children:[y.jsx(lu,{size:20})," ",y.jsx("span",{children:"Neuigkeit erstellen"})]})}),Y&&y.jsxs("div",{className:`rounded-xl shadow-lg p-4 animate-slide-in ${S?"liquid-shimmer-card border border-white/40":"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700"}`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:`font-bold ${S?"text-slate-900 dark:text-white":"text-gray-800 dark:text-white"}`,children:"Neue Notiz"}),y.jsx("button",{onClick:()=>ie(!1),className:"text-gray-400 hover:text-gray-600",children:y.jsx(Nn,{size:20})})]}),y.jsxs("form",{onSubmit:Ci,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Titel",value:J,onChange:ue=>ae(ue.target.value),className:`w-full rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none ${S?"bg-white/40 border-white/30 text-slate-900 dark:text-white":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}`,required:!0}),y.jsx("textarea",{placeholder:"Beschreibung...",value:Le,onChange:ue=>oe(ue.target.value),className:`w-full rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none ${S?"bg-white/40 border-white/30 text-slate-900 dark:text-white":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}`,rows:3}),y.jsxs("div",{className:"relative",children:[y.jsx(DE,{size:16,className:"absolute left-3 top-3.5 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Tag (#Sommer)",value:Me,onChange:ue=>be(ue.target.value),className:`w-full rounded-xl p-3 pl-9 text-sm focus:ring-2 focus:ring-indigo-500 outline-none ${S?"bg-white/40 border-white/30 text-slate-900 dark:text-white":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-white"}`})]}),y.jsxs("div",{className:`p-3 rounded-xl border border-dashed ${S?"bg-white/30 border-white/40":"bg-gray-50 dark:bg-gray-750 border-gray-300 dark:border-gray-600"}`,children:[y.jsxs("div",{className:"flex gap-2 mb-2",children:[y.jsx("button",{type:"button",onClick:()=>he("upload"),className:`flex-1 py-1 text-xs font-bold rounded-lg transition ${fe==="upload"?"bg-white dark:bg-gray-600 shadow-sm":"text-gray-400"}`,children:"Foto"}),y.jsx("button",{type:"button",onClick:()=>he("url"),className:`flex-1 py-1 text-xs font-bold rounded-lg transition ${fe==="url"?"bg-white dark:bg-gray-600 shadow-sm":"text-gray-400"}`,children:"URL"})]}),fe==="upload"?y.jsxs("div",{className:"text-center py-2",children:[y.jsx("input",{type:"file",ref:rt,onChange:Hn,accept:"image/*",className:"hidden"}),Ue?y.jsxs("div",{className:"relative inline-block",children:[y.jsx("img",{src:Ue,className:"h-32 rounded-lg shadow-sm"}),y.jsx("button",{type:"button",onClick:()=>Je(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:y.jsx(Nn,{size:12})})]}):y.jsxs("button",{type:"button",onClick:()=>{var ue;return(ue=rt.current)==null?void 0:ue.click()},className:"flex flex-col items-center justify-center w-full py-4 text-gray-400 hover:text-indigo-500 transition",children:[Ct?y.jsx(Wi,{className:"animate-spin mb-1",size:24}):y.jsx(pf,{size:24,className:"mb-1"}),y.jsx("span",{className:"text-xs",children:"Foto whlen"})]})]}):y.jsx("input",{type:"text",placeholder:"https://...",value:$e,onChange:ue=>qe(ue.target.value),className:"w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-2 text-xs"})]}),y.jsx("button",{type:"submit",disabled:!J.trim()||Ct,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-xl shadow-lg active:scale-95 transition disabled:opacity-50",children:"Verffentlichen"})]})]}),y.jsxs("div",{className:"grid gap-4",children:[e.length===0&&!Y&&y.jsxs("div",{className:"text-center py-10 opacity-50",children:[y.jsx(xE,{size:48,className:"mx-auto mb-2"}),y.jsx("p",{children:"Die Pinnwand ist leer."})]}),e.map(ue=>{const We=r.find(ut=>ut.id===ue.authorId);return y.jsxs("div",{className:`rounded-2xl shadow-sm overflow-hidden group ${S?"liquid-shimmer-card border border-white/40":"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700"}`,children:[ue.image&&y.jsx("div",{className:"h-48 w-full overflow-hidden bg-gray-100 dark:bg-gray-900 relative",children:y.jsx("img",{src:ue.image,className:"w-full h-full object-cover transition duration-500 group-hover:scale-105",alt:"News"})}),y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[ue.tag&&y.jsx("span",{className:"text-xs font-bold text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 px-2 py-0.5 rounded-md mb-2 inline-block",children:ue.tag}),y.jsx("h3",{className:`font-bold text-lg leading-tight ${S?"text-slate-900 dark:text-white":"text-gray-900 dark:text-white"}`,children:ue.title})]}),y.jsx("button",{onClick:()=>b(ue.id),className:"text-gray-300 hover:text-red-500 p-1",children:y.jsx(ao,{size:16})})]}),ue.description&&y.jsx("p",{className:`text-sm mb-4 whitespace-pre-line ${S?"text-slate-700 dark:text-gray-300":"text-gray-600 dark:text-gray-300"}`,children:ue.description}),y.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100/50 dark:border-gray-700",children:[y.jsx("div",{className:"flex items-center space-x-2",children:We?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:We.avatar,className:"w-6 h-6 rounded-full"}),y.jsx("span",{className:"text-xs font-medium opacity-70",children:We.name})]}):y.jsx("span",{className:"text-xs text-gray-400",children:"Unbekannt"})}),y.jsx("span",{className:"text-[10px] opacity-60",children:new Date(ue.createdAt).toLocaleDateString()})]})]})]},ue.id)})]})]});return y.jsxs(y.Fragment,{children:[y.jsx(Ea,{title:T==="calendar"?"Kalender":"Pinnwand",currentUser:o,onProfileClick:_,liquidGlass:S}),y.jsx("div",{className:"px-4 mt-2 mb-2",children:y.jsxs("div",{className:mi(),children:[S&&y.jsx("div",{className:Mn(),style:{left:`${Rn*50}%`,width:"50%"},children:y.jsx("div",{className:yn()})}),y.jsxs("button",{onClick:()=>C("calendar"),className:`flex-1 py-2 rounded-lg text-xs font-bold flex items-center justify-center space-x-1 transition-all z-10 ${qt(T==="calendar")}`,children:[y.jsx(hf,{size:14})," ",y.jsx("span",{children:"Termine"})]}),y.jsxs("button",{onClick:()=>C("news"),className:`flex-1 py-2 rounded-lg text-xs font-bold flex items-center justify-center space-x-1 transition-all z-10 ${qt(T==="news")}`,children:[y.jsx(t1,{size:14})," ",y.jsx("span",{children:"Pinnwand"})]})]})}),T==="calendar"&&y.jsx("div",{className:"px-4 mb-2 flex justify-center",children:y.jsxs("div",{className:`${S?"liquid-shimmer-card border-white/40 p-0.5 rounded-lg relative flex":"bg-gray-100 dark:bg-gray-800 p-0.5 rounded-lg flex"}`,children:[S&&y.jsx("div",{className:Mn(),style:{top:"2px",bottom:"2px",left:`${bt*50}%`,width:"50%"},children:y.jsx("div",{className:yn()})}),y.jsxs("button",{onClick:()=>N("family"),className:`flex items-center px-4 py-1.5 rounded-md text-xs font-bold transition space-x-1 z-10 ${qt(A==="family")}`,children:[y.jsx(J1,{size:12,className:"mr-1"})," Familie"]}),y.jsxs("button",{onClick:()=>N("private"),className:`flex items-center px-4 py-1.5 rounded-md text-xs font-bold transition space-x-1 z-10 ${qt(A==="private")}`,children:[y.jsx(Xv,{size:12,className:"mr-1"})," Privat"]})]})}),y.jsxs("div",{className:"p-4 pb-24 relative min-h-[calc(100vh-140px)]",children:[T==="calendar"&&Ai(),T==="news"&&Ht(),V&&T==="calendar"&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center pointer-events-none",children:[y.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:ni}),y.jsxs("div",{className:`w-full max-w-md sm:rounded-2xl rounded-t-2xl shadow-2xl pointer-events-auto transform transition-transform duration-300 max-h-[85vh] flex flex-col animate-slide-up ${S?"liquid-shimmer-card":"bg-white dark:bg-gray-800"}`,children:[y.jsxs("div",{className:`flex justify-between items-center p-4 border-b rounded-t-2xl flex-shrink-0 ${S?"border-white/20 bg-white/10":"border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50"}`,children:[y.jsx("div",{children:X?y.jsxs("button",{onClick:()=>O(!1),className:"flex items-center text-blue-600 text-sm font-bold hover:bg-blue-50 dark:hover:bg-gray-700 px-2 py-1 rounded-lg transition",children:[y.jsx(pm,{size:16,className:"mr-1"})," Zurck"]}):y.jsx("h3",{className:`text-lg font-bold capitalize ${S?"text-slate-900 dark:text-white":"text-gray-800 dark:text-white"}`,children:new Date(V).toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long"})})}),y.jsx("button",{onClick:ni,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition",children:y.jsx(Nn,{size:20})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:X?y.jsxs("form",{id:"eventForm",onSubmit:vn,className:"space-y-5",children:[y.jsx("input",{type:"text",required:!0,placeholder:"Titel",value:ye,onChange:ue=>ve(ue.target.value),className:`w-full rounded-xl p-3.5 text-base outline-none ${S?"bg-white/40 border border-white/30 text-slate-900 dark:text-white":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white"}`}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{type:"time",required:!0,value:Se,onChange:ue=>Xe(ue.target.value),className:`w-full rounded-xl p-3 outline-none ${S?"bg-white/40 border border-white/30":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white"}`}),y.jsx("input",{type:"time",required:!0,value:L,onChange:ue=>ne(ue.target.value),className:`w-full rounded-xl p-3 outline-none ${S?"bg-white/40 border border-white/30":"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white"}`})]}),y.jsx("button",{type:"submit",className:"hidden",children:"Submit"})]}):y.jsx("div",{className:"space-y-4",children:(Yt[V]||[]).length===0?y.jsxs("div",{className:"text-center py-12 flex flex-col items-center",children:[y.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-full mb-3",children:y.jsx(hf,{className:"w-8 h-8 text-gray-400"})}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Nichts geplant."}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Tippe auf "+", um einen Termin zu erstellen.'})]}):(Yt[V]||[]).map(ue=>y.jsx("div",{className:`p-4 rounded-xl border-l-4 border-blue-500 relative group shadow-sm hover:shadow-md transition-all ${S?"bg-white/40 border border-white/20":"bg-gray-50 dark:bg-gray-750"}`,children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:`font-bold text-base ${S?"text-slate-900 dark:text-white":"text-gray-800 dark:text-white"}`,children:ue.title}),y.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 flex items-center",children:[y.jsx(Hv,{size:14,className:"mr-1.5 text-blue-500"})," ",ue.time," - ",ue.endTime]}),ue.location&&y.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5 flex items-center",children:[y.jsx(eo,{size:14,className:"mr-1.5 text-red-500"})," ",ue.location]})]}),y.jsx("button",{onClick:()=>Ti(ue),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",children:y.jsx(Fv,{size:18})})]})},ue.id))})}),y.jsx("div",{className:`p-4 border-t rounded-b-2xl flex-shrink-0 ${S?"border-white/20 bg-white/20":"border-gray-100 dark:border-gray-700 bg-gray-50/80 dark:bg-gray-800/80"}`,children:X?y.jsxs("div",{className:"flex space-x-3",children:[se&&y.jsx("button",{type:"button",onClick:_t,className:"bg-red-50 dark:bg-red-900/20 text-red-500 p-3.5 rounded-xl hover:bg-red-100 transition",children:y.jsx(ao,{size:22})}),y.jsx("button",{type:"submit",form:"eventForm",className:"flex-1 bg-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg active:scale-[0.98] transition hover:bg-blue-700",children:se?"Speichern":"Erstellen"})]}):y.jsxs("button",{onClick:ii,className:"w-full bg-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg active:scale-[0.98] transition flex items-center justify-center hover:bg-blue-700",children:[y.jsx(lu,{size:20,className:"mr-2"})," Termin hinzufgen"]})})]})]})]})]})},rT=({shoppingItems:t,householdTasks:e,personalTasks:i,recipes:r,family:o,currentUser:l,onToggleShopping:c,onAddShopping:f,onDeleteShopping:g,onAddHousehold:p,onToggleTask:b,onAddPersonal:_,onDeleteTask:x,onAddRecipe:S,onDeleteRecipe:T,onProfileClick:C,liquidGlass:A=!1})=>{const[N,U]=H.useState(()=>{const J=localStorage.getItem("fh_lists_tab");return J==="shopping"||J==="household"||J==="personal"||J==="recipes"?J:"household"});H.useEffect(()=>{localStorage.setItem("fh_lists_tab",N)},[N]);const[M,V]=H.useState(""),[G,X]=H.useState(""),[O,se]=H.useState("medium"),[te,ye]=H.useState(o.length>0?o[0].id:(l==null?void 0:l.id)||""),[ve,Te]=H.useState(!1);H.useRef(null);const Ae=()=>A?"liquid-shimmer-card border-white/40 p-1 rounded-xl w-full shadow-inner relative flex":"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl w-full shadow-inner flex",Se=()=>"absolute top-1 bottom-1 rounded-lg z-0 transition-all duration-300 ease-in-out",Xe=()=>A?"w-full h-full rounded-lg bg-white/40 dark:bg-white/20 backdrop-blur-md border border-white/40 shadow-sm":"",L=[{id:"shopping",label:"Einkauf",icon:b1},{id:"recipes",label:"Rezepte",icon:LS},{id:"household",label:"Haushalt",icon:Vv},{id:"personal",label:"Privat",icon:Xv}],ne=L.findIndex(J=>J.id===N),pe=100/L.length;H.useEffect(()=>{o.length>0&&!o.find(J=>J.id===te)?ye(o[0].id):o.length===0&&te!==l.id&&ye(l.id)},[o,l.id,te]);const ce=J=>{J.preventDefault(),M.trim()&&(N==="shopping"?f(M.trim(),G.trim()):N==="household"?p(M.trim(),te,O,G.trim()):N==="personal"&&_(M.trim(),O,G.trim()),V(""),X(""),se("medium"),Te(!1))},me=J=>J==="high"?y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 mr-2 flex-shrink-0",title:"Hoch"}):J==="low"?y.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400 mr-2 flex-shrink-0",title:"Niedrig"}):null,k=()=>y.jsxs("div",{className:"space-y-3",children:[t.map(J=>y.jsxs("div",{className:`flex items-start justify-between p-3 rounded-xl border ${A?"liquid-shimmer-card border-white/40":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"} ${J.checked?"opacity-60":""}`,onClick:()=>c(J.id),children:[y.jsxs("div",{className:"flex items-start space-x-3 overflow-hidden w-full",children:[y.jsx("div",{className:"mt-0.5",children:J.checked?y.jsx(gm,{className:"text-gray-400",size:20}):y.jsx(mm,{className:"text-orange-500",size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:`block text-sm font-medium ${J.checked?"line-through text-gray-400":"text-gray-800 dark:text-gray-200"}`,children:J.name}),J.note&&y.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 italic",children:J.note})]})]}),y.jsx("button",{onClick:ae=>{ae.stopPropagation(),g(J.id)},className:"text-gray-300 hover:text-red-500 p-1",children:y.jsx(ao,{size:16})})]},J.id)),t.length===0&&y.jsx("p",{className:"text-center text-gray-400 mt-8",children:"Liste ist leer"})]}),$=(J,ae)=>{let Le=J;ae==="household"&&l.role==="child"&&(Le=J.filter(be=>be.assignedTo===l.id));const oe={high:3,medium:2,low:1},Me=[...Le].sort((be,Ue)=>be.done!==Ue.done?Number(be.done)-Number(Ue.done):(oe[Ue.priority||"medium"]||2)-(oe[be.priority||"medium"]||2));return y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Me.map(be=>{const Ue=o.find(fe=>fe.id===be.assignedTo),Je=ae==="household"&&l.role==="child";return y.jsxs("div",{className:`flex flex-col p-3 rounded-xl border relative overflow-hidden transition-all ${A?"liquid-shimmer-card border-white/40":be.done?"bg-gray-50 dark:bg-gray-800/50 border-gray-100 dark:border-gray-700 opacity-60":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm"}`,children:[y.jsxs("div",{className:"flex items-start justify-between mb-1",children:[y.jsxs("div",{className:`flex items-center w-full ${Je?"cursor-default":"cursor-pointer"}`,onClick:()=>!Je&&b(be.id,ae),children:[be.done?y.jsx(gm,{className:"text-green-500 mr-2 flex-shrink-0",size:20}):y.jsx(mm,{className:`mr-2 flex-shrink-0 ${ae==="household"?"text-blue-500":"text-purple-500"} ${Je?"opacity-50":""}`,size:20}),y.jsx("div",{className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-center",children:[!be.done&&me(be.priority),y.jsx("span",{className:`text-sm font-medium line-clamp-2 leading-tight ${be.done?"text-gray-400 line-through":"text-gray-800 dark:text-gray-200"}`,children:be.title})]})})]}),(ae==="personal"||l.role==="parent")&&y.jsx("button",{onClick:fe=>{fe.stopPropagation(),x(be.id,ae)},className:"text-gray-300 hover:text-red-400 p-1 -mr-1 -mt-1",children:y.jsx(ao,{size:16})})]}),y.jsxs("div",{className:`pl-7 ${Je?"cursor-default":"cursor-pointer"}`,onClick:()=>!Je&&b(be.id,ae),children:[be.note&&y.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 p-1.5 rounded-md mb-2",children:be.note}),ae==="household"&&Ue&&!be.done&&y.jsxs("div",{className:"flex items-center pt-1",children:[y.jsx("img",{src:Ue.avatar,className:"w-4 h-4 rounded-full border border-gray-200 dark:border-gray-700 mr-1.5"}),y.jsx("span",{className:`text-[10px] font-bold ${Ue.color.replace("bg-","text-").split(" ")[1]}`,children:Ue.name})]})]})]},be.id)}),Me.length===0&&y.jsx("div",{className:"text-center py-8 col-span-full",children:y.jsx("p",{className:"text-gray-400",children:"Keine Aufgaben vorhanden."})})]})},re=()=>y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.map(J=>y.jsxs("div",{className:`rounded-xl overflow-hidden border ${A?"liquid-shimmer-card border-white/40":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[J.image&&y.jsx("img",{src:J.image,className:"w-full h-24 object-cover"}),y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"font-bold text-sm mb-1 text-gray-800 dark:text-white line-clamp-1",children:J.name}),y.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:[J.ingredients.length," Zutaten"]}),y.jsx("button",{onClick:()=>T(J.id),className:"text-xs text-red-400 hover:text-red-500",children:"Lschen"})]})]},J.id)),r.length===0&&y.jsx("div",{className:"text-center text-gray-400 col-span-full py-8",children:"Keine Rezepte."})]}),Y=N==="household"&&l.role==="parent",ie=N!=="household"&&N!=="recipes"||Y;return y.jsxs(y.Fragment,{children:[y.jsx(Ea,{title:"Listen",currentUser:l,onProfileClick:C,liquidGlass:A}),y.jsx("div",{className:"px-4 mt-2",children:y.jsxs("div",{className:Ae(),children:[A&&y.jsx("div",{className:Se(),style:{left:`${ne*pe}%`,width:`${pe}%`},children:y.jsx("div",{className:Xe()})}),L.map(J=>{const ae=N===J.id;let Le=A?ae?"text-slate-900 dark:text-white font-extrabold":"text-gray-500 dark:text-gray-400":ae?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400";return y.jsxs("button",{onClick:()=>U(J.id),className:`flex-1 py-2 rounded-lg text-[10px] sm:text-xs font-bold flex items-center justify-center space-x-1 transition-all z-10 ${Le}`,children:[y.jsx(J.icon,{size:14,className:"flex-shrink-0"})," ",y.jsx("span",{className:"truncate",children:J.label})]},J.id)})]})}),y.jsxs("div",{className:"p-4 pb-24",children:[ie&&y.jsx("div",{className:`mb-6 p-3 rounded-2xl shadow-sm border animate-slide-in ${A?"liquid-shimmer-card border-white/40":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:y.jsxs("form",{onSubmit:ce,children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",value:M,onChange:J=>V(J.target.value),placeholder:N==="shopping"?"Was fehlt?":"Neue Aufgabe...",className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-800 dark:text-white placeholder-gray-400 px-2"}),y.jsx("button",{type:"button",onClick:()=>Te(!ve),className:`p-2 rounded-full transition ${ve?"bg-black/5 dark:bg-white/10 text-gray-800 dark:text-white":"text-gray-400 hover:text-gray-600"}`,children:ve?y.jsx(XS,{size:18}):y.jsx(FS,{size:18})}),y.jsx("button",{type:"submit",disabled:!M.trim(),className:`p-2 rounded-xl text-white transition shadow-sm ${M.trim()?N==="shopping"?"bg-orange-500":N==="household"?"bg-blue-500":"bg-purple-500":"bg-gray-300 dark:bg-gray-600"}`,children:y.jsx(lu,{size:20})})]}),ve&&y.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 space-y-3",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(U1,{size:16,className:"text-gray-400"}),y.jsx("input",{type:"text",value:G,onChange:J=>X(J.target.value),placeholder:"Notiz...",className:"flex-1 bg-gray-50 dark:bg-gray-700/50 rounded-lg px-3 py-1.5 text-sm text-gray-800 dark:text-white outline-none"})]}),N!=="shopping"&&y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(SE,{size:16,className:"text-gray-400"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{type:"button",onClick:()=>se("high"),className:`px-3 py-1 rounded-full text-xs font-bold border transition ${O==="high"?"bg-red-100 text-red-600 border-red-200":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500"}`,children:"Hoch"}),y.jsx("button",{type:"button",onClick:()=>se("medium"),className:`px-3 py-1 rounded-full text-xs font-bold border transition ${O==="medium"?"bg-gray-200 text-gray-700 border-gray-300":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500"}`,children:"Mittel"}),y.jsx("button",{type:"button",onClick:()=>se("low"),className:`px-3 py-1 rounded-full text-xs font-bold border transition ${O==="low"?"bg-blue-100 text-blue-600 border-blue-200":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500"}`,children:"Niedrig"})]})]}),N==="household"&&y.jsx("div",{className:"flex space-x-2 pt-1 overflow-x-auto px-1",children:o.length>0?o.map(J=>y.jsxs("button",{type:"button",onClick:()=>ye(J.id),className:`flex items-center space-x-1 px-2 py-1 rounded-full text-[10px] font-bold border transition ${te===J.id?`${J.color} border-transparent ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600`:"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300"}`,children:[y.jsx("img",{src:J.avatar,className:"w-4 h-4 rounded-full"}),y.jsx("span",{children:J.name})]},J.id)):y.jsx("span",{className:"text-xs text-gray-400",children:"Keine Mitglieder"})})]})]})}),!ie&&N!=="recipes"&&y.jsxs("div",{className:`mb-6 p-4 rounded-xl border flex items-center justify-center text-gray-400 text-sm ${A?"bg-white/20 border-white/20":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[y.jsx(Gv,{size:16,className:"mr-2"}),"Nur Eltern knnen Hausarbeiten hinzufgen."]}),y.jsxs("div",{className:"animate-fade-in",children:[N==="shopping"&&k(),N==="recipes"&&re(),N==="household"&&$(e,"household"),N==="personal"&&$(i,"personal")]})]})]})};var oT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aT,lT;function uT(){return{geminiUrl:aT,vertexUrl:lT}}function cT(t,e,i,r){var o,l;if(!(t!=null&&t.baseUrl)){const c=uT();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:i:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zi{}function ge(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function h(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in t))if(Array.isArray(i))t[f]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[f])){const g=t[f];if(Array.isArray(i))for(let p=0;p<g.length;p++){const b=g[p];h(b,e.slice(l+1),i[p])}else for(const p of g)h(p,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in t||(t[f]=[{}]);const g=t[f];h(g[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===o)return;if(typeof o=="object"&&typeof i=="object"&&o!==null&&i!==null)Object.assign(o,i);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[r]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return i;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(f=>d(f,e.slice(r+1),i)):i}else return i}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return i;throw r}}function dT(t,e){for(const[i,r]of Object.entries(e)){const o=i.split("."),l=r.split("."),c=new Set;let f=-1;for(let g=0;g<o.length;g++)if(o[g]==="*"){f=g;break}if(f!==-1&&l.length>f)for(let g=f;g<l.length;g++){const p=l[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}mf(t,o,l,0,c)}}function mf(t,e,i,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),f=t;if(c in f&&Array.isArray(f[c]))for(const g of f[c])mf(g,e,i,r+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,f=Object.keys(c).filter(p=>!p.startsWith("_")&&!o.has(p)),g={};for(const p of f)g[p]=c[p];for(const[p,b]of Object.entries(g)){const _=[];for(const x of i.slice(r))x==="*"?_.push(p):_.push(x);h(c,_,b)}for(const p of f)delete c[p]}}else{const c=t;l in c&&mf(c[l],e,i,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nh(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(t){const e={},i=d(t,["operationName"]);i!=null&&h(e,["operationName"],i);const r=d(t,["resourceName"]);return r!=null&&h(e,["_url","resourceName"],r),e}function hT(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],gT(c)),e}function pT(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],mT(c)),e}function gT(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>yT(c))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function mT(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>vT(c))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function yT(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],ET(i)),e}function vT(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],TT(i)),e}function bT(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function _T(t){const e={},i=d(t,["operationName"]);return i!=null&&h(e,["_url","operationName"],i),e}function xT(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],wT(c)),e}function wT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function Wv(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],ST(c)),e}function ST(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function ET(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const r=d(t,["encodedVideo"]);r!=null&&h(e,["videoBytes"],nh(r));const o=d(t,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function TT(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],nh(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sm||(Sm={}));var Em;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Em||(Em={}));var Tm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Tm||(Tm={}));var gt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gt||(gt={}));var Am;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Am||(Am={}));var Cm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cm||(Cm={}));var Nm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Nm||(Nm={}));var km;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(km||(km={}));var Rm;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rm||(Rm={}));var Mm;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Mm||(Mm={}));var Im;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Im||(Im={}));var Dm;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Dm||(Dm={}));var Um;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Um||(Um={}));var Pm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Pm||(Pm={}));var Om;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Om||(Om={}));var Lm;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lm||(Lm={}));var zm;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zm||(zm={}));var jm;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(jm||(jm={}));var $m;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($m||($m={}));var cu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(cu||(cu={}));var Hm;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hm||(Hm={}));var Bm;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bm||(Bm={}));var Vm;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vm||(Vm={}));var yf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yf||(yf={}));var qm;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qm||(qm={}));var Gm;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gm||(Gm={}));var Fm;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Fm||(Fm={}));var Jm;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Jm||(Jm={}));var Km;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Km||(Km={}));var Ym;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ym||(Ym={}));var Xm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Xm||(Xm={}));var Wm;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Wm||(Wm={}));var Qm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Qm||(Qm={}));var Zm;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Zm||(Zm={}));var ey;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ey||(ey={}));var ty;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ty||(ty={}));var ny;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ny||(ny={}));var iy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(iy||(iy={}));var sy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sy||(sy={}));var ry;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ry||(ry={}));var oy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(oy||(oy={}));var ay;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ay||(ay={}));var ly;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ly||(ly={}));var uy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(uy||(uy={}));var cy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(cy||(cy={}));var dy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dy||(dy={}));var fy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fy||(fy={}));var hy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hy||(hy={}));var py;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(py||(py={}));var gy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gy||(gy={}));var my;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(my||(my={}));var yy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yy||(yy={}));var vy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vy||(vy={}));var by;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(by||(by={}));var _y;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(_y||(_y={}));var to;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class vf{constructor(e){const i={};for(const r of e.headers.entries())i[r[0]]=r[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class ua{get text(){var e,i,r,o,l,c,f,g;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",b=!1;const _=[];for(const x of(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(x))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(T!==null||T!==void 0)&&_.push(S);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;b=!0,p+=x.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?p:void 0}get data(){var e,i,r,o,l,c,f,g;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const b=[];for(const _ of(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[x,S]of Object.entries(_))x!=="inlineData"&&(S!==null||S!==void 0)&&b.push(x);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,r,o,l,c,f,g;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,r,o,l,c,f,g,p;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,r,o,l,c,f,g,p;if(((o=(r=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(g=(f=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.output}}class xy{}class wy{}class AT{}class CT{}class NT{}class kT{}class Sy{}class Ey{}class Ty{}class RT{}class du{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new du;let o;const l=e;return i?o=pT(l):o=hT(l),Object.assign(r,o),r}}class Ay{}class Cy{}class Ny{}class ky{}class MT{}class IT{}class DT{}class ih{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new ih,l=xT(e);return Object.assign(r,l),r}}class UT{}class PT{}class OT{}class Ry{}class LT{get text(){var e,i,r;let o="",l=!1;const c=[];for(const f of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[g,p]of Object.entries(f))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,i,r;let o="";const l=[];for(const c of(r=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&r!==void 0?r:[]){for(const[f,g]of Object.entries(c))f!=="inlineData"&&g!==null&&l.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class zT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sh{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const r=new sh,l=Wv(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function et(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qv(t,e){const i=et(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function Zv(t){return Array.isArray(t)?t.map(e=>fu(e)):[fu(t)]}function fu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function eb(t){const e=fu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tb(t){const e=fu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function My(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function nb(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>My(e)):[My(t)]}function bf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Iy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Dy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function un(t){if(t==null)throw new Error("ContentUnion is required");return bf(t)?t:{role:"user",parts:nb(t)}}function rh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const r=un(i);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const i=un(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>un(i)):[un(e)]}function Zn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Iy(t)||Dy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[un(t)]}const e=[],i=[],r=bf(t[0]);for(const o of t){const l=bf(o);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(Iy(o)||Dy(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||e.push({role:"user",parts:nb(i)}),e}function jT(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(r=>r!=="null");if(i.length===1)e.type=Object.values(gt).includes(i[0].toUpperCase())?i[0].toUpperCase():gt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of i)e.anyOf.push({type:Object.values(gt).includes(r.toUpperCase())?r.toUpperCase():gt.TYPE_UNSPECIFIED})}}function io(t){const e={},i=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&jT(t.type,e);for(const[c,f]of Object.entries(t))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(gt).includes(f.toUpperCase())?f.toUpperCase():gt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=io(f);else if(r.includes(c)){const g=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}g.push(io(p))}e[c]=g}else if(o.includes(c)){const g={};for(const[p,b]of Object.entries(f))g[p]=io(b);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=f}return e}function oh(t){return io(t)}function ah(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function lh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function fo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=io(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=io(e.response));return t}function ho(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function $T(t,e,i,r=1){const o=!e.startsWith(`${i}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:o?`${i}/${e}`:e}function es(t,e){if(typeof e!="string")throw new Error("name must be a string");return $T(t,e,"cachedContents")}function ib(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ms(t){return nh(t)}function HT(t){return t!=null&&typeof t=="object"&&"name"in t}function BT(t){return t!=null&&typeof t=="object"&&"video"in t}function VT(t){return t!=null&&typeof t=="object"&&"uri"in t}function sb(t){var e;let i;if(HT(t)&&(i=t.name),!(VT(t)&&(i=t.uri,i===void 0))&&!(BT(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function rb(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function ob(t){for(const e of["models","tunedModels","publisherModels"])if(qT(t,e))return t[e];return[]}function qT(t,e){return t!==null&&typeof t=="object"&&e in t}function GT(t,e={}){const i=t,r={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(r.responseJsonSchema=i.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function FT(t,e={}){const i=[],r=new Set;for(const o of t){const l=o.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=GT(o,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function ab(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const r=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,o=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function JT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function lb(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const o=i.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function po(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function ub(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(t){const e={},i=d(t,["responsesFile"]);i!=null&&h(e,["fileName"],i);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>NA(c))),h(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function YT(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&h(e,["format"],i);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&h(e,["gcsUri"],r);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function XT(t){const e={},i=d(t,["format"]);i!=null&&h(e,["predictionsFormat"],i);const r=d(t,["gcsUri"]);r!=null&&h(e,["gcsDestination","outputUriPrefix"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&h(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function eu(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata","displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["metadata","state"]);o!=null&&h(e,["state"],ub(o));const l=d(t,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const g=d(t,["metadata","model"]);g!=null&&h(e,["model"],g);const p=d(t,["metadata","output"]);return p!=null&&h(e,["dest"],KT(lb(p))),e}function _f(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["state"]);o!=null&&h(e,["state"],ub(o));const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["createTime"]);c!=null&&h(e,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const g=d(t,["endTime"]);g!=null&&h(e,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const b=d(t,["model"]);b!=null&&h(e,["model"],b);const _=d(t,["inputConfig"]);_!=null&&h(e,["src"],WT(_));const x=d(t,["outputConfig"]);x!=null&&h(e,["dest"],YT(lb(x)));const S=d(t,["completionStats"]);return S!=null&&h(e,["completionStats"],S),e}function WT(t){const e={},i=d(t,["instancesFormat"]);i!=null&&h(e,["format"],i);const r=d(t,["gcsSource","uris"]);r!=null&&h(e,["gcsUri"],r);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function QT(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&h(i,["fileName"],r);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>CA(t,c))),h(i,["requests","requests"],l)}return i}function ZT(t){const e={},i=d(t,["format"]);i!=null&&h(e,["instancesFormat"],i);const r=d(t,["gcsUri"]);r!=null&&h(e,["gcsSource","uris"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&h(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eA(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function tA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],po(t,r)),i}function nA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],po(t,r)),i}function iA(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const r=d(t,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],sA(r));const o=d(t,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const g=d(t,["index"]);g!=null&&h(e,["index"],g);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const b=d(t,["safetyRatings"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["safetyRatings"],x)}const _=d(t,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function sA(t){const e={},i=d(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),h(e,["citations"],r)}return e}function cb(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>PA(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function rA(t,e){const i={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&h(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function oA(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const o=d(t,["dest"]);return e!==void 0&&o!=null&&h(e,["outputConfig"],XT(JT(o))),i}function Uy(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["src"]);o!=null&&h(i,["batch","inputConfig"],QT(t,ab(t,o)));const l=d(e,["config"]);return l!=null&&rA(l,i),i}function aA(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["model"],et(t,r));const o=d(e,["src"]);o!=null&&h(i,["inputConfig"],ZT(ab(t,o)));const l=d(e,["config"]);return l!=null&&oA(l,i),i}function lA(t,e){const i={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&h(e,["batch","displayName"],r),i}function uA(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["src"]);o!=null&&h(i,["batch","inputConfig"],mA(t,o));const l=d(e,["config"]);return l!=null&&lA(l,i),i}function cA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],po(t,r)),i}function dA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],po(t,r)),i}function fA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function hA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function pA(t,e){const i={},r=d(e,["contents"]);if(r!=null){let l=rh(t,r);Array.isArray(l)&&(l=l.map(c=>c)),h(i,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(h(i,["_self"],gA(o,i)),dT(i,{"requests[].*":"requests[].request.*"})),i}function gA(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function mA(t,e){const i={},r=d(e,["fileName"]);r!=null&&h(i,["file_name"],r);const o=d(e,["inlinedRequests"]);return o!=null&&h(i,["requests"],pA(t,o)),i}function yA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function vA(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bA(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _A(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&h(i,["systemInstruction"],cb(un(o)));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(r,["topP"],c);const f=d(e,["topK"]);f!=null&&h(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&h(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const b=d(e,["stopSequences"]);b!=null&&h(r,["stopSequences"],b);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const x=d(e,["logprobs"]);x!=null&&h(r,["logprobs"],x);const S=d(e,["presencePenalty"]);S!=null&&h(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&h(r,["frequencyPenalty"],T);const C=d(e,["seed"]);C!=null&&h(r,["seed"],C);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const N=d(e,["responseSchema"]);N!=null&&h(r,["responseSchema"],oh(N));const U=d(e,["responseJsonSchema"]);if(U!=null&&h(r,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=d(e,["safetySettings"]);if(i!==void 0&&M!=null){let Ae=M;Array.isArray(Ae)&&(Ae=Ae.map(Se=>OA(Se))),h(i,["safetySettings"],Ae)}const V=d(e,["tools"]);if(i!==void 0&&V!=null){let Ae=ho(V);Array.isArray(Ae)&&(Ae=Ae.map(Se=>zA(fo(Se)))),h(i,["tools"],Ae)}const G=d(e,["toolConfig"]);if(i!==void 0&&G!=null&&h(i,["toolConfig"],LA(G)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);i!==void 0&&X!=null&&h(i,["cachedContent"],es(t,X));const O=d(e,["responseModalities"]);O!=null&&h(r,["responseModalities"],O);const se=d(e,["mediaResolution"]);se!=null&&h(r,["mediaResolution"],se);const te=d(e,["speechConfig"]);if(te!=null&&h(r,["speechConfig"],ah(te)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=d(e,["thinkingConfig"]);ye!=null&&h(r,["thinkingConfig"],ye);const ve=d(e,["imageConfig"]);ve!=null&&h(r,["imageConfig"],AA(ve));const Te=d(e,["enableEnhancedCivicAnswers"]);return Te!=null&&h(r,["enableEnhancedCivicAnswers"],Te),r}function xA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>iA(p))),h(e,["candidates"],g)}const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function wA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],po(t,r)),i}function SA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],po(t,r)),i}function EA(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function TA(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function AA(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const r=d(t,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CA(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["request","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let f=Zn(o);Array.isArray(f)&&(f=f.map(g=>cb(g))),h(i,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&h(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&h(i,["request","generationConfig"],_A(t,c,d(i,["request"],{}))),i}function NA(t){const e={},i=d(t,["response"]);i!=null&&h(e,["response"],xA(i));const r=d(t,["error"]);return r!=null&&h(e,["error"],r),e}function kA(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function RA(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),i}function MA(t){const e={},i=d(t,["config"]);return i!=null&&kA(i,e),e}function IA(t){const e={},i=d(t,["config"]);return i!=null&&RA(i,e),e}function DA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>eu(c))),h(e,["batchJobs"],l)}return e}function UA(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>_f(c))),h(e,["batchJobs"],l)}return e}function PA(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],yA(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],vA(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&h(e,["inlineData"],eA(g));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const b=d(t,["thought"]);b!=null&&h(e,["thought"],b);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const x=d(t,["videoMetadata"]);return x!=null&&h(e,["videoMetadata"],x),e}function OA(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function LA(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],bA(i));const r=d(t,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function zA(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>_)),h(e,["functionDeclarations"],b)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],EA(f));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],TA(g));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qi||(Qi={}));class cr{constructor(e,i,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,r,o)}init(e,i,r){var o,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jA extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cr(Qi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Uy(this.apiClient,e),r=i._url,o=ge("{model}:batchGenerateContent",r),f=i.batch.inputConfig.requests,g=f.requests,p=[];for(const b of g){const _=Object.assign({},b);if(_.systemInstruction){const x=_.systemInstruction;delete _.systemInstruction;const S=_.request;S.systemInstruction=x,_.request=S}p.push(_)}return f.requests=p,delete i.config,delete i._url,delete i._query,{path:o,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const r=i?Object.assign({},i):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${o}`;else if(c)r.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=aA(this.apiClient,e);return f=ge("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>_f(b))}else{const p=Uy(this.apiClient,e);return f=ge("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>eu(b))}}async createEmbeddingsInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uA(this.apiClient,e);return l=ge("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>eu(g))}}async get(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=SA(this.apiClient,e);return f=ge("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>_f(b))}else{const p=wA(this.apiClient,e);return f=ge("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>eu(b))}}async cancel(e){var i,r,o,l;let c="",f={};if(this.apiClient.isVertexAI()){const g=nA(this.apiClient,e);c=ge("batchPredictionJobs/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=tA(this.apiClient,e);c=ge("batches/{name}:cancel",g._url),f=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=IA(e);return f=ge("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=UA(b),x=new Ry;return Object.assign(x,_),x})}else{const p=MA(e);return f=ge("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=DA(b),x=new Ry;return Object.assign(x,_),x})}}async delete(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=dA(this.apiClient,e);return f=ge("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>hA(b))}else{const p=cA(this.apiClient,e);return f=ge("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>fA(b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Py(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uC(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function HA(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let b=Zn(c);Array.isArray(b)&&(b=b.map(_=>Py(_))),h(e,["contents"],b)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Py(un(f)));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(_=>dC(_))),h(e,["tools"],b)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],cC(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function BA(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let _=Zn(c);Array.isArray(_)&&(_=_.map(x=>x)),h(e,["contents"],_)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],un(f));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(x=>fC(x))),h(e,["tools"],_)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const b=d(t,["kmsKeyName"]);return e!==void 0&&b!=null&&h(e,["encryption_spec","kmsKeyName"],b),i}function VA(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["model"],Qv(t,r));const o=d(e,["config"]);return o!=null&&HA(o,i),i}function qA(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["model"],Qv(t,r));const o=d(e,["config"]);return o!=null&&BA(o,i),i}function GA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],es(t,r)),i}function FA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],es(t,r)),i}function JA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function KA(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function YA(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function XA(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WA(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function QA(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function ZA(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],es(t,r)),i}function eC(t,e){const i={},r=d(e,["name"]);return r!=null&&h(i,["_url","name"],es(t,r)),i}function tC(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function nC(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function iC(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function sC(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function rC(t){const e={},i=d(t,["config"]);return i!=null&&iC(i,e),e}function oC(t){const e={},i=d(t,["config"]);return i!=null&&sC(i,e),e}function aC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function lC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function uC(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],YA(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],XA(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&h(e,["inlineData"],$A(g));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const b=d(t,["thought"]);b!=null&&h(e,["thought"],b);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const x=d(t,["videoMetadata"]);return x!=null&&h(e,["videoMetadata"],x),e}function cC(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],WA(i));const r=d(t,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function dC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>_)),h(e,["functionDeclarations"],b)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],tC(f));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],nC(g));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function fC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>QA(x))),h(e,["functionDeclarations"],_)}const r=d(t,["retrieval"]);r!=null&&h(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const g=d(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const b=d(t,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function hC(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),i}function pC(t,e){const i={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),i}function gC(t,e){const i={},r=d(e,["name"]);r!=null&&h(i,["_url","name"],es(t,r));const o=d(e,["config"]);return o!=null&&hC(o,i),i}function mC(t,e){const i={},r=d(e,["name"]);r!=null&&h(i,["_url","name"],es(t,r));const o=d(e,["config"]);return o!=null&&pC(o,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yC extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cr(Qi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(i),i)}async create(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=qA(this.apiClient,e);return f=ge("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>b)}else{const p=VA(this.apiClient,e);return f=ge("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>b)}}async get(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=eC(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>b)}else{const p=ZA(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>b)}}async delete(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=FA(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=KA(b),x=new Ny;return Object.assign(x,_),x})}else{const p=GA(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=JA(b),x=new Ny;return Object.assign(x,_),x})}}async update(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=mC(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>b)}else{const p=gC(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>b)}}async listInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=oC(e);return f=ge("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=lC(b),x=new ky;return Object.assign(x,_),x})}else{const p=rC(e);return f=ge("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=aC(b),x=new ky;return Object.assign(x,_),x})}}}function hu(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function Oy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(t){return this instanceof Ie?(this.v=t,this):new Ie(t)}function hi(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(T){return Promise.resolve(T).then(S,_)}}function f(S,T){r[S]&&(o[S]=function(C){return new Promise(function(A,N){l.push([S,C,A,N])>1||g(S,C)})},T&&(o[S]=T(o[S])))}function g(S,T){try{p(r[S](T))}catch(C){x(l[0][3],C)}}function p(S){S.value instanceof Ie?Promise.resolve(S.value.v).then(b,_):x(l[0][2],S)}function b(S){g("next",S)}function _(S){g("throw",S)}function x(S,T){S(T),l.shift(),l.length&&g(l[0][0],l[0][1])}}function pi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Oy=="function"?Oy(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=t[l]&&function(c){return new Promise(function(f,g){c=t[l](c),o(f,g,c.done,c.value)})}}function o(l,c,f,g){Promise.resolve(g).then(function(p){l({value:p,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:db(i)}function db(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ly(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let r=0;for(;r<i;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let l=!0;for(;r<i&&t[r].role==="model";)o.push(t[r]),l&&!db(t[r])&&(l=!1),r++;l?e.push(...o):e.pop()}return e}class _C{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new xC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xC{constructor(e,i,r,o={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),bC(l)}async sendMessage(e){var i;await this.sendPromise;const r=un(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,f;const g=await o,p=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,b=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let x=[];b!=null&&(x=(f=b.slice(_))!==null&&f!==void 0?f:[]);const S=p?[p]:[];this.recordHistory(r,S,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var i;await this.sendPromise;const r=un(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(e=!1){const i=e?Ly(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return hi(this,arguments,function*(){var o,l,c,f,g,p;const b=[];try{for(var _=!0,x=pi(e),S;S=yield Ie(x.next()),o=S.done,!o;_=!0){f=S.value,_=!1;const T=f;if(vC(T)){const C=(p=(g=T.candidates)===null||g===void 0?void 0:g[0])===null||p===void 0?void 0:p.content;C!==void 0&&b.push(C)}yield yield Ie(T)}}catch(T){l={error:T}}finally{try{!_&&!o&&(c=x.return)&&(yield Ie(c.call(x)))}finally{if(l)throw l.error}}this.recordHistory(i,b)})}recordHistory(e,i,r){let o=[];i.length>0&&i.every(l=>l.role!==void 0)?o=i:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ly(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Au extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Au.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(t){const e={},i=d(t,["file"]);return i!=null&&h(e,["file"],i),e}function SC(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function EC(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],sb(i)),e}function TC(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function AC(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","file"],sb(i)),e}function CC(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function NC(t){const e={},i=d(t,["config"]);return i!=null&&CC(i,e),e}function kC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cr(Qi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=NC(e);return l=ge("files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>{const p=kC(g),b=new UT;return Object.assign(b,p),b})}}async createInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=wC(e);return l=ge("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=SC(g),b=new PT;return Object.assign(b,p),b})}}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=AC(e);return l=ge("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>g)}}async delete(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=EC(e);return l=ge("files/{file}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>{const p=TC(g),b=new OT;return Object.assign(b,p),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tu(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function MC(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>JC(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function IC(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function DC(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UC(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function PC(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const r=d(t,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const g=d(t,["logprobs"]);g!=null&&h(e,["logprobs"],g);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const b=d(t,["mediaResolution"]);b!=null&&h(e,["mediaResolution"],b);const _=d(t,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const x=d(t,["responseLogprobs"]);x!=null&&h(e,["responseLogprobs"],x);const S=d(t,["responseMimeType"]);S!=null&&h(e,["responseMimeType"],S);const T=d(t,["responseModalities"]);T!=null&&h(e,["responseModalities"],T);const C=d(t,["responseSchema"]);C!=null&&h(e,["responseSchema"],C);const A=d(t,["routingConfig"]);A!=null&&h(e,["routingConfig"],A);const N=d(t,["seed"]);N!=null&&h(e,["seed"],N);const U=d(t,["speechConfig"]);U!=null&&h(e,["speechConfig"],fb(U));const M=d(t,["stopSequences"]);M!=null&&h(e,["stopSequences"],M);const V=d(t,["temperature"]);V!=null&&h(e,["temperature"],V);const G=d(t,["thinkingConfig"]);G!=null&&h(e,["thinkingConfig"],G);const X=d(t,["topK"]);X!=null&&h(e,["topK"],X);const O=d(t,["topP"]);if(O!=null&&h(e,["topP"],O),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function OC(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function LC(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function zC(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const b=d(t,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],lh(_));const x=d(t,["thinkingConfig"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","thinkingConfig"],x);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&h(e,["setup","systemInstruction"],MC(un(T)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let X=ho(C);Array.isArray(X)&&(X=X.map(O=>YC(fo(O)))),h(e,["setup","tools"],X)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],KC(A));const N=d(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&h(e,["setup","inputAudioTranscription"],N);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","outputAudioTranscription"],U);const M=d(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&h(e,["setup","realtimeInputConfig"],M);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&h(e,["setup","contextWindowCompression"],V);const G=d(t,["proactivity"]);if(e!==void 0&&G!=null&&h(e,["setup","proactivity"],G),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function jC(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],PC(r));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const b=d(t,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],fb(lh(_)));const x=d(t,["thinkingConfig"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","thinkingConfig"],x);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&h(e,["setup","systemInstruction"],un(T));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let O=ho(C);Array.isArray(O)&&(O=O.map(se=>XC(fo(se)))),h(e,["setup","tools"],O)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],A);const N=d(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&h(e,["setup","inputAudioTranscription"],N);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","outputAudioTranscription"],U);const M=d(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&h(e,["setup","realtimeInputConfig"],M);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&h(e,["setup","contextWindowCompression"],V);const G=d(t,["proactivity"]);e!==void 0&&G!=null&&h(e,["setup","proactivity"],G);const X=d(t,["explicitVadSignal"]);return e!==void 0&&X!=null&&h(e,["setup","explicitVadSignal"],X),i}function $C(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["setup","model"],et(t,r));const o=d(e,["config"]);return o!=null&&h(i,["config"],zC(o,i)),i}function HC(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["setup","model"],et(t,r));const o=d(e,["config"]);return o!=null&&h(i,["config"],jC(o,i)),i}function BC(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&h(e,["musicGenerationConfig"],i),e}function VC(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),h(e,["weightedPrompts"],r)}return e}function qC(t){const e={},i=d(t,["media"]);if(i!=null){let p=Zv(i);Array.isArray(p)&&(p=p.map(b=>tu(b))),h(e,["mediaChunks"],p)}const r=d(t,["audio"]);r!=null&&h(e,["audio"],tu(tb(r)));const o=d(t,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&h(e,["video"],tu(eb(l)));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const g=d(t,["activityEnd"]);return g!=null&&h(e,["activityEnd"],g),e}function GC(t){const e={},i=d(t,["media"]);if(i!=null){let p=Zv(i);Array.isArray(p)&&(p=p.map(b=>b)),h(e,["mediaChunks"],p)}const r=d(t,["audio"]);r!=null&&h(e,["audio"],tb(r));const o=d(t,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&h(e,["video"],eb(l));const c=d(t,["text"]);c!=null&&h(e,["text"],c);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const g=d(t,["activityEnd"]);return g!=null&&h(e,["activityEnd"],g),e}function FC(t){const e={},i=d(t,["setupComplete"]);i!=null&&h(e,["setupComplete"],i);const r=d(t,["serverContent"]);r!=null&&h(e,["serverContent"],r);const o=d(t,["toolCall"]);o!=null&&h(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],WC(c));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const g=d(t,["sessionResumptionUpdate"]);g!=null&&h(e,["sessionResumptionUpdate"],g);const p=d(t,["voiceActivityDetectionSignal"]);return p!=null&&h(e,["voiceActivityDetectionSignal"],p),e}function JC(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],IC(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],DC(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&h(e,["inlineData"],tu(g));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const b=d(t,["thought"]);b!=null&&h(e,["thought"],b);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const x=d(t,["videoMetadata"]);return x!=null&&h(e,["videoMetadata"],x),e}function KC(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fb(t){const e={},i=d(t,["voiceConfig"]);i!=null&&h(e,["voiceConfig"],i);const r=d(t,["languageCode"]);if(r!=null&&h(e,["languageCode"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function YC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>_)),h(e,["functionDeclarations"],b)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],OC(f));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],LC(g));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function XC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>UC(x))),h(e,["functionDeclarations"],_)}const r=d(t,["retrieval"]);r!=null&&h(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const g=d(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const b=d(t,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function WC(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&h(e,["promptTokenCount"],i);const r=d(t,["cachedContentTokenCount"]);r!=null&&h(e,["cachedContentTokenCount"],r);const o=d(t,["candidatesTokenCount"]);o!=null&&h(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const g=d(t,["promptTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["promptTokensDetails"],S)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["cacheTokensDetails"],S)}const b=d(t,["candidatesTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["responseTokensDetails"],S)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>T)),h(e,["toolUsePromptTokensDetails"],S)}const x=d(t,["trafficType"]);return x!=null&&h(e,["trafficType"],x),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function ZC(t){const e={},i=d(t,["content"]);i!=null&&h(e,["content"],i);const r=d(t,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],eN(r));const o=d(t,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const g=d(t,["index"]);g!=null&&h(e,["index"],g);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const b=d(t,["safetyRatings"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(S=>S)),h(e,["safetyRatings"],x)}const _=d(t,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function eN(t){const e={},i=d(t,["citationSources"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),h(e,["citations"],r)}return e}function tN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let l=Zn(o);Array.isArray(l)&&(l=l.map(c=>c)),h(i,["contents"],l)}return i}function nN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["tokensInfo"],o)}return e}function iN(t){const e={},i=d(t,["values"]);i!=null&&h(e,["values"],i);const r=d(t,["statistics"]);return r!=null&&h(e,["statistics"],sN(r)),e}function sN(t){const e={},i=d(t,["truncated"]);i!=null&&h(e,["truncated"],i);const r=d(t,["token_count"]);return r!=null&&h(e,["tokenCount"],r),e}function Cu(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>hk(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function rN(t){const e={},i=d(t,["controlType"]);i!=null&&h(e,["controlType"],i);const r=d(t,["enableControlImageComputation"]);return r!=null&&h(e,["computeControl"],r),e}function oN(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function aN(t,e){const i={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&h(e,["systemInstruction"],un(r));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>yb(f))),h(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],QN(l)),i}function lN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let c=Zn(o);Array.isArray(c)&&(c=c.map(f=>Cu(f))),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&oN(l),i}function uN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let c=Zn(o);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&aN(l,i),i}function cN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["totalTokens"]);r!=null&&h(e,["totalTokens"],r);const o=d(t,["cachedContentTokenCount"]);return o!=null&&h(e,["cachedContentTokenCount"],o),e}function dN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["totalTokens"]);return r!=null&&h(e,["totalTokens"],r),e}function fN(t,e){const i={},r=d(e,["model"]);return r!=null&&h(i,["_url","name"],et(t,r)),i}function hN(t,e){const i={},r=d(e,["model"]);return r!=null&&h(i,["_url","name"],et(t,r)),i}function pN(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function gN(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}function mN(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const g=d(t,["seed"]);e!==void 0&&g!=null&&h(e,["parameters","seed"],g);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const b=d(t,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const x=d(t,["includeRaiReason"]);e!==void 0&&x!=null&&h(e,["parameters","includeRaiReason"],x);const S=d(t,["language"]);e!==void 0&&S!=null&&h(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","mimeType"],T);const C=d(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","compressionQuality"],C);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&h(e,["parameters","addWatermark"],A);const N=d(t,["labels"]);e!==void 0&&N!=null&&h(e,["labels"],N);const U=d(t,["editMode"]);e!==void 0&&U!=null&&h(e,["parameters","editMode"],U);const M=d(t,["baseSteps"]);return e!==void 0&&M!=null&&h(e,["parameters","editConfig","baseSteps"],M),i}function yN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>bk(g))),h(i,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&mN(c,i),i}function vN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Nu(l))),h(e,["generatedImages"],o)}return e}function bN(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function _N(t,e){const i={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["instances[]","task_type"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&h(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),i}function xN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let f=rh(t,o);Array.isArray(f)&&(f=f.map(g=>g)),h(i,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&bN(l,i);const c=d(e,["model"]);return c!==void 0&&h(i,["requests[]","model"],et(t,c)),i}function wN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let c=rh(t,o);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&_N(l,i),i}function SN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function EN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>iN(c))),h(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function TN(t){const e={},i=d(t,["endpoint"]);i!=null&&h(e,["name"],i);const r=d(t,["deployedModelId"]);return r!=null&&h(e,["deployedModelId"],r),e}function AN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function CN(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NN(t){const e={},i=d(t,["mode"]);i!=null&&h(e,["mode"],i);const r=d(t,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kN(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&h(e,["description"],i);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&h(e,["response"],c);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function RN(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&h(i,["systemInstruction"],Cu(un(o)));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(r,["topP"],c);const f=d(e,["topK"]);f!=null&&h(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&h(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const b=d(e,["stopSequences"]);b!=null&&h(r,["stopSequences"],b);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const x=d(e,["logprobs"]);x!=null&&h(r,["logprobs"],x);const S=d(e,["presencePenalty"]);S!=null&&h(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&h(r,["frequencyPenalty"],T);const C=d(e,["seed"]);C!=null&&h(r,["seed"],C);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const N=d(e,["responseSchema"]);N!=null&&h(r,["responseSchema"],oh(N));const U=d(e,["responseJsonSchema"]);if(U!=null&&h(r,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=d(e,["safetySettings"]);if(i!==void 0&&M!=null){let Ae=M;Array.isArray(Ae)&&(Ae=Ae.map(Se=>_k(Se))),h(i,["safetySettings"],Ae)}const V=d(e,["tools"]);if(i!==void 0&&V!=null){let Ae=ho(V);Array.isArray(Ae)&&(Ae=Ae.map(Se=>Ck(fo(Se)))),h(i,["tools"],Ae)}const G=d(e,["toolConfig"]);if(i!==void 0&&G!=null&&h(i,["toolConfig"],Ak(G)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=d(e,["cachedContent"]);i!==void 0&&X!=null&&h(i,["cachedContent"],es(t,X));const O=d(e,["responseModalities"]);O!=null&&h(r,["responseModalities"],O);const se=d(e,["mediaResolution"]);se!=null&&h(r,["mediaResolution"],se);const te=d(e,["speechConfig"]);if(te!=null&&h(r,["speechConfig"],ah(te)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=d(e,["thinkingConfig"]);ye!=null&&h(r,["thinkingConfig"],ye);const ve=d(e,["imageConfig"]);ve!=null&&h(r,["imageConfig"],ik(ve));const Te=d(e,["enableEnhancedCivicAnswers"]);return Te!=null&&h(r,["enableEnhancedCivicAnswers"],Te),r}function MN(t,e,i){const r={},o=d(e,["systemInstruction"]);i!==void 0&&o!=null&&h(i,["systemInstruction"],un(o));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(r,["topP"],c);const f=d(e,["topK"]);f!=null&&h(r,["topK"],f);const g=d(e,["candidateCount"]);g!=null&&h(r,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const b=d(e,["stopSequences"]);b!=null&&h(r,["stopSequences"],b);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const x=d(e,["logprobs"]);x!=null&&h(r,["logprobs"],x);const S=d(e,["presencePenalty"]);S!=null&&h(r,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&h(r,["frequencyPenalty"],T);const C=d(e,["seed"]);C!=null&&h(r,["seed"],C);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const N=d(e,["responseSchema"]);N!=null&&h(r,["responseSchema"],oh(N));const U=d(e,["responseJsonSchema"]);U!=null&&h(r,["responseJsonSchema"],U);const M=d(e,["routingConfig"]);M!=null&&h(r,["routingConfig"],M);const V=d(e,["modelSelectionConfig"]);V!=null&&h(r,["modelConfig"],V);const G=d(e,["safetySettings"]);if(i!==void 0&&G!=null){let L=G;Array.isArray(L)&&(L=L.map(ne=>ne)),h(i,["safetySettings"],L)}const X=d(e,["tools"]);if(i!==void 0&&X!=null){let L=ho(X);Array.isArray(L)&&(L=L.map(ne=>yb(fo(ne)))),h(i,["tools"],L)}const O=d(e,["toolConfig"]);i!==void 0&&O!=null&&h(i,["toolConfig"],O);const se=d(e,["labels"]);i!==void 0&&se!=null&&h(i,["labels"],se);const te=d(e,["cachedContent"]);i!==void 0&&te!=null&&h(i,["cachedContent"],es(t,te));const ye=d(e,["responseModalities"]);ye!=null&&h(r,["responseModalities"],ye);const ve=d(e,["mediaResolution"]);ve!=null&&h(r,["mediaResolution"],ve);const Te=d(e,["speechConfig"]);Te!=null&&h(r,["speechConfig"],mb(ah(Te)));const Ae=d(e,["audioTimestamp"]);Ae!=null&&h(r,["audioTimestamp"],Ae);const Se=d(e,["thinkingConfig"]);Se!=null&&h(r,["thinkingConfig"],Se);const Xe=d(e,["imageConfig"]);if(Xe!=null&&h(r,["imageConfig"],sk(Xe)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function zy(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let c=Zn(o);Array.isArray(c)&&(c=c.map(f=>Cu(f))),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(i,["generationConfig"],RN(t,l,i)),i}function jy(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["contents"]);if(o!=null){let c=Zn(o);Array.isArray(c)&&(c=c.map(f=>f)),h(i,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(i,["generationConfig"],MN(t,l,i)),i}function $y(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>ZC(p))),h(e,["candidates"],g)}const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&h(e,["responseId"],c);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function Hy(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(b=>b)),h(e,["candidates"],p)}const o=d(t,["createTime"]);o!=null&&h(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const g=d(t,["usageMetadata"]);return g!=null&&h(e,["usageMetadata"],g),e}function IN(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const g=d(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&h(e,["parameters","includeSafetyAttributes"],g);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const b=d(t,["language"]);e!==void 0&&b!=null&&h(e,["parameters","language"],b);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const x=d(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&h(e,["parameters","outputOptions","compressionQuality"],x),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=d(t,["imageSize"]);if(e!==void 0&&S!=null&&h(e,["parameters","sampleImageSize"],S),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function DN(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const g=d(t,["seed"]);e!==void 0&&g!=null&&h(e,["parameters","seed"],g);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const b=d(t,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const x=d(t,["includeRaiReason"]);e!==void 0&&x!=null&&h(e,["parameters","includeRaiReason"],x);const S=d(t,["language"]);e!==void 0&&S!=null&&h(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","mimeType"],T);const C=d(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","compressionQuality"],C);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&h(e,["parameters","addWatermark"],A);const N=d(t,["labels"]);e!==void 0&&N!=null&&h(e,["labels"],N);const U=d(t,["imageSize"]);e!==void 0&&U!=null&&h(e,["parameters","sampleImageSize"],U);const M=d(t,["enhancePrompt"]);return e!==void 0&&M!=null&&h(e,["parameters","enhancePrompt"],M),i}function UN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&IN(l,i),i}function PN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&DN(l,i),i}function ON(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>KN(c))),h(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],pb(o)),e}function LN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Nu(c))),h(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],gb(o)),e}function zN(t,e){const i={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&h(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=d(t,["negativePrompt"]);e!==void 0&&g!=null&&h(e,["parameters","negativePrompt"],g);const p=d(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const b=d(t,["lastFrame"]);e!==void 0&&b!=null&&h(e,["instances[0]","lastFrame"],ku(b));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let x=_;Array.isArray(x)&&(x=x.map(S=>$k(S))),h(e,["instances[0]","referenceImages"],x)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function jN(t,e){const i={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const g=d(t,["aspectRatio"]);e!==void 0&&g!=null&&h(e,["parameters","aspectRatio"],g);const p=d(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const b=d(t,["personGeneration"]);e!==void 0&&b!=null&&h(e,["parameters","personGeneration"],b);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&h(e,["parameters","pubsubTopic"],_);const x=d(t,["negativePrompt"]);e!==void 0&&x!=null&&h(e,["parameters","negativePrompt"],x);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","enhancePrompt"],S);const T=d(t,["generateAudio"]);e!==void 0&&T!=null&&h(e,["parameters","generateAudio"],T);const C=d(t,["lastFrame"]);e!==void 0&&C!=null&&h(e,["instances[0]","lastFrame"],gi(C));const A=d(t,["referenceImages"]);if(e!==void 0&&A!=null){let M=A;Array.isArray(M)&&(M=M.map(V=>Hk(V))),h(e,["instances[0]","referenceImages"],M)}const N=d(t,["mask"]);e!==void 0&&N!=null&&h(e,["instances[0]","mask"],jk(N));const U=d(t,["compressionQuality"]);return e!==void 0&&U!=null&&h(e,["parameters","compressionQuality"],U),i}function $N(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],qN(c)),e}function HN(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],GN(c)),e}function BN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&h(i,["instances[0]","image"],ku(l));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],vb(c));const f=d(e,["source"]);f!=null&&FN(f,i);const g=d(e,["config"]);return g!=null&&zN(g,i),i}function VN(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["prompt"]);o!=null&&h(i,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&h(i,["instances[0]","image"],gi(l));const c=d(e,["video"]);c!=null&&h(i,["instances[0]","video"],bb(c));const f=d(e,["source"]);f!=null&&JN(f,i);const g=d(e,["config"]);return g!=null&&jN(g,i),i}function qN(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>XN(c))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function GN(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>WN(c))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function FN(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],ku(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],vb(l)),i}function JN(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],gi(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],bb(l)),i}function KN(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],rk(i));const r=d(t,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const o=d(t,["_self"]);return o!=null&&h(e,["safetyAttributes"],pb(o)),e}function Nu(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["image"],hb(i));const r=d(t,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const o=d(t,["_self"]);o!=null&&h(e,["safetyAttributes"],gb(o));const l=d(t,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function YN(t){const e={},i=d(t,["_self"]);i!=null&&h(e,["mask"],hb(i));const r=d(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["labels"],o)}return e}function XN(t){const e={},i=d(t,["video"]);return i!=null&&h(e,["video"],Lk(i)),e}function WN(t){const e={},i=d(t,["_self"]);return i!=null&&h(e,["video"],zk(i)),e}function QN(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&h(e,["modelConfig"],i);const r=d(t,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const g=d(t,["logprobs"]);g!=null&&h(e,["logprobs"],g);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const b=d(t,["mediaResolution"]);b!=null&&h(e,["mediaResolution"],b);const _=d(t,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const x=d(t,["responseLogprobs"]);x!=null&&h(e,["responseLogprobs"],x);const S=d(t,["responseMimeType"]);S!=null&&h(e,["responseMimeType"],S);const T=d(t,["responseModalities"]);T!=null&&h(e,["responseModalities"],T);const C=d(t,["responseSchema"]);C!=null&&h(e,["responseSchema"],C);const A=d(t,["routingConfig"]);A!=null&&h(e,["routingConfig"],A);const N=d(t,["seed"]);N!=null&&h(e,["seed"],N);const U=d(t,["speechConfig"]);U!=null&&h(e,["speechConfig"],mb(U));const M=d(t,["stopSequences"]);M!=null&&h(e,["stopSequences"],M);const V=d(t,["temperature"]);V!=null&&h(e,["temperature"],V);const G=d(t,["thinkingConfig"]);G!=null&&h(e,["thinkingConfig"],G);const X=d(t,["topK"]);X!=null&&h(e,["topK"],X);const O=d(t,["topP"]);if(O!=null&&h(e,["topP"],O),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ZN(t,e){const i={},r=d(e,["model"]);return r!=null&&h(i,["_url","name"],et(t,r)),i}function ek(t,e){const i={},r=d(e,["model"]);return r!=null&&h(i,["_url","name"],et(t,r)),i}function tk(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function nk(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function ik(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const r=d(t,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function sk(t){const e={},i=d(t,["aspectRatio"]);i!=null&&h(e,["aspectRatio"],i);const r=d(t,["imageSize"]);r!=null&&h(e,["imageSize"],r);const o=d(t,["outputMimeType"]);o!=null&&h(e,["imageOutputOptions","mimeType"],o);const l=d(t,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function rk(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&h(e,["imageBytes"],Ms(i));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function hb(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["imageBytes"],Ms(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function ku(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&h(e,["bytesBase64Encoded"],Ms(i));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function gi(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["gcsUri"],i);const r=d(t,["imageBytes"]);r!=null&&h(e,["bytesBase64Encoded"],Ms(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function ok(t,e,i){const r={},o=d(e,["pageSize"]);i!==void 0&&o!=null&&h(i,["_query","pageSize"],o);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&h(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],rb(t,f)),r}function ak(t,e,i){const r={},o=d(e,["pageSize"]);i!==void 0&&o!=null&&h(i,["_query","pageSize"],o);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&h(i,["_query","pageToken"],l);const c=d(e,["filter"]);i!==void 0&&c!=null&&h(i,["_query","filter"],c);const f=d(e,["queryBase"]);return i!==void 0&&f!=null&&h(i,["_url","models_url"],rb(t,f)),r}function lk(t,e){const i={},r=d(e,["config"]);return r!=null&&ok(t,r,i),i}function uk(t,e){const i={},r=d(e,["config"]);return r!=null&&ak(t,r,i),i}function ck(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=ob(o);Array.isArray(l)&&(l=l.map(c=>xf(c))),h(e,["models"],l)}return e}function dk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=ob(o);Array.isArray(l)&&(l=l.map(c=>wf(c))),h(e,["models"],l)}return e}function fk(t){const e={},i=d(t,["maskMode"]);i!=null&&h(e,["maskMode"],i);const r=d(t,["segmentationClasses"]);r!=null&&h(e,["maskClasses"],r);const o=d(t,["maskDilation"]);return o!=null&&h(e,["dilation"],o),e}function xf(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);o!=null&&h(e,["description"],o);const l=d(t,["version"]);l!=null&&h(e,["version"],l);const c=d(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],Nk(c));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const g=d(t,["outputTokenLimit"]);g!=null&&h(e,["outputTokenLimit"],g);const p=d(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const b=d(t,["temperature"]);b!=null&&h(e,["temperature"],b);const _=d(t,["maxTemperature"]);_!=null&&h(e,["maxTemperature"],_);const x=d(t,["topP"]);x!=null&&h(e,["topP"],x);const S=d(t,["topK"]);S!=null&&h(e,["topK"],S);const T=d(t,["thinking"]);return T!=null&&h(e,["thinking"],T),e}function wf(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);o!=null&&h(e,["description"],o);const l=d(t,["versionId"]);l!=null&&h(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(x=>TN(x))),h(e,["endpoints"],_)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const g=d(t,["_self"]);g!=null&&h(e,["tunedModelInfo"],kk(g));const p=d(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const b=d(t,["checkpoints"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(x=>x)),h(e,["checkpoints"],_)}return e}function hk(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],AN(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],CN(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&h(e,["inlineData"],QC(g));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const b=d(t,["thought"]);b!=null&&h(e,["thought"],b);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const x=d(t,["videoMetadata"]);return x!=null&&h(e,["videoMetadata"],x),e}function pk(t){const e={},i=d(t,["productImage"]);return i!=null&&h(e,["image"],gi(i)),e}function gk(t,e){const i={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&h(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const g=d(t,["personGeneration"]);e!==void 0&&g!=null&&h(e,["parameters","personGeneration"],g);const p=d(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&h(e,["parameters","outputOptions","mimeType"],b);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_);const x=d(t,["enhancePrompt"]);e!==void 0&&x!=null&&h(e,["parameters","enhancePrompt"],x);const S=d(t,["labels"]);return e!==void 0&&S!=null&&h(e,["labels"],S),i}function mk(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["source"]);o!=null&&vk(o,i);const l=d(e,["config"]);return l!=null&&gk(l,i),i}function yk(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Nu(o))),h(e,["generatedImages"],r)}return e}function vk(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["personImage"]);e!==void 0&&o!=null&&h(e,["instances[0]","personImage","image"],gi(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>pk(f))),h(e,["instances[0]","productImages"],c)}return i}function bk(t){const e={},i=d(t,["referenceImage"]);i!=null&&h(e,["referenceImage"],gi(i));const r=d(t,["referenceId"]);r!=null&&h(e,["referenceId"],r);const o=d(t,["referenceType"]);o!=null&&h(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],fk(l));const c=d(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],rN(c));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const g=d(t,["subjectImageConfig"]);return g!=null&&h(e,["subjectImageConfig"],g),e}function pb(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const r=d(t,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function gb(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&h(e,["categories"],i);const r=d(t,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function _k(t){const e={},i=d(t,["category"]);if(i!=null&&h(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function xk(t){const e={},i=d(t,["image"]);return i!=null&&h(e,["image"],gi(i)),e}function wk(t,e){const i={},r=d(t,["mode"]);e!==void 0&&r!=null&&h(e,["parameters","mode"],r);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&h(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const g=d(t,["labels"]);return e!==void 0&&g!=null&&h(e,["labels"],g),i}function Sk(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["source"]);o!=null&&Tk(o,i);const l=d(e,["config"]);return l!=null&&wk(l,i),i}function Ek(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>YN(o))),h(e,["generatedMasks"],r)}return e}function Tk(t,e){const i={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],gi(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],xk(l)),i}function mb(t){const e={},i=d(t,["voiceConfig"]);i!=null&&h(e,["voiceConfig"],i);const r=d(t,["languageCode"]);if(r!=null&&h(e,["languageCode"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ak(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&h(e,["functionCallingConfig"],NN(i));const r=d(t,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function Ck(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>_)),h(e,["functionDeclarations"],b)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],tk(f));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],nk(g));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function yb(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let _=i;Array.isArray(_)&&(_=_.map(x=>kN(x))),h(e,["functionDeclarations"],_)}const r=d(t,["retrieval"]);r!=null&&h(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const g=d(t,["googleMaps"]);g!=null&&h(e,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const b=d(t,["urlContext"]);return b!=null&&h(e,["urlContext"],b),e}function Nk(t){const e={},i=d(t,["baseModel"]);i!=null&&h(e,["baseModel"],i);const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function kk(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&h(e,["baseModel"],i);const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function Rk(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),i}function Mk(t,e){const i={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),i}function Ik(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","name"],et(t,r));const o=d(e,["config"]);return o!=null&&Rk(o,i),i}function Dk(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["config"]);return o!=null&&Mk(o,i),i}function Uk(t,e){const i={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&h(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const g=d(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&h(e,["parameters","outputOptions","compressionQuality"],g);const p=d(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const b=d(t,["imagePreservationFactor"]);e!==void 0&&b!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],b);const _=d(t,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const x=d(t,["numberOfImages"]);e!==void 0&&x!=null&&h(e,["parameters","sampleCount"],x);const S=d(t,["mode"]);return e!==void 0&&S!=null&&h(e,["parameters","mode"],S),i}function Pk(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["_url","model"],et(t,r));const o=d(e,["image"]);o!=null&&h(i,["instances[0]","image"],gi(o));const l=d(e,["upscaleFactor"]);l!=null&&h(i,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&Uk(c,i),i}function Ok(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Nu(l))),h(e,["generatedImages"],o)}return e}function Lk(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const r=d(t,["encodedVideo"]);r!=null&&h(e,["videoBytes"],Ms(r));const o=d(t,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function zk(t){const e={},i=d(t,["gcsUri"]);i!=null&&h(e,["uri"],i);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],Ms(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function jk(t){const e={},i=d(t,["image"]);i!=null&&h(e,["_self"],gi(i));const r=d(t,["maskMode"]);return r!=null&&h(e,["maskMode"],r),e}function $k(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],ku(i));const r=d(t,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function Hk(t){const e={},i=d(t,["image"]);i!=null&&h(e,["image"],gi(i));const r=d(t,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function vb(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["uri"],i);const r=d(t,["videoBytes"]);r!=null&&h(e,["encodedVideo"],Ms(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["encoding"],o),e}function bb(t){const e={},i=d(t,["uri"]);i!=null&&h(e,["gcsUri"],i);const r=d(t,["videoBytes"]);r!=null&&h(e,["bytesBase64Encoded"],Ms(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bk(t,e){const i={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&h(e,["displayName"],r),i}function Vk(t){const e={},i=d(t,["config"]);return i!=null&&Bk(i,e),e}function qk(t,e){const i={},r=d(t,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),i}function Gk(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const r=d(t,["config"]);return r!=null&&qk(r,e),e}function Fk(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function Jk(t,e){const i={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&h(e,["chunkingConfig"],o),i}function Kk(t){const e={},i=d(t,["name"]);i!=null&&h(e,["name"],i);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const c=d(t,["response"]);return c!=null&&h(e,["response"],Xk(c)),e}function Yk(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const r=d(t,["fileName"]);r!=null&&h(e,["fileName"],r);const o=d(t,["config"]);return o!=null&&Jk(o,e),e}function Xk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function Wk(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function Qk(t){const e={},i=d(t,["config"]);return i!=null&&Wk(i,e),e}function Zk(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function _b(t,e){const i={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&h(e,["mimeType"],r);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>g)),h(e,["customMetadata"],f)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),i}function e2(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&h(e,["_url","file_search_store_name"],i);const r=d(t,["config"]);return r!=null&&_b(r,e),e}function t2(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&h(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n2="Content-Type",i2="X-Server-Timeout",s2="User-Agent",Sf="x-goog-api-client",r2="1.33.0",o2=`google-genai-sdk/${r2}`,a2="v1beta1",l2="v1beta";class u2{constructor(e){var i,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:a2,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:l2,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,r){const o=[this.getRequestUrlInternal(i)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,r);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))o.searchParams.append(c,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,i){const r=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(i))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,i,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,r,o){if(i&&i.timeout||o){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const f=setTimeout(()=>l.abort(),i.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&c2(e,i.extraBody),e.headers=await this.getHeadersInternal(i,r),e}async unaryApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async o=>(await By(o),new vf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,i,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:r})).then(async o=>(await By(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return hi(this,arguments,function*(){var r;const o=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";const f="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:b}=yield Ie(o.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=l.decode(b,{stream:!0});try{const T=JSON.parse(_);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),A=C.status,N=C.code,U=`got status: ${A}. ${JSON.stringify(T)}`;if(N>=400&&N<600)throw new Au({message:U,status:N})}}catch(T){if(T.name==="ApiError")throw T}c+=_;let x=-1,S=0;for(;;){x=-1,S=0;for(const A of g){const N=c.indexOf(A);N!==-1&&(x===-1||N<x)&&(x=N,S=A.length)}if(x===-1)break;const T=c.substring(0,x);c=c.substring(x+S);const C=T.trim();if(C.startsWith(f)){const A=C.substring(f.length).trim();try{const N=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ie(new vf(N))}catch(N){throw new Error(`exception parsing stream chunk ${A}. ${N}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},i=o2+" "+this.clientOptions.userAgentExtra;return e[s2]=i,e[Sf]=i,e[n2]="application/json",e}async getHeadersInternal(e,i){const r=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))r.append(o,l);e.timeout&&e.timeout>0&&r.append(i2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,i),r}getFileName(e){var i;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(i=r.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),r}async uploadFile(e,i){var r;const o={};i!=null&&(o.mimeType=i.mimeType,o.name=i.name,o.displayName=i.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const f=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const g={file:o},p=this.getFileName(e),b=ge("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(b,o.sizeBytes,o.mimeType,p,g,i==null?void 0:i.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,r){var o;const l=this.clientOptions.uploader,c=await l.stat(i),f=String(c.size),g=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,b=this.getFileName(i),_={};r!=null&&_b(r,_);const x=await this.fetchUploadUrl(p,f,g,b,_,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(i,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,r,o,l,c){var f;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const b=(f=p==null?void 0:p.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(b===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return b}}async function By(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw i>=400&&i<600?new Au({message:o,status:i}):new Error(o)}}function c2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const f=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],b=f[g];p&&typeof p=="object"&&!Array.isArray(p)&&b&&typeof b=="object"&&!Array.isArray(b)?f[g]=r(b,p):(b&&p&&typeof b!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof b}, New type: ${typeof p}. Overwriting.`),f[g]=p)}return f}const o=r(i,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d2="mcp_used/unknown";let f2=!1;function xb(t){for(const e of t)if(h2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return f2}function wb(t){var e;const i=(e=t[Sf])!==null&&e!==void 0?e:"";t[Sf]=(i+` ${d2}`).trimStart()}function h2(t){return t!==null&&typeof t=="object"&&t instanceof uh}function p2(t){return hi(this,arguments,function*(i,r=100){let o,l=0;for(;l<r;){const c=yield Ie(i.listTools({cursor:o}));for(const f of c.tools)yield yield Ie(f),l++;if(!c.nextCursor)break;o=c.nextCursor}})}class uh{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new uh(e,i)}async initialize(){var e,i,r,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const b of this.mcpClients)try{for(var f=!0,g=(i=void 0,pi(p2(b))),p;p=await g.next(),e=p.done,!e;f=!0){o=p.value,f=!1;const _=o;c.push(_);const x=_.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=b}}catch(_){i={error:_}}finally{try{!f&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),FT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:r.name,arguments:r.args},void 0,l);i.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function g2(t,e,i){const r=new zT;let o;i.data instanceof Blob?o=JSON.parse(await i.data.text()):o=JSON.parse(i.data),Object.assign(r,o),e(r)}class m2{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r}async connect(e){var i,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=b2(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),g=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const b=new Promise(M=>{p=M}),_=e.callbacks,x=function(){p({})},S=this.apiClient,T={onopen:x,onmessage:M=>{g2(S,_.onmessage,M)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(M){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(M){}},C=this.webSocketFactory.create(g,v2(c),T);C.connect(),await b;const U={setup:{model:et(this.apiClient,e.model)}};return C.send(JSON.stringify(U)),new y2(C,this.apiClient)}}class y2{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=VC(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=BC(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function v2(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function b2(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function x2(t,e,i){const r=new LT;let o;i.data instanceof Blob?o=await i.data.text():i.data instanceof ArrayBuffer?o=new TextDecoder().decode(i.data):o=i.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=FC(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class w2{constructor(e,i,r){this.apiClient=e,this.auth=i,this.webSocketFactory=r,this.music=new m2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,r,o,l,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let b;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&xb(e.config.tools)&&wb(_);const x=A2(_);if(this.apiClient.isVertexAI())b=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,b);else{const te=this.apiClient.getApiKey();let ye="BidiGenerateContent",ve="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ye="BidiGenerateContentConstrained",ve="access_token"),b=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ye}?${ve}=${te}`}let S=()=>{};const T=new Promise(te=>{S=te}),C=e.callbacks,A=function(){var te;(te=C==null?void 0:C.onopen)===null||te===void 0||te.call(C),S({})},N=this.apiClient,U={onopen:A,onmessage:te=>{x2(N,C.onmessage,te)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function(te){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(te){}},M=this.webSocketFactory.create(b,T2(x),U);M.connect(),await T;let V=et(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const te=this.apiClient.getProject(),ye=this.apiClient.getLocation();V=`projects/${te}/locations/${ye}/`+V}let G={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cu.AUDIO]}:e.config.responseModalities=[cu.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],O=[];for(const te of X)if(this.isCallableTool(te)){const ye=te;O.push(await ye.tool())}else O.push(te);O.length>0&&(e.config.tools=O);const se={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=HC(this.apiClient,se):G=$C(this.apiClient,se),delete G.config,M.send(JSON.stringify(G)),new E2(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const S2={turnComplete:!0};class E2{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let r=[];try{r=Zn(i.turns),e.isVertexAI()||(r=r.map(o=>Cu(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:r,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let r=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?r=i.functionResponses:r=[i.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(_2)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},S2),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:GC(e)}:i={realtimeInput:qC(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function T2(t){const e={};return t.forEach((i,r)=>{e[r]=i}),e}function A2(t){const e=new Headers;for(const[i,r]of Object.entries(t))e.append(i,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vy=10;function qy(t){var e,i,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(so(c)){o=!0;break}if(!o)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function so(t){return"callTool"in t&&typeof t.callTool=="function"}function C2(t){var e,i,r;return(r=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(o=>so(o)))!==null&&r!==void 0?r:!1}function Gy(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(so(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(o)}),i}function Fy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N2 extends Zi{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var r,o,l,c,f;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!C2(i)||qy(i.config))return await this.generateContentInternal(g);const p=Gy(i);if(p.length>0){const C=p.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let b,_;const x=Zn(g.contents),S=(l=(o=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:Vy;let T=0;for(;T<S&&(b=await this.generateContentInternal(g),!(!b.functionCalls||b.functionCalls.length===0));){const C=b.candidates[0].content,A=[];for(const N of(f=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(so(N)){const M=await N.callTool(b.functionCalls);A.push(...M)}T++,_={role:"user",parts:A},g.contents=Zn(g.contents),g.contents.push(C),g.contents.push(_),Fy(g.config)&&(x.push(C),x.push(_))}return Fy(g.config)&&(b.automaticFunctionCallingHistory=x),b},this.generateContentStream=async i=>{var r,o,l,c,f;if(this.maybeMoveToResponseJsonSchem(i),qy(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const g=Gy(i);if(g.length>0){const _=g.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(o=(r=i==null?void 0:i.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,b=(f=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(p&&!b)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(r=>{var o;let l;const c=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((o=g==null?void 0:g.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let f;return l?f={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},f}),this.list=async i=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new cr(Qi.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async i=>{const r={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(r.referenceImages=i.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async i=>{let r={numberOfImages:1,mode:"upscale"};i.config&&(r=Object.assign(Object.assign({},r),i.config));const o={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async i=>{var r,o,l,c,f,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=i.video)===null||r===void 0)&&r.uri&&(!((o=i.video)===null||o===void 0)&&o.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(f=i.source)===null||f===void 0?void 0:f.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,r,o;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>so(g)?await g.tool():g)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&xb(e.config.tools)){const g=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),wb(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var i,r,o;const l=new Map;for(const c of(r=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&r!==void 0?r:[])if(so(c)){const f=c,g=await f.tool();for(const p of(o=g.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,f)}}return l}async processAfcStream(e){var i,r,o;const l=(o=(r=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Vy;let c=!1,f=0;const g=await this.initAfcToolsMap(e);return(function(p,b,_){return hi(this,arguments,function*(){for(var x,S,T,C,A,N;f<l;){c&&(f++,c=!1);const G=yield Ie(p.processParamsMaybeAddMcpUsage(_)),X=yield Ie(p.generateContentStreamInternal(G)),O=[],se=[];try{for(var U=!0,M=(S=void 0,pi(X)),V;V=yield Ie(M.next()),x=V.done,!x;U=!0){C=V.value,U=!1;const te=C;if(yield yield Ie(te),te.candidates&&(!((A=te.candidates[0])===null||A===void 0)&&A.content)){se.push(te.candidates[0].content);for(const ye of(N=te.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(f<l&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(ye.functionCall.name)){const ve=yield Ie(b.get(ye.functionCall.name).callTool([ye.functionCall]));O.push(...ve)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(te){S={error:te}}finally{try{!U&&!x&&(T=M.return)&&(yield Ie(T.call(M)))}finally{if(S)throw S.error}}if(O.length>0){c=!0;const te=new ua;te.candidates=[{content:{role:"user",parts:O}}],yield yield Ie(te);const ye=[];ye.push(...se),ye.push({role:"user",parts:O});const ve=Zn(_.contents).concat(ye);_.contents=ve}else break}})})(this,g,e)}async generateContentInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=jy(this.apiClient,e);return f=ge("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=Hy(b),x=new ua;return Object.assign(x,_),x})}else{const p=zy(this.apiClient,e);return f=ge("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=$y(b),x=new ua;return Object.assign(x,_),x})}}async generateContentStreamInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=jy(this.apiClient,e);return f=ge("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(_){return hi(this,arguments,function*(){var x,S,T,C;try{for(var A=!0,N=pi(_),U;U=yield Ie(N.next()),x=U.done,!x;A=!0){C=U.value,A=!1;const M=C,V=Hy(yield Ie(M.json()));V.sdkHttpResponse={headers:M.headers};const G=new ua;Object.assign(G,V),yield yield Ie(G)}}catch(M){S={error:M}}finally{try{!A&&!x&&(T=N.return)&&(yield Ie(T.call(N)))}finally{if(S)throw S.error}}})})}else{const p=zy(this.apiClient,e);return f=ge("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return hi(this,arguments,function*(){var x,S,T,C;try{for(var A=!0,N=pi(_),U;U=yield Ie(N.next()),x=U.done,!x;A=!0){C=U.value,A=!1;const M=C,V=$y(yield Ie(M.json()));V.sdkHttpResponse={headers:M.headers};const G=new ua;Object.assign(G,V),yield yield Ie(G)}}catch(M){S={error:M}}finally{try{!A&&!x&&(T=N.return)&&(yield Ie(T.call(N)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=wN(this.apiClient,e);return f=ge("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=EN(b),x=new xy;return Object.assign(x,_),x})}else{const p=xN(this.apiClient,e);return f=ge("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=SN(b),x=new xy;return Object.assign(x,_),x})}}async generateImagesInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=PN(this.apiClient,e);return f=ge("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=LN(b),x=new wy;return Object.assign(x,_),x})}else{const p=UN(this.apiClient,e);return f=ge("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=ON(b),x=new wy;return Object.assign(x,_),x})}}async editImageInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=yN(this.apiClient,e);return l=ge("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>{const p=vN(g),b=new AT;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Pk(this.apiClient,e);return l=ge("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>{const p=Ok(g),b=new CT;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=mk(this.apiClient,e);return l=ge("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=yk(g),b=new NT;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Sk(this.apiClient,e);return l=ge("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=Ek(g),b=new kT;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=ek(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>wf(b))}else{const p=ZN(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>xf(b))}}async listInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=uk(this.apiClient,e);return f=ge("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=dk(b),x=new Sy;return Object.assign(x,_),x})}else{const p=lk(this.apiClient,e);return f=ge("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=ck(b),x=new Sy;return Object.assign(x,_),x})}}async update(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=Dk(this.apiClient,e);return f=ge("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>wf(b))}else{const p=Ik(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>xf(b))}}async delete(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=hN(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=gN(b),x=new Ey;return Object.assign(x,_),x})}else{const p=fN(this.apiClient,e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=pN(b),x=new Ey;return Object.assign(x,_),x})}}async countTokens(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=uN(this.apiClient,e);return f=ge("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=dN(b),x=new Ty;return Object.assign(x,_),x})}else{const p=lN(this.apiClient,e);return f=ge("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=cN(b),x=new Ty;return Object.assign(x,_),x})}}async computeTokens(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=tN(this.apiClient,e);return l=ge("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>{const p=nN(g),b=new RT;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=VN(this.apiClient,e);return f=ge("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c.then(b=>{const _=HN(b),x=new du;return Object.assign(x,_),x})}else{const p=BN(this.apiClient,e);return f=ge("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c.then(b=>{const _=$N(b),x=new du;return Object.assign(x,_),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k2 extends Zi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const i=e.operation,r=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=i.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:o,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:i.name,config:r});return i._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=_T(e);return f=ge("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json()),c}else{const p=bT(e);return f=ge("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json()),c}}async fetchPredictVideosOperationInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=fT(e);return l=ge("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R2(t){const e={},i=d(t,["data"]);if(i!=null&&h(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function M2(t){const e={},i=d(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>$2(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function I2(t,e,i){const r={},o=d(e,["expireTime"]);i!==void 0&&o!=null&&h(i,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&h(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&h(i,["uses"],c);const f=d(e,["liveConnectConstraints"]);i!==void 0&&f!=null&&h(i,["bidiGenerateContentSetup"],j2(t,f));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&h(i,["fieldMask"],g),r}function D2(t,e){const i={},r=d(e,["config"]);return r!=null&&h(i,["config"],I2(t,r,i)),i}function U2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&h(e,["fileUri"],i);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function P2(t){const e={},i=d(t,["id"]);i!=null&&h(e,["id"],i);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O2(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&h(e,["enableWidget"],i),e}function L2(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&h(e,["timeRangeFilter"],i),e}function z2(t,e){const i={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&h(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const b=d(t,["seed"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","seed"],b);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],lh(_));const x=d(t,["thinkingConfig"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","thinkingConfig"],x);const S=d(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],S);const T=d(t,["systemInstruction"]);e!==void 0&&T!=null&&h(e,["setup","systemInstruction"],M2(un(T)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let X=ho(C);Array.isArray(X)&&(X=X.map(O=>B2(fo(O)))),h(e,["setup","tools"],X)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],H2(A));const N=d(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&h(e,["setup","inputAudioTranscription"],N);const U=d(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","outputAudioTranscription"],U);const M=d(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&h(e,["setup","realtimeInputConfig"],M);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&h(e,["setup","contextWindowCompression"],V);const G=d(t,["proactivity"]);if(e!==void 0&&G!=null&&h(e,["setup","proactivity"],G),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function j2(t,e){const i={},r=d(e,["model"]);r!=null&&h(i,["setup","model"],et(t,r));const o=d(e,["config"]);return o!=null&&h(i,["config"],z2(o,i)),i}function $2(t){const e={},i=d(t,["mediaResolution"]);i!=null&&h(e,["mediaResolution"],i);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],U2(l));const c=d(t,["functionCall"]);c!=null&&h(e,["functionCall"],P2(c));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const g=d(t,["inlineData"]);g!=null&&h(e,["inlineData"],R2(g));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const b=d(t,["thought"]);b!=null&&h(e,["thought"],b);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const x=d(t,["videoMetadata"]);return x!=null&&h(e,["videoMetadata"],x),e}function H2(t){const e={},i=d(t,["handle"]);if(i!=null&&h(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function B2(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(_=>_)),h(e,["functionDeclarations"],b)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],O2(f));const g=d(t,["googleSearch"]);g!=null&&h(e,["googleSearch"],L2(g));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V2(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(l=>`${i}.${l}`);e.push(...o)}else e.push(i)}return e.join(",")}function q2(t,e){let i=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(i){const l=V2(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];l&&g.push(l),f.length>0&&g.push(...f),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class G2 extends Zi{constructor(e){super(),this.apiClient=e}async create(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=D2(this.apiClient,e);l=ge("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const g=q2(f,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F2(t,e){const i={},r=d(t,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),i}function J2(t){const e={},i=d(t,["name"]);i!=null&&h(e,["_url","name"],i);const r=d(t,["config"]);return r!=null&&F2(r,e),e}function K2(t){const e={},i=d(t,["name"]);return i!=null&&h(e,["_url","name"],i),e}function Y2(t,e){const i={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),i}function X2(t){const e={},i=d(t,["parent"]);i!=null&&h(e,["_url","parent"],i);const r=d(t,["config"]);return r!=null&&Y2(r,e),e}function W2(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&h(e,["sdkHttpResponse"],i);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q2 extends Zi{constructor(e){super(),this.apiClient=e,this.list=async i=>new cr(Qi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:i.parent,config:r.config}),await this.listInternal(i),i)}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=K2(e);return l=ge("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>g)}}async delete(e){var i,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=J2(e);o=ge("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=X2(e);return l=ge("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=W2(g),b=new MT;return Object.assign(b,p),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z2 extends Zi{constructor(e,i=new Q2(e)){super(),this.apiClient=e,this.documents=i,this.list=async(r={})=>new cr(Qi.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Vk(e);return l=ge("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>g)}}async get(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Fk(e);return l=ge("{name}",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>g)}}async delete(e){var i,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Gk(e);o=ge("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Qk(e);return l=ge("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=Zk(g),b=new IT;return Object.assign(b,p),b})}}async uploadToFileSearchStoreInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=e2(e);return l=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=t2(g),b=new DT;return Object.assign(b,p),b})}}async importFile(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Yk(e);return l=ge("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),o.then(g=>{const p=Kk(g),b=new ih;return Object.assign(b,p),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Sb=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Sb=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^i()&15>>+r/4).toString(16))};const eR=()=>Sb();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ef(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Tf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei extends Error{}class gn extends ei{constructor(e,i,r,o){super(`${gn.makeMessage(e,i,r)}`),this.status=e,this.headers=o,this.error=i}static makeMessage(e,i,r){const o=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,i,r,o){if(!e||!o)return new Ru({message:r,cause:Tf(i)});const l=i;return e===400?new Tb(e,l,r,o):e===401?new Ab(e,l,r,o):e===403?new Cb(e,l,r,o):e===404?new Nb(e,l,r,o):e===409?new kb(e,l,r,o):e===422?new Rb(e,l,r,o):e===429?new Mb(e,l,r,o):e>=500?new Ib(e,l,r,o):new gn(e,l,r,o)}}class Af extends gn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ru extends gn{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Eb extends Ru{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Tb extends gn{}class Ab extends gn{}class Cb extends gn{}class Nb extends gn{}class kb extends gn{}class Rb extends gn{}class Mb extends gn{}class Ib extends gn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tR=/^[a-z][a-z0-9+.-]*:/i,nR=t=>tR.test(t);let Cf=t=>(Cf=Array.isArray,Cf(t));const iR=Cf;let sR=iR;const Jy=sR;function rR(t){if(!t)return!0;for(const e in t)return!1;return!0}function oR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const aR=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ei(`${t} must be an integer`);if(e<0)throw new ei(`${t} must be a positive integer`);return e},lR=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uR=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dR=()=>{var t,e,i,r,o;const l=cR();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wr,"X-Stainless-OS":Yy(Deno.build.os),"X-Stainless-Arch":Ky(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wr,"X-Stainless-OS":Yy((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Ky((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const c=fR();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fR(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const r=i.exec(navigator.userAgent);if(r){const o=r[1]||0,l=r[2]||0,c=r[3]||0;return{browser:e,version:`${o}.${l}.${c}`}}}return null}const Ky=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Yy=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $l;const hR=()=>$l??($l=dR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Db(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function gR(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Db({start(){},async pull(i){const{done:r,value:o}=await e.next();r?i.close():i.enqueue(o)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Ub(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mR(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const r=t.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yR=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pb=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xd(t,e,i){return Pb(),new File(t,e??"unknown_file",i)}function vR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const bR=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ob=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",_R=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ob(t),xR=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function wR(t,e,i){if(Pb(),t=await t,_R(t))return t instanceof File?t:Xd([await t.arrayBuffer()],t.name);if(xR(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xd(await Nf(o),e,i)}const r=await Nf(t);if(e||(e=vR(t)),!(i!=null&&i.type)){const o=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(i=Object.assign(Object.assign({},i),{type:o}))}return Xd(r,e,i)}async function Nf(t){var e,i,r,o,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Ob(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(bR(t))try{for(var f=!0,g=pi(t),p;p=await g.next(),e=p.done,!e;f=!0){o=p.value,f=!1;const b=o;c.push(...await Nf(b))}}catch(b){i={error:b}}finally{try{!f&&!e&&(r=g.return)&&await r.call(g)}finally{if(i)throw i.error}}else{const b=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${b?`; constructor: ${b}`:""}${SR(t)}`)}return c}function SR(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lb{constructor(e){this._client=e}}Lb._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zb(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xy=Object.freeze(Object.create(null)),ER=(t=zb)=>(function(i,...r){if(i.length===1)return i[0];let o=!1;const l=[],c=i.reduce((b,_,x)=>{var S,T,C;/[?#]/.test(_)&&(o=!0);const A=r[x];let N=(o?encodeURIComponent:t)(""+A);return x!==r.length&&(A==null||typeof A=="object"&&A.toString===((C=Object.getPrototypeOf((T=Object.getPrototypeOf((S=A.hasOwnProperty)!==null&&S!==void 0?S:Xy))!==null&&T!==void 0?T:Xy))===null||C===void 0?void 0:C.toString))&&(N=A+"",l.push({start:b.length+_.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),b+_+(x===r.length?"":N)},""),f=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=g.exec(f))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((b,_)=>b.start-_.start),l.length>0){let b=0;const _=l.reduce((x,S)=>{const T=" ".repeat(S.start-b),C="^".repeat(S.length);return b=S.start+S.length,x+T+C},"");throw new ei(`Path parameters result in path with invalid segments:
${l.map(x=>x.error).join(`
`)}
${c}
${_}`)}return c}),Hl=ER(zb);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jb extends Lb{create(e,i){var r;const{api_version:o=this._client.apiVersion}=e,l=hu(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new ei("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new ei("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Hl`/${o}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,i={},r){const{api_version:o=this._client.apiVersion}=i??{};return this._client.delete(Hl`/${o}/interactions/${e}`,r)}cancel(e,i={},r){const{api_version:o=this._client.apiVersion}=i??{};return this._client.post(Hl`/${o}/interactions/${e}/cancel`,r)}get(e,i={},r){var o;const l=i??{},{api_version:c=this._client.apiVersion}=l,f=hu(l,["api_version"]);return this._client.get(Hl`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},r),{stream:(o=i==null?void 0:i.stream)!==null&&o!==void 0?o:!1}))}}jb._key=Object.freeze(["interactions"]);class $b extends jb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TR(t){let e=0;for(const o of t)e+=o.length;const i=new Uint8Array(e);let r=0;for(const o of t)i.set(o,r),r+=o.length;return i}let Bl;function ch(t){let e;return(Bl??(e=new globalThis.TextEncoder,Bl=e.encode.bind(e)))(t)}let Vl;function Wy(t){let e;return(Vl??(e=new globalThis.TextDecoder,Vl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ch(e):e;this.buffer=TR([this.buffer,i]);const r=[];let o;for(;(o=AR(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(Wy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,c=Wy(this.buffer.subarray(0,l));r.push(c),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Mu.NEWLINE_CHARS=new Set([`
`,"\r"]);Mu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function AR(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function CR(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pu={off:0,error:200,warn:300,info:400,debug:500},Qy=(t,e,i)=>{if(t){if(oR(pu,t))return t;pn(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(pu))}`)}};function ha(){}function ql(t,e,i){return!e||pu[t]>pu[i]?ha:e[t].bind(e)}const NR={error:ha,warn:ha,info:ha,debug:ha};let Zy=new WeakMap;function pn(t){var e;const i=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return NR;const o=Zy.get(i);if(o&&o[0]===r)return o[1];const l={error:ql("error",i,r),warn:ql("warn",i,r),info:ql("info",i,r),debug:ql("debug",i,r)};return Zy.set(i,[r,l]),l}const nr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{constructor(e,i,r){this.iterator=e,this.controller=i,this.client=r}static fromSSEResponse(e,i,r){let o=!1;const l=r?pn(r):console;function c(){return hi(this,arguments,function*(){var g,p,b,_;if(o)throw new ei("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let x=!1;try{try{for(var S=!0,T=pi(kR(e,i)),C;C=yield Ie(T.next()),g=C.done,!g;S=!0){_=C.value,S=!1;const A=_;if(!x)if(A.data.startsWith("[DONE]")){x=!0;continue}else try{yield yield Ie(JSON.parse(A.data))}catch(N){throw l.error("Could not parse message into JSON:",A.data),l.error("From chunk:",A.raw),N}}}catch(A){p={error:A}}finally{try{!S&&!g&&(b=T.return)&&(yield Ie(b.call(T)))}finally{if(p)throw p.error}}x=!0}catch(A){if(Ef(A))return yield Ie(void 0);throw A}finally{x||i.abort()}})}return new no(c,i,r)}static fromReadableStream(e,i,r){let o=!1;function l(){return hi(this,arguments,function*(){var g,p,b,_;const x=new Mu,S=Ub(e);try{for(var T=!0,C=pi(S),A;A=yield Ie(C.next()),g=A.done,!g;T=!0){_=A.value,T=!1;const N=_;for(const U of x.decode(N))yield yield Ie(U)}}catch(N){p={error:N}}finally{try{!T&&!g&&(b=C.return)&&(yield Ie(b.call(C)))}finally{if(p)throw p.error}}for(const N of x.flush())yield yield Ie(N)})}function c(){return hi(this,arguments,function*(){var g,p,b,_;if(o)throw new ei("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let x=!1;try{try{for(var S=!0,T=pi(l()),C;C=yield Ie(T.next()),g=C.done,!g;S=!0){_=C.value,S=!1;const A=_;x||A&&(yield yield Ie(JSON.parse(A)))}}catch(A){p={error:A}}finally{try{!S&&!g&&(b=T.return)&&(yield Ie(b.call(T)))}finally{if(p)throw p.error}}x=!0}catch(A){if(Ef(A))return yield Ie(void 0);throw A}finally{x||i.abort()}})}return new no(c,i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],r=this.iterator(),o=l=>({next:()=>{if(l.length===0){const c=r.next();e.push(c),i.push(c)}return l.shift()}});return[new no(()=>o(e),this.controller,this.client),new no(()=>o(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Db({async start(){i=e[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:l}=await i.next();if(l)return r.close();const c=ch(JSON.stringify(o)+`
`);r.enqueue(c)}catch(o){r.error(o)}},async cancel(){var r;await((r=i.return)===null||r===void 0?void 0:r.call(i))}})}}function kR(t,e){return hi(this,arguments,function*(){var r,o,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ei("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ei("Attempted to iterate over a response with no body");const f=new MR,g=new Mu,p=Ub(t.body);try{for(var b=!0,_=pi(RR(p)),x;x=yield Ie(_.next()),r=x.done,!r;b=!0){c=x.value,b=!1;const S=c;for(const T of g.decode(S)){const C=f.decode(T);C&&(yield yield Ie(C))}}}catch(S){o={error:S}}finally{try{!b&&!r&&(l=_.return)&&(yield Ie(l.call(_)))}finally{if(o)throw o.error}}for(const S of g.flush()){const T=f.decode(S);T&&(yield yield Ie(T))}})}function RR(t){return hi(this,arguments,function*(){var i,r,o,l;let c=new Uint8Array;try{for(var f=!0,g=pi(t),p;p=yield Ie(g.next()),i=p.done,!i;f=!0){l=p.value,f=!1;const b=l;if(b==null)continue;const _=b instanceof ArrayBuffer?new Uint8Array(b):typeof b=="string"?ch(b):b;let x=new Uint8Array(c.length+_.length);x.set(c),x.set(_,c.length),c=x;let S;for(;(S=CR(c))!==-1;)yield yield Ie(c.slice(0,S)),c=c.slice(S)}}catch(b){r={error:b}}finally{try{!f&&!i&&(o=g.return)&&(yield Ie(o.call(g)))}finally{if(r)throw r.error}}c.length>0&&(yield yield Ie(c))})}class MR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,r,o]=IR(e,":");return o.startsWith(" ")&&(o=o.substring(1)),i==="event"?this.event=o:i==="data"&&this.data.push(o),null}}function IR(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DR(t,e){const{response:i,requestLogID:r,retryOfRequestLogID:o,startTime:l}=e,c=await(async()=>{var f;if(e.options.stream)return pn(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):no.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),p=(f=g==null?void 0:g.split(";")[0])===null||f===void 0?void 0:f.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await i.json():await i.text()})();return pn(t).debug(`[${r}] response parsed`,nr({retryOfRequestLogID:o,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dh extends Promise{constructor(e,i,r=DR){super(o=>{o(null)}),this.responsePromise=i,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new dh(this.client,this.responsePromise,async(i,r)=>e(await this.parseResponse(i,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb=Symbol("brand.privateNullableHeaders");function*UR(t){if(!t)return;if(Hb in t){const{values:r,nulls:o}=t;yield*r.entries();for(const l of o)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():Jy(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let r of i){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=Jy(r[1])?r[1]:[r[1]];let c=!1;for(const f of l)f!==void 0&&(e&&!c&&(c=!0,yield[o,null]),yield[o,f])}}const Wd=t=>{const e=new Headers,i=new Set;for(const r of t){const o=new Set;for(const[l,c]of UR(r)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),c===null?(e.delete(l),i.add(f)):(e.append(l,c),i.delete(f))}}return{[Hb]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qd=t=>{var e,i,r,o,l,c;if(typeof globalThis.process<"u")return(r=(i=(e=oT)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bb;class Iu{constructor(e){var i,r,o,l,c,f,g,p=e===void 0?{}:e,{baseURL:b=Qd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(i=Qd("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:x="v1beta"}=p,S=hu(p,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:_,apiVersion:x},S),{baseURL:b||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:Iu.DEFAULT_TIMEOUT,this.logger=(o=T.logger)!==null&&o!==void 0?o:console;const C="warn";this.logLevel=C,this.logLevel=(c=(l=Qy(T.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Qy(Qd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:C,this.fetchOptions=T.fetchOptions,this.maxRetries=(f=T.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(g=T.fetch)!==null&&g!==void 0?g:pR(),this.encoder=yR,this._options=T,this.apiKey=_,this.apiVersion=x}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Wd([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([i,r])=>typeof r<"u").map(([i,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(i)}=`;throw new ei(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wr}`}defaultIdempotencyKey(){return`stainless-node-retry-${eR()}`}makeStatusError(e,i,r,o){return gn.generate(e,i,r,o)}buildURL(e,i,r){const o=!this.baseURLOverridden()&&r||this.baseURL,l=nR(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return rR(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){}async prepareRequest(e,{url:i,options:r}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:e,path:i},o)))}request(e,i=null){return new dh(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,r){var o,l,c;const f=await e,g=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;i==null&&(i=g),await this.prepareOptions(f);const{req:p,url:b,timeout:_}=await this.buildRequest(f,{retryCount:g-i});await this.prepareRequest(p,{url:b,options:f});const x="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=r===void 0?"":`, retryOf: ${r}`,T=Date.now();if(pn(this).debug(`[${x}] sending request`,nr({retryOfRequestLogID:r,method:f.method,url:b,options:f,headers:p.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Af;const C=new AbortController,A=await this.fetchWithTimeout(b,p,_,C).catch(Tf),N=Date.now();if(A instanceof globalThis.Error){const M=`retrying, ${i} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Af;const V=Ef(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return pn(this).info(`[${x}] connection ${V?"timed out":"failed"} - ${M}`),pn(this).debug(`[${x}] connection ${V?"timed out":"failed"} (${M})`,nr({retryOfRequestLogID:r,url:b,durationMs:N-T,message:A.message})),this.retryRequest(f,i,r??x);throw pn(this).info(`[${x}] connection ${V?"timed out":"failed"} - error; no more retries left`),pn(this).debug(`[${x}] connection ${V?"timed out":"failed"} (error; no more retries left)`,nr({retryOfRequestLogID:r,url:b,durationMs:N-T,message:A.message})),V?new Eb:new Ru({cause:A})}const U=`[${x}${S}] ${p.method} ${b} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${N-T}ms`;if(!A.ok){const M=await this.shouldRetry(A);if(i&&M){const te=`retrying, ${i} attempts remaining`;return await mR(A.body),pn(this).info(`${U} - ${te}`),pn(this).debug(`[${x}] response error (${te})`,nr({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:N-T})),this.retryRequest(f,i,r??x,A.headers)}const V=M?"error; no more retries left":"error; not retryable";pn(this).info(`${U} - ${V}`);const G=await A.text().catch(te=>Tf(te).message),X=lR(G),O=X?void 0:G;throw pn(this).debug(`[${x}] response error (${V})`,nr({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:O,durationMs:Date.now()-T})),this.makeStatusError(A.status,X,O,A.headers)}return pn(this).info(U),pn(this).debug(`[${x}] response start`,nr({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:N-T})),{response:A,options:f,controller:C,requestLogID:x,retryOfRequestLogID:r,startTime:T}}async fetchWithTimeout(e,i,r,o){const l=i||{},{signal:c,method:f}=l,g=hu(l,["signal","method"]);c&&c.addEventListener("abort",()=>o.abort());const p=setTimeout(()=>o.abort(),r),b=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,_=Object.assign(Object.assign(Object.assign({signal:o.signal},b?{duplex:"half"}:{}),{method:"GET"}),g);f&&(_.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(p)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,r,o){var l;let c;const f=o==null?void 0:o.get("retry-after-ms");if(f){const p=parseFloat(f);Number.isNaN(p)||(c=p)}const g=o==null?void 0:o.get("retry-after");if(g&&!c){const p=parseFloat(g);Number.isNaN(p)?c=Date.parse(g)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await uR(c),this.makeRequest(e,i-1,r)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:i=0}={}){var r,o,l;const c=Object.assign({},e),{method:f,path:g,query:p,defaultBaseURL:b}=c,_=this.buildURL(g,p,b);"timeout"in c&&aR("timeout",c.timeout),c.timeout=(r=c.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:x,body:S}=this.buildBody({options:c}),T=await this.buildHeaders({options:e,method:f,bodyHeaders:x,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:T},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:r,retryCount:o}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=Wd([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),hR()),await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Wd([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:gR(e)}:this.encoder({body:e,headers:r})}}Iu.DEFAULT_TIMEOUT=6e4;class Kt extends Iu{constructor(){super(...arguments),this.interactions=new $b(this)}}Bb=Kt;Kt.GeminiNextGenAPIClient=Bb;Kt.GeminiNextGenAPIClientError=ei;Kt.APIError=gn;Kt.APIConnectionError=Ru;Kt.APIConnectionTimeoutError=Eb;Kt.APIUserAbortError=Af;Kt.NotFoundError=Nb;Kt.ConflictError=kb;Kt.RateLimitError=Mb;Kt.BadRequestError=Tb;Kt.AuthenticationError=Ab;Kt.InternalServerError=Ib;Kt.PermissionDeniedError=Cb;Kt.UnprocessableEntityError=Rb;Kt.toFile=wR;Kt.Interactions=$b;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(t,e){const i={},r=d(t,["name"]);return r!=null&&h(i,["_url","name"],r),i}function OR(t,e){const i={},r=d(t,["name"]);return r!=null&&h(i,["_url","name"],r),i}function LR(t,e){const i={},r=d(t,["sdkHttpResponse"]);return r!=null&&h(i,["sdkHttpResponse"],r),i}function zR(t,e){const i={},r=d(t,["sdkHttpResponse"]);return r!=null&&h(i,["sdkHttpResponse"],r),i}function jR(t,e,i){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&h(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const g=d(t,["learningRate"]);if(e!==void 0&&g!=null&&h(e,["tuningTask","hyperparameters","learningRate"],g),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function $R(t,e,i){const r={};let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const S=d(t,["validationDataset"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec"],ev(S))}else if(o==="PREFERENCE_TUNING"){const S=d(t,["validationDataset"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec"],ev(S))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let f=d(i,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=d(t,["epochCount"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(f==="PREFERENCE_TUNING"){const S=d(t,["epochCount"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=d(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(g==="PREFERENCE_TUNING"){const S=d(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const S=d(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(p==="PREFERENCE_TUNING"){const S=d(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let b=d(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const S=d(t,["adapterSize"]);e!==void 0&&S!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(b==="PREFERENCE_TUNING"){const S=d(t,["adapterSize"]);e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const x=d(t,["beta"]);return e!==void 0&&x!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],x),r}function HR(t,e){const i={},r=d(t,["baseModel"]);r!=null&&h(i,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&h(i,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&QR(l);const c=d(t,["config"]);return c!=null&&jR(c,i),i}function BR(t,e){const i={},r=d(t,["baseModel"]);r!=null&&h(i,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&h(i,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&ZR(l,i,e);const c=d(t,["config"]);return c!=null&&$R(c,i,e),i}function VR(t,e){const i={},r=d(t,["name"]);return r!=null&&h(i,["_url","name"],r),i}function qR(t,e){const i={},r=d(t,["name"]);return r!=null&&h(i,["_url","name"],r),i}function GR(t,e,i){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),r}function FR(t,e,i){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),r}function JR(t,e){const i={},r=d(t,["config"]);return r!=null&&GR(r,i),i}function KR(t,e){const i={},r=d(t,["config"]);return r!=null&&FR(r,i),i}function YR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&h(i,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&h(i,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Vb(f))),h(i,["tuningJobs"],c)}return i}function XR(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&h(i,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&h(i,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>kf(f))),h(i,["tuningJobs"],c)}return i}function WR(t,e){const i={},r=d(t,["name"]);r!=null&&h(i,["model"],r);const o=d(t,["name"]);return o!=null&&h(i,["endpoint"],o),i}function QR(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),h(i,["examples","examples"],o)}return i}function ZR(t,e,i){const r={};let o=d(i,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Vb(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&h(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&h(i,["name"],o);const l=d(t,["state"]);l!=null&&h(i,["state"],ib(l));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["tuningTask","startTime"]);f!=null&&h(i,["startTime"],f);const g=d(t,["tuningTask","completeTime"]);g!=null&&h(i,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const b=d(t,["description"]);b!=null&&h(i,["description"],b);const _=d(t,["baseModel"]);_!=null&&h(i,["baseModel"],_);const x=d(t,["_self"]);return x!=null&&h(i,["tunedModel"],WR(x)),i}function kf(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&h(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&h(i,["name"],o);const l=d(t,["state"]);l!=null&&h(i,["state"],ib(l));const c=d(t,["createTime"]);c!=null&&h(i,["createTime"],c);const f=d(t,["startTime"]);f!=null&&h(i,["startTime"],f);const g=d(t,["endTime"]);g!=null&&h(i,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&h(i,["updateTime"],p);const b=d(t,["error"]);b!=null&&h(i,["error"],b);const _=d(t,["description"]);_!=null&&h(i,["description"],_);const x=d(t,["baseModel"]);x!=null&&h(i,["baseModel"],x);const S=d(t,["tunedModel"]);S!=null&&h(i,["tunedModel"],S);const T=d(t,["preTunedModel"]);T!=null&&h(i,["preTunedModel"],T);const C=d(t,["supervisedTuningSpec"]);C!=null&&h(i,["supervisedTuningSpec"],C);const A=d(t,["preferenceOptimizationSpec"]);A!=null&&h(i,["preferenceOptimizationSpec"],A);const N=d(t,["tuningDataStats"]);N!=null&&h(i,["tuningDataStats"],N);const U=d(t,["encryptionSpec"]);U!=null&&h(i,["encryptionSpec"],U);const M=d(t,["partnerModelTuningSpec"]);M!=null&&h(i,["partnerModelTuningSpec"],M);const V=d(t,["customBaseModel"]);V!=null&&h(i,["customBaseModel"],V);const G=d(t,["experiment"]);G!=null&&h(i,["experiment"],G);const X=d(t,["labels"]);X!=null&&h(i,["labels"],X);const O=d(t,["outputUri"]);O!=null&&h(i,["outputUri"],O);const se=d(t,["pipelineJob"]);se!=null&&h(i,["pipelineJob"],se);const te=d(t,["serviceAccount"]);te!=null&&h(i,["serviceAccount"],te);const ye=d(t,["tunedModelDisplayName"]);ye!=null&&h(i,["tunedModelDisplayName"],ye);const ve=d(t,["veoTuningSpec"]);return ve!=null&&h(i,["veoTuningSpec"],ve),i}function eM(t,e){const i={},r=d(t,["sdkHttpResponse"]);r!=null&&h(i,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&h(i,["name"],o);const l=d(t,["metadata"]);l!=null&&h(i,["metadata"],l);const c=d(t,["done"]);c!=null&&h(i,["done"],c);const f=d(t,["error"]);return f!=null&&h(i,["error"],f),i}function ev(t,e){const i={},r=d(t,["gcsUri"]);r!=null&&h(i,["validationDatasetUri"],r);const o=d(t,["vertexDatasetResource"]);return o!=null&&h(i,["validationDatasetUri"],o),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tM extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new cr(Qi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var r;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const o={tunedModelName:i.baseModel};!((r=i.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},i);return await this.tuneInternal(o)}else{const o=Object.assign({},i),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:yf.JOB_STATE_QUEUED}}}}async getInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=qR(e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>kf(b))}else{const p=VR(e);return f=ge("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>Vb(b))}}async listInternal(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=KR(e);return f=ge("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=XR(b),x=new Ay;return Object.assign(x,_),x})}else{const p=JR(e);return f=ge("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=YR(b),x=new Ay;return Object.assign(x,_),x})}}async cancel(e){var i,r,o,l;let c,f="",g={};if(this.apiClient.isVertexAI()){const p=OR(e);return f=ge("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=zR(b),x=new Cy;return Object.assign(x,_),x})}else{const p=PR(e);return f=ge("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(b=>b.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:b.headers},x})),c.then(b=>{const _=LR(b),x=new Cy;return Object.assign(x,_),x})}}async tuneInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=BR(e,e);return l=ge("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>kf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,r;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=HR(e);return l=ge("tunedModels",f._url),c=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const b=p;return b.sdkHttpResponse={headers:g.headers},b})),o.then(g=>eM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nM{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const iM=1024*1024*8,sM=3,rM=1e3,oM=2,gu="x-goog-upload-status";async function aM(t,e,i){var r;const o=await qb(t,e,i),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[gu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function lM(t,e,i){var r;const o=await qb(t,e,i),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[gu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Wv(l),f=new sh;return Object.assign(f,c),f}async function qb(t,e,i){var r,o;let l=0,c=0,f=new vf(new Response),g="upload";for(l=t.size;c<l;){const p=Math.min(iM,l-c),b=t.slice(c,c+p);c+p>=l&&(g+=", finalize");let _=0,x=rM;for(;_<sM&&(f=await i.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[gu]));)_++,await cM(x),x=x*oM;if(c+=p,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[gu])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function uM(t){return{size:t.size,type:t.type}}function cM(t){return new Promise(e=>setTimeout(e,t))}class dM{async upload(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aM(e,i,r)}async uploadToFileSearchStore(e,i,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lM(e,i,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fM{create(e,i,r){return new hM(e,i,r)}}class hM{constructor(e,i,r){this.url=e,this.headers=i,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tv="x-goog-api-key";class pM{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(tv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(tv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gM="gl-node/";class mM{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new Kt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const r=cT(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new pM(this.apiKey);this.apiClient=new u2({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:gM+"web",uploader:new dM,downloader:new nM}),this.models=new N2(this.apiClient),this.live=new w2(this.apiClient,o,new fM),this.batches=new jA(this.apiClient),this.chats=new _C(this.models,this.apiClient),this.caches=new yC(this.apiClient),this.files=new RC(this.apiClient),this.operations=new k2(this.apiClient),this.authTokens=new G2(this.apiClient),this.tunings=new tM(this.apiClient),this.fileSearchStores=new Z2(this.apiClient)}}const yM="PLACEHOLDER_API_KEY",fh=()=>new mM({apiKey:yM}),Gb=t=>t?t.replace(/```json\s*/g,"").replace(/```\s*/g,"").trim():"[]",vM=async t=>{const e=fh(),i=`Erstelle einen Essensplan fr die nchsten 7 Tage (vollstndige Woche). 
  Prferenzen: ${t||"Gesund und schnell, kinderfreundlich"}.
  Gib das Ergebnis als JSON zurck. Antworte immer auf Deutsch.
  WICHTIG: Fge fr das Hauptgericht (mealName) eine kurze, verstndliche Schritt-fr-Schritt Zubereitungsanleitung hinzu.`;try{const r=await e.models.generateContent({model:"gemini-2.5-flash",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:gt.ARRAY,items:{type:gt.OBJECT,properties:{day:{type:gt.STRING,description:"Wochentag (z.B. Montag)"},mealName:{type:gt.STRING,description:"Name des Gerichts (Abendessen)"},ingredients:{type:gt.ARRAY,items:{type:gt.STRING},description:"Liste der Hauptzutaten"},recipeHint:{type:gt.STRING,description:"Sehr kurzer Teaser (z.B. 'Dauert 20 Min')"},instructions:{type:gt.STRING,description:"Kompakte Kochanleitung fr das Gericht (3-4 Stze oder Schritte)."}},required:["day","mealName","ingredients","recipeHint","instructions"]}}}});return r.text?JSON.parse(Gb(r.text)).map(l=>({...l,id:Date.now().toString()+Math.random().toString(36).substr(2,9),breakfast:"",lunch:""})):[]}catch(r){return console.error("Meal plan error:",r),[]}},Fb=async(t,e,i)=>{const r=fh();try{const o=`Du bist ein lokaler Reisefhrer. Suche nach: "${t}".
    WICHTIG: Suche NUR im Umkreis von 20km um diese Koordinaten: Latitude ${e}, Longitude ${i}. Ignoriere Orte, die weit entfernt sind.
    
    Antworte im JSON Format mit einer Liste von echten Orten.
    Fr jeden Ort:
    1. 'reviewsSummary': Generiere eine Zusammenfassung basierend auf typischen Google Rezensionen (z.B. "Beliebt fr den Kuchen, aber oft voll.").
    2. 'description': Warum ist es gut fr Familien?
    3. 'address': Die genaue Strae und Stadt.
    `,l=await r.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:{type:gt.OBJECT,properties:{summary:{type:gt.STRING,description:"Kurze Zusammenfassung auf Deutsch"},places:{type:gt.ARRAY,items:{type:gt.OBJECT,properties:{title:{type:gt.STRING},description:{type:gt.STRING,description:"Warum es gut fr Familien ist"},rating:{type:gt.STRING,description:"z.B. 4.5"},address:{type:gt.STRING,description:"Adresse und Stadt"},reviewsSummary:{type:gt.STRING,description:"Zusammenfassung der Meinungen/Rezensionen."}},required:["title","description","address","reviewsSummary"]}}},required:["summary","places"]}}});if(l.text){const c=JSON.parse(Gb(l.text));return{text:c.summary||"Hier sind einige Vorschlge in deiner Nhe:",places:c.places||[]}}return{text:"Keine Ergebnisse gefunden.",places:[]}}catch(o){return console.error("Activity search error:",o),{text:"Entschuldigung, ich konnte keine Aktivitten laden.",places:[]}}},nv=async()=>{var o,l,c;const t=fh(),e=["Pixar style 3D character","Watercolor painting","Cute pixel art","Friendly cartoon animal","Abstract colorful face"],r=`Generate a profile picture avatar. Style: ${e[Math.floor(Math.random()*e.length)]}. 
  The subject should be centered, joyful, and suitable for a family app. 
  White or simple gradient background.`;try{const f=await t.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:r}]}});for(const g of((c=(l=(o=f.candidates)==null?void 0:o[0])==null?void 0:l.content)==null?void 0:c.parts)||[])if(g.inlineData)return`data:${g.inlineData.mimeType};base64,${g.inlineData.data}`;return null}catch(f){return console.error("Avatar generation error:",f),null}},bM=({plan:t,requests:e,family:i,currentUser:r,onUpdatePlan:o,onAddRequest:l,onDeleteRequest:c,onAddIngredientsToShopping:f,onProfileClick:g,recipes:p=[],onAddRecipe:b,onPlanGenerated:_,liquidGlass:x=!1})=>{const S=r.role==="child",[T,C]=H.useState(()=>{const oe=localStorage.getItem("fh_meals_tab");return oe==="plan"||oe==="wishes"||oe==="places"?oe:S?"wishes":"plan"});H.useEffect(()=>{localStorage.setItem("fh_meals_tab",T)},[T]);const[A,N]=H.useState(!1),[U,M]=H.useState(""),[V,G]=H.useState(null),[X,O]=H.useState(""),[se,te]=H.useState("Restaurants in der Nhe"),[ye,ve]=H.useState(null),[Te,Ae]=H.useState(!1),[Se,Xe]=H.useState(null);H.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(oe=>Xe({lat:oe.coords.latitude,lng:oe.coords.longitude}),oe=>{console.log("GPS Info (Essen): Nutze Standard-Standort.",oe.message)})},[]);const ne=(()=>{const oe=[],Me=new Date,be=Me.getDay(),Ue=be===0?6:be-1,Je=new Date(Me);Je.setDate(Me.getDate()-Ue);for(let fe=0;fe<7;fe++){const he=new Date(Je);he.setDate(Je.getDate()+fe),oe.push({dateObj:he,dayName:he.toLocaleDateString("de-DE",{weekday:"long"}),dateStr:he.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit"}),isToday:he.toDateString()===Me.toDateString()})}return oe})(),pe=async()=>{N(!0);const oe=await vM(U);if(oe&&oe.length>0){const Me=oe.slice(0,7).map((be,Ue)=>Ue<ne.length?{...be,day:ne[Ue].dayName}:be);o(Me),_&&_()}N(!1)},ce=oe=>{oe.preventDefault(),X.trim()&&(l(X.trim()),O(""))},me=async oe=>{if(oe.preventDefault(),!se.trim())return;Ae(!0);const Me=(Se==null?void 0:Se.lat)||52.52,be=(Se==null?void 0:Se.lng)||13.4,Ue=await Fb(se,Me,be);ve(Ue),Ae(!1)},k=(oe,Me,be)=>{const Ue=t.find(fe=>fe.day===oe);let Je=[...t];Ue?Je=Je.map(fe=>fe.day===oe?{...fe,[Me]:be}:fe):Je.push({id:Date.now().toString(),day:oe,mealName:"",breakfast:"",lunch:"",ingredients:[],recipeHint:"",instructions:"",[Me]:be}),o(Je)},$=()=>y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[!S&&y.jsxs("div",{className:`rounded-2xl p-6 shadow-lg relative overflow-hidden ${x?"liquid-shimmer-card":"bg-gradient-to-br from-emerald-500 to-teal-600 text-white"}`,children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-4 relative z-10",children:[y.jsx(qS,{size:28,className:x?"text-emerald-700 dark:text-emerald-400":""}),y.jsx("h2",{className:`text-xl font-bold ${x?"text-emerald-900 dark:text-emerald-100":""}`,children:"Planer"})]}),y.jsxs("div",{className:"space-y-3 relative z-10",children:[y.jsx("input",{type:"text",value:U,onChange:oe=>M(oe.target.value),placeholder:"z.B. Vegetarisch",className:`w-full rounded-lg px-4 py-2 text-sm outline-none ${x?"bg-white/50 border border-white/40 placeholder-emerald-800/50":"text-gray-800"}`}),y.jsxs("button",{onClick:pe,disabled:A,className:"w-full bg-white text-emerald-600 font-bold py-2 rounded-lg shadow-sm flex items-center justify-center space-x-2 hover:bg-gray-50 active:scale-[0.98] transition disabled:opacity-70",children:[A?y.jsx(a1,{className:"animate-spin",size:18}):y.jsx(w1,{size:18}),y.jsx("span",{children:A?"Verarbeite...":"Plan erstellen"})]})]})]}),y.jsx("div",{className:"space-y-4",children:ne.map((oe,Me)=>{const be=t.find(Je=>Je.day===oe.dayName),Ue=V===oe.dayName;return y.jsxs("div",{className:`rounded-xl shadow-sm border overflow-hidden relative transition-all ${oe.isToday?"ring-1 ring-emerald-400":""} ${x?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}`,children:[y.jsxs("div",{className:`px-4 py-2 border-b flex justify-between items-center ${x?"bg-emerald-100/30 border-white/20":"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-100 dark:border-emerald-800"}`,children:[y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("span",{className:"font-bold text-emerald-800 dark:text-emerald-300",children:oe.dayName})}),y.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:oe.dateStr})]}),y.jsxs("div",{className:"p-4 relative",children:[!S&&y.jsx("button",{onClick:()=>G(Ue?null:oe.dayName),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-blue-500 rounded-lg",children:Ue?y.jsx(Nn,{size:18}):y.jsx(i1,{size:18})}),Ue?y.jsxs("div",{className:"space-y-3 animate-fade-in",children:[y.jsx("input",{type:"text",className:`w-full rounded-lg p-2 text-sm outline-none ${x?"bg-white/40 border border-white/30":"bg-gray-50 dark:bg-gray-700 border border-gray-200"}`,value:(be==null?void 0:be.mealName)||"",onChange:Je=>k(oe.dayName,"mealName",Je.target.value),placeholder:"Abendessen"}),y.jsx("div",{className:"flex justify-end pt-2",children:y.jsxs("button",{onClick:()=>G(null),className:"bg-emerald-500 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center hover:bg-emerald-600 transition",children:[y.jsx(Jv,{size:12,className:"mr-1"})," Fertig"]})})]}):y.jsx("div",{children:be&&(be.breakfast||be.lunch||be.mealName)?y.jsxs("div",{className:"space-y-3",children:[be.mealName&&y.jsx("div",{children:y.jsxs("div",{className:"flex items-start text-sm font-medium",children:[y.jsx(Tu,{size:14,className:"mt-0.5 mr-2 text-indigo-500"}),y.jsx("span",{className:x?"text-slate-900 dark:text-white":"text-gray-900 dark:text-white",children:be.mealName})]})}),be.breakfast&&y.jsxs("div",{className:"flex items-start text-sm",children:[y.jsx(dE,{size:14,className:"mt-0.5 mr-2 text-orange-400"}),y.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:be.breakfast})]}),be.lunch&&y.jsxs("div",{className:"flex items-start text-sm",children:[y.jsx(Ei,{size:14,className:"mt-0.5 mr-2 text-yellow-500"}),y.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:be.lunch})]})]}):y.jsx("div",{className:"text-center py-2",children:y.jsx("p",{className:"text-sm text-gray-400 italic",children:"Nichts geplant"})})})]})]},Me)})})]}),re=()=>x?"liquid-shimmer-card border-white/40 p-1 rounded-xl relative flex":"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex",Y=()=>"absolute top-1 bottom-1 rounded-lg z-0 transition-all duration-300 ease-in-out",ie=()=>x?"w-full h-full rounded-lg bg-white/40 dark:bg-white/20 backdrop-blur-md border border-white/40 shadow-sm":"",J=[];J.push({id:"plan",label:"Planer",icon:Zf}),J.push({id:"wishes",label:"Wnsche",icon:XE}),J.push({id:"places",label:"Orte",icon:C1});const ae=J.findIndex(oe=>oe.id===T),Le=100/J.length;return y.jsxs(y.Fragment,{children:[y.jsx(Ea,{title:"Essen",currentUser:r,onProfileClick:g,liquidGlass:x}),y.jsx("div",{className:"px-4 mt-2 mb-4",children:y.jsxs("div",{className:re(),children:[x&&y.jsx("div",{className:Y(),style:{left:`${ae*Le}%`,width:`${Le}%`},children:y.jsx("div",{className:ie()})}),J.map(oe=>{const Me=T===oe.id;let be="";return x?be=Me?"text-slate-900 dark:text-white font-extrabold":"text-slate-500 dark:text-slate-400":be=Me?"bg-white dark:bg-gray-700 shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",y.jsxs("button",{onClick:()=>C(oe.id),className:`flex-1 py-2 rounded-lg text-sm font-medium flex items-center justify-center space-x-1 transition-all z-10 ${be}`,children:[y.jsx(oe.icon,{size:16})," ",y.jsx("span",{className:"hidden sm:inline",children:oe.label})," ",y.jsx("span",{className:"sm:hidden",children:oe.label})]},oe.id)})]})}),y.jsxs("div",{className:"p-4 pb-24",children:[T==="plan"&&$(),T==="wishes"&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsxs("div",{className:`p-6 rounded-2xl border mb-6 ${x?"liquid-shimmer-card border-orange-200/50":"bg-orange-50 dark:bg-orange-900/20 border-orange-100"}`,children:[y.jsx("h3",{className:"text-lg font-bold text-orange-900 dark:text-orange-300 mb-2",children:"Worauf hast du Hunger?"}),y.jsxs("form",{onSubmit:ce,className:"flex gap-2",children:[y.jsx("input",{type:"text",value:X,onChange:oe=>O(oe.target.value),placeholder:"z.B. Pfannkuchen",className:`flex-1 rounded-xl p-3 text-sm outline-none ${x?"bg-white/50 border border-white/40":"bg-white border-orange-200"}`}),y.jsx("button",{type:"submit",className:"bg-orange-500 text-white p-3 rounded-xl hover:bg-orange-600 shadow-md",children:y.jsx(lu,{size:20})})]})]}),y.jsx("div",{className:"space-y-3",children:e.map(oe=>y.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex justify-between items-center ${x?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100"}`,children:[y.jsx("div",{children:y.jsx("p",{className:"font-bold text-gray-800 dark:text-white",children:oe.dishName})}),y.jsx("button",{onClick:()=>c(oe.id),className:"text-gray-300 hover:text-red-400 p-2",children:y.jsx(ao,{size:18})})]},oe.id))})]}),T==="places"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{className:"relative",children:[y.jsx(ur,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),y.jsxs("form",{onSubmit:me,children:[y.jsx("input",{type:"text",value:se,onChange:oe=>te(oe.target.value),placeholder:"Suche Orte...",className:`w-full rounded-xl py-3 pl-10 pr-12 shadow-sm outline-none ${x?"bg-white/40 border border-white/30":"bg-white border-gray-200"}`}),y.jsx("button",{type:"submit",className:"absolute right-2 top-2 bg-emerald-600 text-white p-1.5 rounded-lg",disabled:Te,children:Te?y.jsx(Wi,{className:"animate-spin",size:20}):y.jsx(ur,{size:20})})]})]}),ye&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:`p-4 rounded-xl text-sm border ${x?"bg-emerald-100/30 border-emerald-200/50":"bg-emerald-50 border-emerald-100"}`,children:ye.text}),y.jsx("div",{className:"grid gap-4",children:ye.places.map((oe,Me)=>y.jsxs("div",{className:`rounded-xl shadow-sm border p-4 ${x?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border-gray-100"}`,children:[y.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg",children:oe.title}),y.jsx("p",{className:"text-gray-500 text-sm mt-1",children:oe.address})]},Me))})]})]})]})]})},_M="modulepreload",xM=function(t){return"/"+t},iv={},hh=function(e,i,r){let o=Promise.resolve();if(i&&i.length>0){let c=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=c(i.map(p=>{if(p=xM(p),p in iv)return;iv[p]=!0;const b=p.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const x=document.createElement("link");if(x.rel=b?"stylesheet":_M,b||(x.as="script"),x.crossOrigin="",x.href=p,g&&x.setAttribute("nonce",g),document.head.appendChild(x),b)return new Promise((S,T)=>{x.addEventListener("load",S),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const wM=t=>{const e=new Map;e.set("web",{name:"web"});const i=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(l,c)=>{i.platforms.set(l,c)},o=l=>{i.platforms.has(l)&&(i.currentPlatform=i.platforms.get(l))};return i.addPlatform=r,i.setPlatform=o,i},SM=t=>t.CapacitorPlatforms=wM(t),Jb=SM(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Jb.addPlatform;Jb.setPlatform;var lo;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(lo||(lo={}));class Zd extends Error{constructor(e,i,r){super(e),this.message=e,this.code=i,this.data=r}}const EM=t=>{var e,i;return t!=null&&t.androidBridge?"android":!((i=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},TM=t=>{var e,i,r,o,l;const c=t.CapacitorCustomPlatform||null,f=t.Capacitor||{},g=f.Plugins=f.Plugins||{},p=t.CapacitorPlatforms,b=()=>c!==null?c.name:EM(t),_=((e=p==null?void 0:p.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||b,x=()=>_()!=="web",S=((i=p==null?void 0:p.currentPlatform)===null||i===void 0?void 0:i.isNativePlatform)||x,T=O=>{const se=V.get(O);return!!(se!=null&&se.platforms.has(_())||N(O))},C=((r=p==null?void 0:p.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||T,A=O=>{var se;return(se=f.PluginHeaders)===null||se===void 0?void 0:se.find(te=>te.name===O)},N=((o=p==null?void 0:p.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||A,U=O=>t.console.error(O),M=(O,se,te)=>Promise.reject(`${te} does not have an implementation of "${se}".`),V=new Map,G=(O,se={})=>{const te=V.get(O);if(te)return console.warn(`Capacitor plugin "${O}" already registered. Cannot register plugins twice.`),te.proxy;const ye=_(),ve=N(O);let Te;const Ae=async()=>(!Te&&ye in se?Te=typeof se[ye]=="function"?Te=await se[ye]():Te=se[ye]:c!==null&&!Te&&"web"in se&&(Te=typeof se.web=="function"?Te=await se.web():Te=se.web),Te),Se=(me,k)=>{var $,re;if(ve){const Y=ve==null?void 0:ve.methods.find(ie=>k===ie.name);if(Y)return Y.rtype==="promise"?ie=>f.nativePromise(O,k.toString(),ie):(ie,J)=>f.nativeCallback(O,k.toString(),ie,J);if(me)return($=me[k])===null||$===void 0?void 0:$.bind(me)}else{if(me)return(re=me[k])===null||re===void 0?void 0:re.bind(me);throw new Zd(`"${O}" plugin is not implemented on ${ye}`,lo.Unimplemented)}},Xe=me=>{let k;const $=(...re)=>{const Y=Ae().then(ie=>{const J=Se(ie,me);if(J){const ae=J(...re);return k=ae==null?void 0:ae.remove,ae}else throw new Zd(`"${O}.${me}()" is not implemented on ${ye}`,lo.Unimplemented)});return me==="addListener"&&(Y.remove=async()=>k()),Y};return $.toString=()=>`${me.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:me,writable:!1,configurable:!1}),$},L=Xe("addListener"),ne=Xe("removeListener"),pe=(me,k)=>{const $=L({eventName:me},k),re=async()=>{const ie=await $;ne({eventName:me,callbackId:ie},k)},Y=new Promise(ie=>$.then(()=>ie({remove:re})));return Y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await re()},Y},ce=new Proxy({},{get(me,k){switch(k){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ve?pe:L;case"removeListener":return ne;default:return Xe(k)}}});return g[O]=ce,V.set(O,{name:O,proxy:ce,platforms:new Set([...Object.keys(se),...ve?[ye]:[]])}),ce},X=((l=p==null?void 0:p.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||G;return f.convertFileSrc||(f.convertFileSrc=O=>O),f.getPlatform=_,f.handleError=U,f.isNativePlatform=S,f.isPluginAvailable=C,f.pluginMethodNoop=M,f.registerPlugin=X,f.Exception=Zd,f.DEBUG=!!f.DEBUG,f.isLoggingEnabled=!!f.isLoggingEnabled,f.platform=f.getPlatform(),f.isNative=f.isNativePlatform(),f},AM=t=>t.Capacitor=TM(t),Xi=AM(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ta=Xi.registerPlugin;Xi.Plugins;class Kb{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,i){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(i);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),r&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,i);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,i,r){const o=this.listeners[e];if(!o){if(r){let l=this.retainedEventArguments[e];l||(l=[]),l.push(i),this.retainedEventArguments[e]=l}return}o.forEach(l=>l(i))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,i){this.windowListeners[i]={registered:!1,windowEventName:e,pluginEventName:i,handler:r=>{this.notifyListeners(i,r)}}}unimplemented(e="not implemented"){return new Xi.Exception(e,lo.Unimplemented)}unavailable(e="not available"){return new Xi.Exception(e,lo.Unavailable)}async removeListener(e,i){const r=this.listeners[e];if(!r)return;const o=r.indexOf(i);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const i=this.retainedEventArguments[e];i&&(delete this.retainedEventArguments[e],i.forEach(r=>{this.notifyListeners(e,r)}))}}const sv=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),rv=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CM extends Kb{async getCookies(){const e=document.cookie,i={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[o,l]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=rv(o).trim(),l=rv(l).trim(),i[o]=l}),i}async setCookie(e){try{const i=sv(e.key),r=sv(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,l=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${i}=${r||""}${o}; path=${l}; ${c};`}catch(i){return Promise.reject(i)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const i of e)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Ta("CapacitorCookies",{web:()=>new CM});const NM=async t=>new Promise((e,i)=>{const r=new FileReader;r.onload=()=>{const o=r.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},r.onerror=o=>i(o),r.readAsDataURL(t)}),kM=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(o=>o.toLocaleLowerCase()).reduce((o,l,c)=>(o[l]=t[e[c]],o),{})},RM=(t,e=!0)=>t?Object.entries(t).reduce((r,o)=>{const[l,c]=o;let f,g;return Array.isArray(c)?(g="",c.forEach(p=>{f=e?encodeURIComponent(p):p,g+=`${l}=${f}&`}),g.slice(0,-1)):(f=e?encodeURIComponent(c):c,g=`${l}=${f}`),`${r}&${g}`},"").substr(1):null,MM=(t,e={})=>{const i=Object.assign({method:t.method||"GET",headers:t.headers},e),o=kM(t.headers)["content-type"]||"";if(typeof t.data=="string")i.body=t.data;else if(o.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,f]of Object.entries(t.data||{}))l.set(c,f);i.body=l.toString()}else if(o.includes("multipart/form-data")||t.data instanceof FormData){const l=new FormData;if(t.data instanceof FormData)t.data.forEach((f,g)=>{l.append(g,f)});else for(const f of Object.keys(t.data))l.append(f,t.data[f]);i.body=l;const c=new Headers(i.headers);c.delete("content-type"),i.headers=c}else(o.includes("application/json")||typeof t.data=="object")&&(i.body=JSON.stringify(t.data));return i};class IM extends Kb{async request(e){const i=MM(e,e.webFetchExtra),r=RM(e.params,e.shouldEncodeUrlParams),o=r?`${e.url}?${r}`:e.url,l=await fetch(o,i),c=l.headers.get("content-type")||"";let{responseType:f="text"}=l.ok?e:{};c.includes("application/json")&&(f="json");let g,p;switch(f){case"arraybuffer":case"blob":p=await l.blob(),g=await NM(p);break;case"json":g=await l.json();break;case"document":case"text":default:g=await l.text()}const b={};return l.headers.forEach((_,x)=>{b[x]=_}),{data:g,headers:b,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Ta("CapacitorHttp",{web:()=>new IM});const ba=Ta("Geolocation",{web:()=>hh(()=>import("./web-D2wXN-gx.js"),[]).then(t=>new t.GeolocationWeb)}),DM=({onProfileClick:t,currentLocation:e})=>{const[i,r]=H.useState(""),[o,l]=H.useState(null),[c,f]=H.useState(!1),[g,p]=H.useState(null),[b,_]=H.useState(null),[x,S]=H.useState(!1);H.useEffect(()=>{if(e){p({lat:e.lat,lng:e.lng}),S(!1);return}(async()=>{const M={lat:52.52,lng:13.4};try{const V=await ba.getCurrentPosition({enableHighAccuracy:!1,timeout:5e3,maximumAge:1/0});p({lat:V.coords.latitude,lng:V.coords.longitude}),S(!1)}catch{navigator.geolocation?navigator.geolocation.getCurrentPosition(G=>{p({lat:G.coords.latitude,lng:G.coords.longitude}),S(!1)},()=>{p(M),S(!0)},{timeout:5e3}):(p(M),S(!0))}})()},[e]);const T=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(U=>{p({lat:U.coords.latitude,lng:U.coords.longitude}),S(!1),alert("Standort erfolgreich aktualisiert.")},U=>alert("Standortzugriff verweigert. Bitte erlaube den Zugriff in den Browser-Einstellungen."),{enableHighAccuracy:!0,timeout:1e4})},C=async U=>{if(U.preventDefault(),!i.trim())return;const M=(g==null?void 0:g.lat)||52.52,V=(g==null?void 0:g.lng)||13.4;f(!0);const G=await Fb(i,M,V);l(G),f(!1)},A=U=>{_(U)},N=U=>{const M=encodeURIComponent(U);window.open(`https://www.google.com/maps/dir/?api=1&destination=${M}`,"_blank")};return y.jsxs(y.Fragment,{children:[y.jsx(Ea,{title:"Orte & Aktivitten",onProfileClick:t}),y.jsxs("div",{className:"p-4 pb-24 space-y-6",children:[y.jsxs("form",{onSubmit:C,className:"relative",children:[y.jsx(ur,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),y.jsx("input",{type:"text",value:i,onChange:U=>r(U.target.value),placeholder:"Was wollt ihr unternehmen?",className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl py-3 pl-10 pr-4 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-800 dark:text-white"}),y.jsx("button",{type:"submit",disabled:c,className:"absolute right-2 top-2 bg-blue-600 text-white p-1.5 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:c?y.jsx(Wi,{className:"animate-spin",size:20}):y.jsx(au,{size:20})})]}),x?y.jsxs("div",{className:"flex items-center justify-between bg-orange-50 dark:bg-orange-900/20 p-3 rounded-xl border border-orange-100 dark:border-orange-800/30",children:[y.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-300 font-medium",children:"Nutze Standard-Standort (Berlin)."}),y.jsx("button",{onClick:T,className:"bg-orange-500 text-white text-xs font-bold px-3 py-1.5 rounded-lg shadow-sm hover:bg-orange-600 transition",children:" Mein Standort"})]}):y.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[y.jsx(eo,{size:12,className:"mr-1"}),e?`Nutze Standort: ${e.name}`:g?`Bereit zur Suche bei: ${g.lat.toFixed(3)}, ${g.lng.toFixed(3)}`:"Suche Standort..."]}),o&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl text-sm text-blue-900 dark:text-blue-200 leading-relaxed border border-blue-100 dark:border-blue-800",children:o.text}),y.jsx("h3",{className:"font-bold text-gray-800 dark:text-white",children:"Gefundene Orte"}),y.jsx("div",{className:"grid gap-4",children:o.places.length>0?o.places.map((U,M)=>y.jsxs("div",{onClick:()=>A(U),className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex flex-col justify-between hover:shadow-md transition cursor-pointer active:scale-[0.98]",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg",children:U.title}),U.rating&&y.jsxs("span",{className:"inline-block bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 text-xs px-2 py-0.5 rounded font-bold whitespace-nowrap ml-2",children:[" ",U.rating]})]}),y.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-2 line-clamp-2",children:U.description}),U.address&&y.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-xs flex items-center",children:[y.jsx(eo,{size:10,className:"mr-1"})," ",U.address]})]}),y.jsxs("div",{className:"mt-4 flex items-center text-blue-600 dark:text-blue-400 text-xs font-bold",children:["Details & Route ",y.jsx(Bv,{size:12,className:"ml-1"})]})]},M)):y.jsx("p",{className:"text-gray-400 text-sm italic",children:"Keine Orte gefunden."})})]}),!o&&!c&&y.jsxs("div",{className:"mt-10 text-center opacity-40",children:[y.jsx(eo,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-2"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Suche nach Spielpltzen, Restaurants oder Museen in deiner Nhe."})]})]}),b&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-lg rounded-2xl shadow-2xl p-6 relative max-h-[85vh] flex flex-col",children:[y.jsx("button",{onClick:()=>_(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Nn,{size:24})}),y.jsxs("div",{className:"mb-4 pr-8",children:[y.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-tight",children:b.title}),b.rating&&y.jsxs("div",{className:"flex items-center mt-2 text-yellow-500 font-bold",children:[y.jsx(va,{size:16,className:"fill-current mr-1"}),b.rating]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-6",children:[y.jsxs("div",{className:"flex items-start text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl",children:[y.jsx(eo,{size:18,className:"mr-2 mt-0.5 text-blue-500 flex-shrink-0"}),y.jsx("span",{className:"text-sm font-medium",children:b.address||"Adresse nicht verfgbar"})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"ber diesen Ort"}),y.jsx("p",{className:"text-gray-700 dark:text-gray-200 text-sm leading-relaxed",children:b.description})]}),b.reviewsSummary&&y.jsxs("div",{children:[y.jsxs("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center",children:[y.jsx(qv,{size:12,className:"mr-1"})," Rezensionen (Zusammenfassung)"]}),y.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 p-4 rounded-xl border border-yellow-100 dark:border-yellow-800/30",children:y.jsxs("p",{className:"text-sm text-yellow-900 dark:text-yellow-200 italic leading-relaxed",children:['"',b.reviewsSummary,'"']})})]})]}),y.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3",children:y.jsxs("button",{onClick:()=>b.address&&N(b.address),className:"w-full bg-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center space-x-2 active:scale-95 transition hover:bg-blue-700",children:[y.jsx(au,{size:18}),y.jsx("span",{children:"Route starten (Google Maps)"})]})})]})})]})},UM="https://hjkmfodzhradtkeiyele.supabase.co/storage/v1/object/public/updates/FamilienHub.apk",PM="https://superyoshi6.github.io/FamilienHub/",ef="1.1.4",OM=[{val:"bg-red-100 text-red-700",hex:"#fee2e2"},{val:"bg-orange-100 text-orange-700",hex:"#ffedd5"},{val:"bg-amber-100 text-amber-700",hex:"#fef3c7"},{val:"bg-yellow-100 text-yellow-700",hex:"#fef9c3"},{val:"bg-lime-100 text-lime-700",hex:"#ecfccb"},{val:"bg-green-100 text-green-700",hex:"#dcfce7"},{val:"bg-emerald-100 text-emerald-700",hex:"#d1fae5"},{val:"bg-teal-100 text-teal-700",hex:"#ccfbf1"},{val:"bg-cyan-100 text-cyan-700",hex:"#cffafe"},{val:"bg-sky-100 text-sky-700",hex:"#e0f2fe"},{val:"bg-blue-100 text-blue-700",hex:"#dbeafe"},{val:"bg-indigo-100 text-indigo-700",hex:"#e0e7ff"},{val:"bg-violet-100 text-violet-700",hex:"#ede9fe"},{val:"bg-purple-100 text-purple-700",hex:"#f3e8ff"},{val:"bg-fuchsia-100 text-fuchsia-700",hex:"#fae8ff"},{val:"bg-pink-100 text-pink-700",hex:"#fce7f3"},{val:"bg-rose-100 text-rose-700",hex:"#ffe4e6"},{val:"bg-slate-100 text-slate-700",hex:"#f1f5f9"}],LM=({currentUser:t,onUpdateUser:e,onUpdateFamilyMember:i,onLogout:r,onClose:o,darkMode:l,onToggleDarkMode:c,liquidGlass:f,onToggleLiquidGlass:g,christmasMode:p,onToggleChristmasMode:b,lang:_,setLang:x,family:S,onSendFeedback:T,allFeedbacks:C,onMarkFeedbackRead:A,onAddNews:N,onAddUser:U,onDeleteUser:M,news:V=[],onDeleteNews:G,systemStats:X,backupData:O,onResetPassword:se,onMarkNewsRead:te})=>{const[ye,ve]=H.useState(t.name),[Te,Ae]=H.useState(t.avatar),[Se,Xe]=H.useState(t.color),[L,ne]=H.useState(!1),[pe,ce]=H.useState(!1),[me,k]=H.useState(""),[$,re]=H.useState(""),Y=H.useRef(null),ie=H.useRef(null),[J,ae]=H.useState("none"),[Le,oe]=H.useState(""),[Me,be]=H.useState(0),[Ue,Je]=H.useState(!1),[fe,he]=H.useState(""),[$e,qe]=H.useState(""),[rt,Ct]=H.useState(null),[Nt,mn]=H.useState(""),[Yt,Rn]=H.useState(null),[bt,mi]=H.useState(""),[Mn,yn]=H.useState(""),[qt,ti]=H.useState(!1),[ni,ii]=H.useState(!1),[Ti,vn]=H.useState(""),[_t,$t]=H.useState(""),[St,Ai]=H.useState("parent"),[Hn,Ci]=H.useState(!1),Ht=t.role==="admin",ue=(C==null?void 0:C.filter(Z=>!Z.read))||[],We=ue.length,ut=(V==null?void 0:V.filter(Z=>Z.tag===`PRIVATE:${t.id}`).sort((Z,He)=>new Date(He.createdAt).getTime()-new Date(Z.createdAt).getTime()))||[],ft=f?"bg-white/60 dark:bg-black/40 backdrop-blur-3xl border border-white/20 dark:border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.12)]":"bg-white dark:bg-[#111827] border border-gray-200 dark:border-gray-800 shadow-2xl",xt="",nn=f?"text-slate-800 dark:text-white bg-white/20 dark:bg-white/10 hover:bg-white/40 dark:hover:bg-white/20 p-1.5 rounded-full backdrop-blur-md shadow-sm":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",sn=f?"text-slate-900 dark:text-white drop-shadow-sm":"text-gray-900 dark:text-white",si=f?"liquid-shimmer-card border-white/40":"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700",Dt=()=>{const Z={name:ye,avatar:Te,color:Se};if($.trim()){if($.trim().length<4){alert("Das Passwort muss mindestens 4 Zeichen lang sein.");return}Z.password=$.trim()}e(Z),$.trim()&&re(""),o&&o()},cn=async()=>{ne(!0),ce(!1);const Z=await nv();if(Z){const He=await fa(Z,300,.7);Ae(He)}else{const He=Math.floor(Math.random()*1e3);Ae(`https://picsum.photos/200/200?random=${He}`)}ne(!1)},ri=async Z=>{var Rt;const He=(Rt=Z.target.files)==null?void 0:Rt[0];if(He){ne(!0);const Ft=new FileReader;Ft.onloadend=async()=>{const dn=Ft.result,rn=await fa(dn,400,.7);Ae(rn),ne(!1)},Ft.readAsDataURL(He)}},Ni=()=>{me.trim()&&(Ae(me.trim()),ce(!1),k(""))},ki=Z=>{Ct(Z),mn(""),ae("reset-confirm")},Is=Z=>{Rn(Z),mi(Z.name),yn(Z.avatar),ii(!1),vn(""),ae("edit-user")},Ds=async()=>{ti(!0),ii(!1);const Z=await nv();if(Z){const He=await fa(Z,300,.7);yn(He)}else{const He=Math.floor(Math.random()*1e3);yn(`https://picsum.photos/200/200?random=${He}`)}ti(!1)},dr=async Z=>{var Rt;const He=(Rt=Z.target.files)==null?void 0:Rt[0];if(He){ti(!0);const Ft=new FileReader;Ft.onloadend=async()=>{const dn=Ft.result,rn=await fa(dn,400,.7);yn(rn),ti(!1)},Ft.readAsDataURL(He)}},Us=()=>{Ti.trim()&&(yn(Ti.trim()),ii(!1),vn(""))},Bn=()=>{Yt&&i&&(i(Yt.id,{name:bt,avatar:Mn}),ae("none"),Rn(null))},kt=()=>{if(qe(""),S&&S.length>1){const Z=S.find(He=>He.id!==t.id);Z&&he(Z.id)}ae("compose")},Gt=()=>{if(!$e.trim()||!N||!fe)return;const Z=`Nachricht von ${t.name}`,He={id:Date.now().toString(),title:Z,description:$e,tag:`PRIVATE:${fe}`,image:void 0,createdAt:new Date().toISOString(),authorId:t.id,readBy:[]};N(He),ae("none"),qe(""),alert("Nachricht gesendet!")},yi=()=>{if(rt&&i&&Nt.trim()){if(Nt.trim().length<4){alert("Das Passwort muss mindestens 4 Zeichen lang sein.");return}i(rt.id,{password:Nt.trim()}),ae("none"),Ct(null),mn(""),alert("Passwort wurde gesetzt.")}},Ps=async Z=>{if(Z.preventDefault(),!(!_t.trim()||!U)){Ci(!0);try{await U(_t,St),$t(""),Ai("parent"),ae("none")}catch(He){console.error("Add user error",He),alert("Fehler beim Erstellen des Nutzers.")}finally{Ci(!1)}}},yo=Z=>{Z.preventDefault(),T&&T({id:Date.now().toString(),userId:t.id,userName:t.name,text:Le,rating:Me,createdAt:new Date().toISOString()}),Je(!0),setTimeout(()=>{Je(!1),oe(""),be(0),ae("none")},2e3)},vo=()=>{if(ae("admin-feedback"),We>0&&A){const Z=ue.map(He=>He.id);A(Z)}},fr=()=>{{const Z=UM,He=Z.includes("?")?"&":"?",Rt=`${Z}${He}t=${Date.now()}`;window.open(Rt,"_blank")}};return y.jsxs("div",{className:"flex flex-col min-h-full",children:[y.jsxs("div",{className:`px-4 py-4 flex items-center shadow-sm sticky top-0 z-10 border-b ${f?"bg-white/30 dark:bg-black/20 backdrop-blur-md border-white/20":"bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800"}`,children:[y.jsx("button",{onClick:o,className:"mr-4 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 p-2 rounded-full transition",children:y.jsx(ff,{size:24})}),y.jsx("span",{className:`font-bold text-xl ${f?"text-slate-800 dark:text-white":"text-gray-800 dark:text-white"}`,children:Oe("settings.title",_)})]}),y.jsxs("div",{className:"flex-1 p-6 pb-32 space-y-6 max-w-md mx-auto w-full",children:[y.jsxs("section",{className:"space-y-6",children:[y.jsx("h2",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider ml-1",children:Oe("settings.profile",_)}),y.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[y.jsx("div",{className:"relative group",children:y.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-gray-800 shadow-md relative bg-gray-200",children:L?y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:y.jsx(Wi,{className:"animate-spin text-blue-500",size:32})}):y.jsx("img",{src:Te,alt:"Profil",className:"w-full h-full object-cover"})})}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:cn,disabled:L,className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 p-2.5 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40 transition",title:"KI Avatar",children:y.jsx(xm,{size:20})}),y.jsx("button",{onClick:()=>{var Z;return(Z=Y.current)==null?void 0:Z.click()},disabled:L,className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-2.5 rounded-full hover:bg-green-100 dark:hover:bg-green-900/40 transition",title:"Upload",children:y.jsx(pf,{size:20})}),y.jsx("input",{type:"file",ref:Y,onChange:ri,accept:"image/*",className:"hidden"}),y.jsx("button",{onClick:()=>ce(!pe),disabled:L,className:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 p-2.5 rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/40 transition",title:"URL",children:y.jsx(bm,{size:20})})]}),pe&&y.jsxs("div",{className:"flex w-full space-x-2 animate-fade-in",children:[y.jsx("input",{type:"text",placeholder:"Bild URL einfgen...",value:me,onChange:Z=>k(Z.target.value),className:"flex-1 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white"}),y.jsx("button",{onClick:Ni,className:"bg-blue-500 text-white px-3 py-2 rounded-lg text-sm font-bold",children:"OK"})]})]}),y.jsxs("div",{className:`p-4 rounded-2xl shadow-sm space-y-4 ${si}`,children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-1",children:Oe("settings.display_name",_)}),y.jsx("input",{type:"text",value:ye,onChange:Z=>ve(Z.target.value),className:"w-full bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-3 font-semibold text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:Oe("settings.your_color",_)}),y.jsx("div",{className:"grid grid-cols-6 gap-3",children:OM.map(Z=>y.jsx("button",{onClick:()=>Xe(Z.val),className:"w-10 h-10 rounded-full flex items-center justify-center transition-all active:scale-95 shadow-sm hover:shadow-md relative overflow-hidden",style:{backgroundColor:Z.hex},children:Se===Z.val&&y.jsx("div",{className:"bg-black/20 w-full h-full flex items-center justify-center",children:y.jsx(hm,{size:16,className:"text-white drop-shadow-md"})})},Z.val))})]})]})]}),y.jsxs("section",{className:"space-y-4",children:[y.jsx("h2",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider ml-1",children:Oe("settings.app_settings",_)}),y.jsxs("div",{className:`p-4 rounded-2xl shadow-sm space-y-2 ${si}`,children:[y.jsxs("button",{onClick:()=>ae("inbox"),className:"flex items-center justify-between w-full py-2 group",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 p-2 rounded-full text-indigo-600 dark:text-indigo-400",children:y.jsx(GE,{size:20})}),y.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:"Nachrichten"})]}),y.jsxs("div",{className:"flex items-center",children:[ut.length>0&&y.jsx("span",{className:"bg-indigo-500 text-white text-xs font-bold px-2 py-0.5 rounded-full mr-2",children:ut.length}),y.jsx(Rs,{size:20,className:"text-gray-400 group-hover:text-indigo-500 transition"})]})]}),y.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),y.jsxs("div",{className:"flex items-center justify-between py-2",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-full text-gray-600 dark:text-gray-300",children:l?y.jsx(Tu,{size:20}):y.jsx(Ei,{size:20})}),y.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:Oe("settings.dark_mode",_)})]}),y.jsx("button",{onClick:c,className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 focus:outline-none ${l?"bg-blue-600":"bg-gray-300"}`,children:y.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300 ${l?"translate-x-6":"translate-x-0"}`})})]}),g&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),y.jsxs("div",{className:"flex items-center justify-between py-2",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-cyan-100 dark:bg-cyan-900/30 p-2 rounded-full text-cyan-600 dark:text-cyan-400",children:y.jsx(gf,{size:20})}),y.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:"Liquid Glass Effekt"})]}),y.jsx("button",{onClick:g,className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 focus:outline-none border-none ring-0 ${f?"bg-cyan-500":"bg-gray-300"}`,children:y.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300 ${f?"translate-x-6":"translate-x-0"}`})})]})]}),b&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),y.jsxs("div",{className:"flex items-center justify-between py-2",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded-full text-red-600 dark:text-red-400",children:y.jsx(Kv,{size:20})}),y.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:"Weihnachts-Modus"})]}),y.jsx("button",{onClick:b,className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 focus:outline-none border-none ring-0 ${p?"bg-red-500":"bg-gray-300"}`,children:y.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300 ${p?"translate-x-6":"translate-x-0"}`})})]})]})]})]}),t.role==="admin"&&S&&y.jsxs("section",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-end px-1",children:[y.jsx("h2",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:Oe("settings.family_management",_)}),y.jsx("span",{className:"text-[10px] text-red-500 bg-red-50 dark:bg-red-900/20 px-2 py-0.5 rounded-full font-bold",children:"Admin Bereich"})]}),y.jsxs("div",{className:`rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden divide-y divide-gray-100 dark:divide-gray-700 ${f?"liquid-shimmer-card":"bg-white dark:bg-gray-800"}`,children:[y.jsxs("button",{onClick:()=>ae("add-user"),className:"w-full flex items-center justify-center p-3 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition text-blue-600 dark:text-blue-400 font-bold text-sm",children:[y.jsx(q1,{size:18,className:"mr-2"})," Nutzer hinzufgen"]}),S.filter(Z=>Z.id!==t.id&&Z.role!=="admin").map(Z=>y.jsxs("div",{className:"p-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("img",{src:Z.avatar,className:"w-8 h-8 rounded-full"}),y.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:Z.name})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>Is(Z),className:"p-1.5 rounded-lg text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition",title:"Bearbeiten",children:y.jsx(Fv,{size:16})}),y.jsxs("button",{onClick:()=>ki(Z),className:"text-xs bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-3 py-1.5 rounded-lg font-bold hover:bg-red-100 dark:hover:bg-red-900/30 transition flex items-center",children:[y.jsx(zE,{size:12,className:"mr-1.5"}),"Passwort"]})]})]},Z.id)),S.filter(Z=>Z.id!==t.id&&Z.role!=="admin").length===0&&y.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic",children:"Keine anderen Nutzer."})]})]}),y.jsxs("section",{className:"space-y-4",children:[y.jsx("h2",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider ml-1",children:Oe("settings.info_help",_)}),y.jsxs("div",{className:`rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 divide-y divide-gray-100 dark:divide-gray-700 overflow-hidden ${f?"liquid-shimmer-card":"bg-white dark:bg-gray-800"}`,children:[y.jsxs("button",{onClick:()=>ae("about"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 p-2 rounded-full",children:y.jsx(qv,{size:18})}),y.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"App Info & Updates"})]}),y.jsx(Rs,{size:18,className:"text-gray-400"})]}),Ht?y.jsxs("button",{onClick:vo,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-yellow-900/20 transition bg-yellow-50/50 dark:bg-yellow-900/10",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-700 dark:text-yellow-400 p-2 rounded-full",children:y.jsx(vm,{size:18})}),y.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:"Admin Posteingang"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[We>0&&y.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:We}),y.jsx(Rs,{size:18,className:"text-gray-400"})]})]}):y.jsxs("button",{onClick:()=>ae("feedback"),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"bg-pink-50 dark:bg-pink-900/20 text-pink-600 dark:text-pink-400 p-2 rounded-full",children:y.jsx(_m,{size:18})}),y.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"Feedback"})]}),y.jsx(Rs,{size:18,className:"text-gray-400"})]})]})]}),y.jsxs("div",{className:"space-y-3 pt-4",children:[y.jsxs("button",{onClick:Dt,className:"w-full bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg flex items-center justify-center space-x-2 active:scale-[0.98] transition hover:bg-blue-700",children:[y.jsx(Jv,{size:20}),y.jsx("span",{children:Oe("settings.save",_)})]}),y.jsxs("button",{onClick:r,className:"w-full bg-white dark:bg-gray-800 text-red-500 font-bold py-4 rounded-xl shadow-sm border border-red-100 dark:border-red-900/30 flex items-center justify-center space-x-2 active:scale-[0.98] transition hover:bg-red-50 dark:hover:bg-red-900/20",children:[y.jsx(VE,{size:20}),y.jsx("span",{children:Oe("settings.logout",_)})]})]})]}),J==="inbox"&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-sm rounded-3xl p-6 relative max-h-[80vh] flex flex-col ${xt}`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:`text-2xl font-bold ${sn}`,children:"Nachrichten"}),y.jsx("button",{onClick:()=>ae("none"),className:nn,children:y.jsx(Nn,{size:24})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3 mb-6 min-h-[200px]",children:ut.length===0?y.jsxs("div",{className:`flex flex-col items-center justify-center h-full space-y-2 ${f?"text-slate-800 dark:text-white opacity-100 drop-shadow-sm":"text-gray-400 opacity-60"}`,children:[y.jsx(vm,{size:48,strokeWidth:1}),y.jsx("p",{className:"text-sm font-medium",children:"Keine Nachrichten"})]}):ut.map(Z=>{var wt;const He=S==null?void 0:S.find(hr=>hr.id===Z.authorId),Rt=(wt=Z.readBy)==null?void 0:wt.includes(t.id),Ft=f?"liquid-shimmer-card border-white/20":`bg-gray-50 dark:bg-gray-800 border ${Rt?"border-gray-100 dark:border-gray-700":"border-indigo-200 dark:border-indigo-800 ring-1 ring-indigo-100 dark:ring-indigo-900"}`,dn=f?"text-slate-900 dark:text-white":"text-gray-800 dark:text-gray-200",rn=f?"text-slate-700 dark:text-slate-300":"text-gray-700 dark:text-gray-300";return y.jsxs("div",{className:`${Ft} p-4 rounded-2xl relative border transition-all`,children:[He&&y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx("img",{src:He.avatar,className:"w-6 h-6 rounded-full border border-gray-200 dark:border-gray-600"}),y.jsx("span",{className:`text-xs font-bold ${rn}`,children:He.name}),y.jsx("span",{className:`text-[10px] ml-auto opacity-70 ${rn}`,children:new Date(Z.createdAt).toLocaleDateString()})]}),y.jsx("p",{className:`text-sm ${dn}`,children:Z.description}),y.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[!Rt&&te&&y.jsx("button",{onClick:()=>te(Z.id),className:"text-blue-500 hover:text-blue-700 p-1",title:"Als gelesen markieren",children:y.jsx(ou,{size:16})}),G&&y.jsx("button",{onClick:()=>G(Z.id),className:"text-gray-400 hover:text-red-500 p-1",children:y.jsx(ao,{size:16})})]})]},Z.id)})}),y.jsxs("button",{onClick:kt,className:"w-full bg-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center space-x-2 active:scale-95 transition",children:[y.jsx(E1,{size:18})," ",y.jsx("span",{children:"Neue Nachricht"})]})]})}),J==="compose"&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-sm rounded-3xl p-6 relative ${xt}`,children:[y.jsxs("div",{className:"flex items-center mb-6",children:[y.jsxs("button",{onClick:()=>ae("inbox"),className:"text-blue-600 dark:text-blue-400 text-sm font-bold flex items-center mr-auto hover:underline",children:[y.jsx(ff,{size:16,className:"mr-1"})," Zurck"]}),y.jsx("h3",{className:`text-lg font-bold ${sn} absolute left-1/2 transform -translate-x-1/2`,children:"Neue Nachricht"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:`block text-xs font-bold ${f?"text-slate-600 dark:text-slate-400":"text-gray-500 dark:text-gray-400"} uppercase mb-2`,children:"Empfnger"}),y.jsxs("select",{value:fe,onChange:Z=>he(Z.target.value),className:`w-full rounded-xl p-3 text-sm outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white border-white/20":"bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-white border-gray-200 dark:border-gray-700"}`,children:[y.jsx("option",{value:"",disabled:!0,children:"Whle jemanden..."}),S==null?void 0:S.filter(Z=>Z.id!==t.id).map(Z=>y.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),y.jsx("div",{children:y.jsx("textarea",{value:$e,onChange:Z=>qe(Z.target.value),placeholder:"Deine Nachricht...",className:`w-full rounded-xl p-4 text-sm outline-none resize-none h-32 focus:ring-2 focus:ring-blue-500 ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white placeholder-slate-500 border-white/20":"bg-gray-50 dark:bg-gray-800 text-gray-800 dark:text-white border-gray-200 dark:border-gray-700"}`})}),y.jsxs("button",{onClick:Gt,disabled:!$e.trim()||!fe,className:"w-full bg-blue-600 text-white font-bold py-3.5 rounded-xl shadow-lg flex items-center justify-center space-x-2 disabled:opacity-50 disabled:shadow-none active:scale-95 transition",children:[y.jsx(h1,{size:18}),y.jsx("span",{children:"Senden"})]})]})]})}),J==="about"&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden relative max-h-[90vh] flex flex-col ${xt} transition-colors`,children:[y.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 p-6 text-center relative shrink-0",children:[y.jsx("button",{onClick:()=>ae("none"),className:"absolute top-4 right-4 text-white/70 hover:text-white bg-black/20 p-1.5 rounded-full backdrop-blur-sm transition",children:y.jsx(Nn,{size:20})}),y.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-lg inline-block mb-3",children:y.jsx(uu,{size:48})}),y.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"FamilienHub"}),y.jsxs("p",{className:"text-blue-100 text-sm font-medium opacity-90",children:["Version ",ef]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-6",children:[y.jsxs("section",{children:[y.jsxs("h3",{className:`text-xs font-bold uppercase tracking-widest mb-3 flex items-center gap-2 ${f?"text-slate-600 dark:text-slate-400":"text-gray-400 dark:text-gray-500"}`,children:[y.jsx(eT,{size:14,className:"text-yellow-500"})," Neu in ",ef]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:`${f?"bg-cyan-100/50 dark:bg-cyan-900/30 border-cyan-200/50":"bg-cyan-50 dark:bg-cyan-900/10 border-cyan-100"} p-3 rounded-xl border dark:border-cyan-800 flex gap-3 items-start`,children:[y.jsx("div",{className:`${f?"bg-cyan-200 dark:bg-cyan-800 text-cyan-700":"bg-cyan-100 dark:bg-cyan-800 text-cyan-600"} p-2 rounded-full dark:text-cyan-300 shrink-0`,children:y.jsx(u1,{size:16})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-bold text-sm ${f?"text-slate-900 dark:text-white":"text-gray-800 dark:text-white"}`,children:"Wiederherstellung"}),y.jsx("p",{className:`text-xs mt-0.5 ${f?"text-slate-700 dark:text-cyan-100/70":"text-gray-600 dark:text-gray-400"}`,children:"Dashboard, Kalender und Listen zeigen wieder alle Inhalte an."})]})]}),y.jsxs("div",{className:`${f?"bg-indigo-100/50 dark:bg-indigo-900/30 border-indigo-200/50":"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-100"} p-3 rounded-xl border dark:border-indigo-800 flex gap-3 items-start`,children:[y.jsx("div",{className:`${f?"bg-indigo-200 dark:bg-indigo-800 text-indigo-700":"bg-indigo-100 dark:bg-indigo-800 text-indigo-600"} p-2 rounded-full dark:text-indigo-300 shrink-0`,children:y.jsx(gf,{size:16})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-bold text-sm ${f?"text-slate-900 dark:text-white":"text-gray-800 dark:text-white"}`,children:"Liquid Exklusiv"}),y.jsx("p",{className:`text-xs mt-0.5 ${f?"text-slate-700 dark:text-indigo-100/70":"text-gray-600 dark:text-gray-400"}`,children:"Slider-Animationen und Gestensteuerung sind nur noch im Liquid-Modus aktiv."})]})]})]})]}),y.jsxs("div",{className:`p-4 rounded-3xl border flex items-center justify-between cursor-pointer transition active:scale-[0.98] group ${f?"bg-white/60 border-white/40 shadow-sm":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md"}`,onClick:()=>window.open(PM,"_blank"),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400",children:y.jsx(kE,{size:24})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base",children:"Webseite"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-0.5 truncate",children:"superyoshi6.github.io/FamilienHub"})]})]}),y.jsx(Bv,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition ml-2"})]}),y.jsxs("div",{className:`p-6 rounded-3xl cursor-pointer transition active:scale-[0.98] flex items-center justify-between group ${f?"bg-slate-900/90 text-white shadow-lg backdrop-blur-xl":"bg-[#0f172a] text-white shadow-xl"}`,onClick:fr,children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-xl text-white mb-1",children:"App Update"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Neueste Version laden."}),y.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-0.5 rounded text-[10px] font-mono bg-white/10 text-gray-300",children:["v",ef]})]}),y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/10 flex items-center justify-center text-white group-hover:bg-white/20 transition",children:y.jsx(gE,{size:28})})]}),y.jsx("div",{className:"text-center pt-8 space-y-1",children:y.jsx("p",{className:`text-[10px] font-medium ${f?"text-slate-500 dark:text-slate-400":"text-gray-400"}`,children:" 2025 FamilienHub Inc. Alle Rechte vorbehalten."})})]})]})}),J==="reset-confirm"&&rt&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-sm rounded-2xl shadow-2xl p-6 relative ${xt}`,children:[y.jsxs("h3",{className:`text-lg font-bold ${sn} mb-2`,children:[Oe("settings.reset_passwords",_),"?"]}),y.jsx("p",{className:`${f?"text-slate-700 dark:text-gray-300":"text-gray-600 dark:text-gray-300"} mb-6`,children:Oe("settings.reset_confirm",_).replace("{name}",rt.name)}),y.jsx("input",{type:"password",value:Nt,onChange:Z=>mn(Z.target.value),placeholder:"Neues Passwort",className:`w-full rounded-xl p-3 mb-4 text-sm outline-none ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white placeholder-slate-500 border-white/20":"bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white border-gray-200 dark:border-gray-600"}`}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsx("button",{onClick:()=>ae("none"),className:`flex-1 py-3 rounded-xl font-bold ${f?"bg-white/30 dark:bg-white/10 text-slate-700 dark:text-gray-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"Abbrechen"}),y.jsx("button",{onClick:yi,disabled:!Nt.trim(),className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-bold shadow-lg disabled:opacity-50",children:"Zurcksetzen"})]})]})}),J==="edit-user"&&Yt&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-sm rounded-2xl shadow-2xl p-6 relative ${xt}`,children:[y.jsx("button",{onClick:()=>ae("none"),className:`absolute top-4 right-4 ${nn}`,children:y.jsx(Nn,{size:24})}),y.jsx("h3",{className:`text-lg font-bold ${sn} mb-6`,children:"Benutzer bearbeiten"}),y.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-6",children:[y.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-100 dark:border-gray-700 relative bg-gray-100 dark:bg-gray-700",children:qt?y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:y.jsx(Wi,{className:"animate-spin text-blue-500",size:24})}):y.jsx("img",{src:Mn,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:Ds,disabled:qt,className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40 transition",title:"KI Generieren",children:y.jsx(xm,{size:16})}),y.jsx("button",{onClick:()=>{var Z;return(Z=ie.current)==null?void 0:Z.click()},disabled:qt,className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-2 rounded-full hover:bg-green-100 dark:hover:bg-green-900/40 transition",title:"Datei Upload",children:y.jsx(pf,{size:16})}),y.jsx("input",{type:"file",ref:ie,onChange:dr,accept:"image/*",className:"hidden"}),y.jsx("button",{onClick:()=>ii(!ni),disabled:qt,className:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 p-2 rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/40 transition",title:"Link",children:y.jsx(bm,{size:16})})]}),ni&&y.jsxs("div",{className:"flex w-full space-x-2 animate-fade-in",children:[y.jsx("input",{type:"text",placeholder:"Bild URL einfgen...",value:Ti,onChange:Z=>vn(Z.target.value),className:`flex-1 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white border-white/20":"bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white border-gray-200 dark:border-gray-600"}`}),y.jsx("button",{onClick:Us,className:"bg-blue-500 text-white px-3 py-2 rounded-lg text-sm font-bold",children:"OK"})]})]}),y.jsx("input",{type:"text",value:bt,onChange:Z=>mi(Z.target.value),placeholder:"Name",className:`w-full rounded-xl p-3 mb-6 text-sm outline-none font-bold text-center ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white border-white/20":"bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white border-gray-200 dark:border-gray-600"}`}),y.jsx("button",{onClick:Bn,disabled:!bt.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg transition disabled:opacity-50",children:"Speichern"})]})}),J==="add-user"&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-sm rounded-2xl shadow-2xl p-6 relative ${xt}`,children:[y.jsx("button",{onClick:()=>ae("none"),className:`absolute top-4 right-4 ${nn}`,children:y.jsx(Nn,{size:24})}),y.jsx("h3",{className:`text-lg font-bold ${sn} mb-4`,children:"Nutzer hinzufgen"}),y.jsxs("form",{onSubmit:Ps,className:"space-y-4",children:[y.jsx("input",{type:"text",value:_t,onChange:Z=>$t(Z.target.value),placeholder:"Name",className:`w-full rounded-xl p-3 text-sm outline-none font-bold ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white border-white/20":"bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white border-gray-200 dark:border-gray-600"}`,autoFocus:!0}),y.jsxs("div",{className:`flex gap-2 p-1 rounded-xl ${f?"bg-white/20 dark:bg-black/20":"bg-gray-100 dark:bg-gray-700/50"}`,children:[y.jsx("button",{type:"button",onClick:()=>Ai("parent"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${St==="parent"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:"Elternteil"}),y.jsx("button",{type:"button",onClick:()=>Ai("child"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${St==="child"?"bg-white dark:bg-gray-600 text-green-600 dark:text-green-300 shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:"Kind"})]}),y.jsx("button",{type:"submit",disabled:!_t.trim()||Hn,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl shadow-lg transition disabled:opacity-50 flex items-center justify-center",children:Hn?y.jsx(Wi,{className:"animate-spin",size:20}):"Erstellen"})]})]})}),J==="feedback"&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-sm rounded-2xl shadow-2xl p-6 relative ${xt}`,children:[y.jsx("button",{onClick:()=>ae("none"),className:`absolute top-4 right-4 ${nn}`,children:y.jsx(Nn,{size:24})}),Ue?y.jsxs("div",{className:"py-8 flex flex-col items-center text-center animate-fade-in",children:[y.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4 text-green-600",children:y.jsx(hm,{size:32})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Danke!"})]}):y.jsxs("form",{onSubmit:yo,className:"space-y-4",children:[y.jsxs("h3",{className:`text-lg font-bold ${sn} flex items-center`,children:[y.jsx(_m,{size:20,className:"mr-2 text-pink-500"})," ",Oe("settings.feedback",_)]}),y.jsx("div",{className:"flex justify-center space-x-2 py-2",children:[1,2,3,4,5].map(Z=>y.jsx("button",{type:"button",onClick:()=>be(Z),className:"focus:outline-none transition transform hover:scale-110",children:y.jsx(va,{size:32,className:`${Me>=Z?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600"}`})},Z))}),y.jsx("textarea",{value:Le,onChange:Z=>oe(Z.target.value),placeholder:"Wie findest du die App?",rows:4,required:!0,className:`w-full rounded-xl p-3 text-sm focus:ring-2 focus:ring-pink-500 outline-none resize-none ${f?"bg-white/20 dark:bg-black/20 text-slate-900 dark:text-white placeholder-slate-500 border-white/20":"bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-white border-gray-200 dark:border-gray-600"}`}),y.jsx("button",{type:"submit",className:"w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 rounded-xl shadow-md active:scale-[0.98] transition",children:"Absenden"})]})]})}),J==="admin-feedback"&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:y.jsxs("div",{className:`${ft} w-full max-w-md rounded-2xl shadow-2xl p-6 relative max-h-[80vh] flex flex-col ${xt}`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2",children:[y.jsx("h3",{className:`text-lg font-bold ${sn}`,children:"Nutzer Feedback"}),y.jsx("button",{onClick:()=>ae("none"),className:nn,children:y.jsx(Nn,{size:24})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3",children:C&&C.length>0?C.map(Z=>y.jsxs("div",{className:`p-3 rounded-xl border ${f?"bg-white/40 dark:bg-black/20 border-white/20":"bg-gray-50 dark:bg-gray-700/50 border-gray-100 dark:border-gray-700"}`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsx("span",{className:`font-bold text-sm ${f?"text-slate-900 dark:text-white":"text-gray-800 dark:text-white"}`,children:Z.userName}),y.jsx("div",{className:"flex",children:Array.from({length:Z.rating}).map((He,Rt)=>y.jsx(va,{size:10,className:"fill-yellow-400 text-yellow-400"},Rt))})]}),y.jsx("p",{className:`text-sm mb-2 ${f?"text-slate-700 dark:text-gray-300":"text-gray-600 dark:text-gray-300"}`,children:Z.text}),y.jsx("div",{className:"text-[10px] text-gray-400 text-right",children:new Date(Z.createdAt).toLocaleString()})]},Z.id)):y.jsx("div",{className:"text-center py-8 text-gray-400",children:"Kein Feedback vorhanden."})})]})})]})},zM=(t,e)=>{switch(t){case"wind":return y.jsx(W1,{className:e});case"droplets":return y.jsx(B1,{className:e});case"humidity":return y.jsx(gf,{className:e});case"sun":return y.jsx(Ei,{className:e});case"thermometer":return y.jsx(Yv,{className:e});case"eye":return y.jsx(ou,{className:e});case"gauge":return y.jsx(TE,{className:e});case"sunrise":return y.jsx(R1,{className:e});case"sunset":return y.jsx(I1,{className:e});default:return y.jsx(Ei,{className:e})}},jM=(t,e=1)=>t===0?e?y.jsx(Ei,{size:80,className:"text-yellow-400 animate-pulse-slow"}):y.jsx(Tu,{size:80,className:"text-gray-200"}):t>=1&&t<=3?y.jsx(Qf,{size:80,className:"text-gray-200 animate-float"}):t>=45&&t<=48?y.jsx(Yf,{size:80,className:"text-gray-300 animate-float"}):t>=51&&t<=67?y.jsx(ya,{size:80,className:"text-blue-300"}):t>=71&&t<=77?y.jsx(Wf,{size:80,className:"text-white"}):t>=95?y.jsx(Xf,{size:80,className:"text-purple-300"}):y.jsx(Ei,{size:80,className:"text-yellow-400"}),ov=t=>t===0?y.jsx(Ei,{size:20,className:"text-yellow-400"}):t>=1&&t<=3?y.jsx(Qf,{size:20,className:"text-gray-400"}):t>=45&&t<=48?y.jsx(Yf,{size:20,className:"text-gray-400"}):t>=51&&t<=67?y.jsx(ya,{size:20,className:"text-blue-400"}):t>=71&&t<=77?y.jsx(Wf,{size:20,className:"text-white"}):t>=95?y.jsx(Xf,{size:20,className:"text-purple-400"}):y.jsx(Ei,{size:20,className:"text-yellow-400"}),$M=(t,e=1,i=!1)=>i?e?t===0?"from-blue-400/5 to-blue-600/10":t>=1&&t<=3?"from-slate-400/5 to-slate-500/10":"from-cyan-500/5 to-blue-600/10":"from-indigo-900/10 to-slate-900/20":e?t===0?"from-blue-400 to-blue-600":t>=1&&t<=3?"from-blue-400 to-slate-500":t>=45?"from-gray-500 to-slate-600":t>=51&&t<=86?"from-slate-600 to-gray-800":t>=95?"from-indigo-900 to-purple-900":"from-blue-500 to-cyan-600":"from-slate-900 to-indigo-950",HM=(t,e)=>e===0?"Heute":e===1?"Morgen":new Date(t).toLocaleDateString("de-DE",{weekday:"long"}),BM=({code:t,isDay:e})=>{const i=t===0,r=t===1||t===2,o=t===3,l=t===45||t===48,c=t>=51&&t<=57,f=t>=61&&t<=63||t===66||t===80||t===81,g=t===65||t===67||t===82||t>=95&&t<=99,p=t>=71&&t<=77||t>=85&&t<=86,b=t>=95,_=i&&e===0,x=H.useMemo(()=>g?{count:120,speedBase:.3,speedVar:.2,angle:15,opacity:.7,type:"rain"}:f?{count:60,speedBase:.7,speedVar:.3,angle:5,opacity:.5,type:"rain"}:c?{count:40,speedBase:1.5,speedVar:.5,angle:0,opacity:.3,type:"rain"}:p?{count:50,speedBase:4,speedVar:2,angle:0,opacity:.8,type:"snow"}:{count:0,speedBase:0,speedVar:0,angle:0,opacity:0,type:"none"},[g,f,c,p]),S=H.useMemo(()=>Array.from({length:x.count}).map((N,U)=>({id:U,left:Math.random()*100,delay:Math.random()*2,duration:x.speedBase+Math.random()*x.speedVar,size:x.type==="snow"?Math.random()*3+2:x.type==="rain"&&c?Math.random()*5+5:Math.random()*15+10})),[x,c]),T=H.useMemo(()=>[{top:10,left:-20,duration:25,size:"w-64 h-64"},{top:30,left:-10,duration:35,size:"w-80 h-80"},{top:60,left:10,duration:45,size:"w-40 h-40"},{top:20,left:-30,duration:20,size:"w-72 h-72"},{top:50,left:-15,duration:30,size:"w-56 h-56"},{top:5,left:50,duration:40,size:"w-96 h-96"}],[]),C=H.useMemo(()=>Array.from({length:50}).map((N,U)=>({id:U,top:Math.random()*60,left:Math.random()*100,delay:Math.random()*3,size:Math.random()*2+1})),[]),A=o?T:r||c||f||g||p?T.slice(0,3):[];return y.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[_&&C.map(N=>y.jsx("div",{className:"absolute bg-white rounded-full animate-pulse-slow",style:{top:`${N.top}%`,left:`${N.left}%`,width:`${N.size}px`,height:`${N.size}px`,opacity:.8,animationDelay:`${N.delay}s`}},`star-${N.id}`)),A.map((N,U)=>y.jsx("div",{className:`absolute bg-white/${o?"10":"20"} rounded-full blur-3xl animate-cloud ${N.size}`,style:{top:`${N.top}%`,animationDuration:`${N.duration}s`,left:`${N.left}%`}},U)),o&&y.jsx("div",{className:"absolute inset-0 bg-slate-900/30 z-0"}),l&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/40 via-white/20 to-transparent blur-3xl z-10"}),x.type!=="none"&&y.jsx("div",{className:"absolute inset-0",style:{transform:`skewX(-${x.angle}deg)`},children:S.map(N=>y.jsx("div",{className:`absolute rounded-full ${x.type==="snow"?"bg-white":"bg-blue-100/60"}`,style:{left:`${N.left}%`,top:"-50px",width:x.type==="snow"?`${N.size}px`:g?"2px":"1px",height:x.type==="snow"?`${N.size}px`:`${N.size}px`,opacity:x.opacity,animation:`fall ${N.duration}s linear infinite`,animationDelay:`-${N.delay}s`}},N.id))}),b&&y.jsx("div",{className:"absolute inset-0 bg-white/30 animate-thunder mix-blend-overlay z-10"}),i&&e===1&&y.jsx("div",{className:"absolute -top-20 right-0 w-[500px] h-[500px] bg-yellow-400/20 rounded-full blur-3xl animate-pulse-slow"})]})},VM=({onBack:t,favorites:e,onToggleFavorite:i,initialLocation:r,liquidGlass:o=!1})=>{var Ue,Je;const[l,c]=H.useState(!0),[f,g]=H.useState(null),[p,b]=H.useState(null),[_,x]=H.useState(!1),[S,T]=H.useState(""),[C,A]=H.useState("Standort"),[N,U]=H.useState(null),[M,V]=H.useState("rain"),[G,X]=H.useState([]),[O,se]=H.useState(null),[te,ye]=H.useState(["hourly","daily","details"]),[ve,Te]=H.useState(null),Ae=async(fe,he,$e)=>{c(!0),g(null),U({lat:fe,lng:he});const qe=await eh(fe,he);if(qe){b(qe),$e&&A($e);const rt=new Date(qe.daily.sunrise[0]).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),Ct=new Date(qe.daily.sunset[0]).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),Nt=qe.current.visibility?(qe.current.visibility/1e3).toFixed(1):"--";X([{id:"1",label:"Gefhlt",value:`${Math.round(qe.current.apparent_temperature)}`,icon:"thermometer",colorClass:"bg-orange-500/20 text-orange-200"},{id:"2",label:"Feuchtigkeit",value:`${qe.current.relative_humidity_2m}%`,icon:"humidity",colorClass:"bg-blue-500/20 text-blue-200"},{id:"3",label:"Wind",value:`${Math.round(qe.current.wind_speed_10m)} km/h`,icon:"wind",colorClass:"bg-teal-500/20 text-teal-200"},{id:"4",label:"UV Index",value:`${qe.daily.uv_index_max[0].toFixed(1)}`,icon:"sun",colorClass:"bg-yellow-500/20 text-yellow-200"},{id:"5",label:"Luftdruck",value:`${Math.round(qe.current.surface_pressure)} hPa`,icon:"gauge",colorClass:"bg-purple-500/20 text-purple-200"},{id:"6",label:"Sichtweite",value:`${Nt} km`,icon:"eye",colorClass:"bg-indigo-500/20 text-indigo-200"},{id:"7",label:"Sonnenaufgang",value:rt,icon:"sunrise",colorClass:"bg-amber-500/20 text-amber-200"},{id:"8",label:"Sonnenuntergang",value:Ct,icon:"sunset",colorClass:"bg-red-500/20 text-red-200"}])}else g("Daten konnten nicht geladen werden");c(!1)},Se=async(fe=!1)=>{if(c(!0),g(null),Xi.isNativePlatform())try{if(fe)try{await ba.requestPermissions()}catch{}const he=await ba.getCurrentPosition({enableHighAccuracy:!1,timeout:1e4,maximumAge:1/0});Ae(he.coords.latitude,he.coords.longitude,"Aktueller Standort");return}catch(he){console.error("Capacitor Geo Error:",he)}navigator.geolocation?navigator.geolocation.getCurrentPosition(he=>{Ae(he.coords.latitude,he.coords.longitude,"Aktueller Standort")},he=>{g("Standort nicht verfgbar. Bitte suche manuell."),x(!0),c(!1)},{timeout:8e3,enableHighAccuracy:!1}):(g("Standortzugriff fehlgeschlagen."),x(!0),c(!1))};H.useEffect(()=>{r?Ae(r.lat,r.lng,r.name):Se()},[]);const Xe=async fe=>{if(fe.preventDefault(),!S.trim())return;c(!0),x(!1);const he=await iT(S);he?Ae(he.lat,he.lng,he.name):(g(`Konnte Ort "${S}" nicht finden.`),c(!1)),T("")},L=()=>{N&&i({id:C,name:C,lat:N.lat,lng:N.lng})},ne=e.some(fe=>fe.name===C),pe=fe=>{if(ve===null)Te(fe);else if(ve===fe)Te(null);else{const he=[...te],$e=he[fe];he[fe]=he[ve],he[ve]=$e,ye(he),Te(null)}},ce=fe=>{if(O===null)se(fe);else if(O===fe)se(null);else{const he=[...G],$e=he[fe];he[fe]=he[O],he[O]=$e,X(he),se(null)}},me=((Ue=p==null?void 0:p.current)==null?void 0:Ue.weather_code)||0,k=((Je=p==null?void 0:p.current)==null?void 0:Je.is_day)??1,$=me>=71&&me<=77,re=o?"text-slate-800 dark:text-white":$&&k?"text-slate-800":"text-white",Y=o?"text-slate-600 dark:text-yellow-100 opacity-90":"text-yellow-100 opacity-90",ie=o?"bg-white/40 dark:bg-black/30 backdrop-blur-xl border border-white/30 dark:border-white/10 shadow-sm":$?"bg-white/40 border-slate-500/20":"bg-black/20 border-white/5",J=({title:fe,index:he,onClick:$e})=>{const qe=ve===he;return y.jsxs("div",{onClick:$e,className:`flex justify-between items-center mb-3 px-3 py-1.5 cursor-pointer transition-all rounded-lg select-none ${qe?"bg-white/20 ring-1 ring-white/50":"hover:bg-white/10 group"}`,children:[y.jsx("h3",{className:`text-left text-xs font-bold uppercase tracking-wider flex items-center drop-shadow-sm ${Y}`,children:fe}),qe?y.jsxs("div",{className:"flex items-center space-x-1 animate-pulse",children:[y.jsx("span",{className:"text-[10px] font-bold text-yellow-300 uppercase",children:"Verschieben..."}),y.jsx(fm,{size:14,className:"text-current"})]}):y.jsx(ME,{size:18,className:"opacity-60 group-hover:opacity-100 transition"})]})},ae=fe=>{if(!p)return null;const he=new Date().getHours(),$e=p.hourly.time.slice(he,he+25),qe=p.hourly.temperature_2m.slice(he,he+25),rt=p.hourly.weather_code.slice(he,he+25);return y.jsxs("div",{className:`w-full transition-all duration-300 ${ve===fe?o?"animate-wobble":"scale-[0.98] opacity-80":""}`,children:[y.jsx(J,{title:"Stndlich",index:fe,onClick:()=>pe(fe)}),y.jsx("div",{className:`${ie} rounded-3xl p-5 shadow-sm`,children:y.jsx("div",{className:"flex overflow-x-auto gap-6 pb-2 scrollbar-hide",children:$e.map((Ct,Nt)=>{const Yt=new Date(Ct).getHours(),Rn=Nt===0;return y.jsxs("div",{className:"flex flex-col items-center space-y-3 min-w-[3rem]",children:[y.jsx("span",{className:"text-xs font-medium opacity-80 whitespace-nowrap",children:Rn?"Jetzt":`${Yt}:00`}),ov(rt[Nt]||0),y.jsxs("span",{className:"font-bold text-lg",children:[Math.round(qe[Nt]||0),""]})]},Nt)})})})]})},Le=fe=>y.jsxs("div",{className:`w-full transition-all duration-300 ${ve===fe?o?"animate-wobble":"scale-[0.98] opacity-80":""}`,children:[y.jsx(J,{title:"7-Tage Trend",index:fe,onClick:()=>pe(fe)}),y.jsx("div",{className:`${ie} rounded-3xl p-5 space-y-4 shadow-sm`,children:p==null?void 0:p.daily.time.map((he,$e)=>{const qe=Math.round(p.daily.temperature_2m_min[$e]),rt=Math.round(p.daily.temperature_2m_max[$e]),Ct=-5,mn=35-Ct,Yt=Math.max(0,(qe-Ct)/mn*100),Rn=Math.max(5,(rt-qe)/mn*100);return y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsx("span",{className:"w-20 font-medium text-left",children:HM(he,$e)}),y.jsx("div",{className:"flex justify-center w-8",children:ov(p.daily.weather_code[$e])}),y.jsxs("div",{className:"flex-1 flex items-center gap-2 px-2",children:[y.jsxs("span",{className:"w-6 text-right opacity-80 text-xs",children:[qe,""]}),y.jsx("div",{className:`flex-1 h-1.5 ${o?"bg-slate-400/30":$?"bg-slate-600/10":"bg-white/10"} rounded-full relative overflow-hidden`,children:y.jsx("div",{className:"absolute h-full rounded-full opacity-80",style:{left:`${Yt}%`,width:`${Rn}%`,background:"linear-gradient(90deg, #93c5fd 0%, #fbbf24 100%)"}})}),y.jsxs("span",{className:"w-6 text-left font-bold text-xs",children:[rt,""]})]})]},$e)})})]}),oe=()=>{if(!N)return null;const fe=M,he=`https://embed.windy.com/embed2.html?lat=${N.lat}&lon=${N.lng}&detailLat=${N.lat}&detailLon=${N.lng}&width=650&height=450&zoom=8&level=surface&overlay=${fe}&product=ecmwf&menu=&message=&marker=true&calendar=now&pressure=&type=map&location=coordinates&detail=&metricWind=km%2Fh&metricTemp=%C2%B0C&radarRange=-1`;return y.jsxs("div",{className:"w-full transition-all duration-300",children:[y.jsx("div",{className:"flex justify-between items-center mb-3 px-3 py-1.5 rounded-lg select-none",children:y.jsx("h3",{className:`text-left text-xs font-bold uppercase tracking-wider flex items-center drop-shadow-md ${Y}`,children:"Wetterradar"})}),y.jsxs("div",{className:`${ie} rounded-3xl p-2 shadow-sm`,children:[y.jsxs("div",{className:"flex gap-2 mb-2 px-1",children:[y.jsxs("button",{onClick:$e=>{$e.stopPropagation(),V("rain")},className:`flex-1 py-2 rounded-xl text-xs font-bold flex items-center justify-center transition-all ${M==="rain"?"bg-blue-500 text-white shadow-md":"bg-white/20 hover:bg-white/30 text-current"}`,children:[y.jsx(ya,{size:14,className:"mr-1.5"})," Regen"]}),y.jsxs("button",{onClick:$e=>{$e.stopPropagation(),V("temp")},className:`flex-1 py-2 rounded-xl text-xs font-bold flex items-center justify-center transition-all ${M==="temp"?"bg-orange-500 text-white shadow-md":"bg-white/20 hover:bg-white/30 text-current"}`,children:[y.jsx(Yv,{size:14,className:"mr-1.5"})," Temperatur"]})]}),y.jsx("div",{className:"w-full aspect-[4/3] rounded-xl overflow-hidden bg-black/20 relative shadow-inner",children:y.jsx("iframe",{src:he,className:"w-full h-full border-none",title:"Radar"})})]})]})},Me=fe=>y.jsxs("div",{className:`w-full transition-all duration-300 ${ve===fe?o?"animate-wobble":"scale-[0.98] opacity-80":""}`,children:[y.jsx(J,{title:"Details",index:fe,onClick:()=>pe(fe)}),y.jsx("div",{className:"grid grid-cols-2 gap-3 w-full",children:G.map((he,$e)=>{const qe=O===$e;let rt=he.colorClass||"bg-white/20";return o&&(he.icon==="sun"?rt="bg-yellow-100 text-yellow-600 dark:bg-yellow-500/20 dark:text-yellow-200":he.icon==="wind"?rt="bg-teal-100 text-teal-600 dark:bg-teal-500/20 dark:text-teal-200":he.icon==="thermometer"?rt="bg-orange-100 text-orange-600 dark:bg-orange-500/20 dark:text-orange-200":he.icon==="humidity"?rt="bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-200":rt="bg-slate-100 text-slate-600 dark:bg-white/20 dark:text-white"),y.jsxs("div",{onClick:()=>ce($e),className:`
                              ${ie} 
                              p-4 rounded-3xl flex flex-col items-start 
                              relative overflow-hidden cursor-pointer transition-all active:scale-95 select-none
                              ${qe?o?"animate-wobble ring-2 ring-yellow-400":"ring-2 ring-yellow-400 shadow-lg scale-[0.98]":"hover:bg-white/5"}
                          `,children:[y.jsxs("div",{className:"flex justify-between w-full mb-3",children:[y.jsx("div",{className:`p-2 rounded-full ${rt}`,children:zM(he.icon,"w-4 h-4")}),qe?y.jsx(fm,{size:16,className:"text-yellow-400 animate-pulse"}):y.jsx("div",{className:"w-4"})]}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-normal mb-0.5 opacity-70 w-full truncate",children:he.label}),y.jsx("span",{className:"text-xl font-bold tracking-tight",children:he.value})]},he.id)})})]});if(l)return y.jsxs("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 flex-col",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),y.jsx("span",{className:"text-gray-500",children:"Lade Wetter..."})]});const be=$M(me,k,o);return y.jsxs("div",{className:`min-h-screen ${o?"":"bg-gradient-to-b"} ${be} ${re} pb-24 transition-all duration-1000 relative overflow-hidden`,children:[y.jsx(BM,{code:me,isDay:k}),y.jsxs("div",{className:"pt-4 px-4 flex items-center z-20 relative",children:[y.jsx("button",{onClick:t,className:`bg-white/20 hover:bg-white/30 p-2 rounded-full backdrop-blur-md transition flex-shrink-0 mr-2 ${$&&!o?"text-slate-800":"text-current"}`,children:y.jsx(ff,{size:24})}),y.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-center space-x-1 mx-2 bg-white/10 rounded-full py-1.5 px-3 backdrop-blur-sm",children:[y.jsx(eo,{size:12,className:"opacity-70 flex-shrink-0"}),y.jsx("span",{className:"font-semibold tracking-wide uppercase text-sm opacity-90 truncate",children:C})]}),y.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[y.jsx("button",{onClick:()=>Se(!0),className:`bg-white/20 hover:bg-white/30 p-2 rounded-full backdrop-blur-md transition ${$&&!o?"text-slate-800":"text-current"}`,title:"Aktueller Standort",children:y.jsx(au,{size:20,className:r?"":"fill-current"})}),y.jsx("button",{onClick:L,className:`bg-white/20 hover:bg-white/30 p-2 rounded-full backdrop-blur-md transition ${$&&!o?"text-slate-800":"text-current"}`,children:y.jsx(va,{size:20,fill:ne?"currentColor":"none",className:ne?"text-yellow-400":""})}),y.jsx("button",{onClick:()=>x(!_),className:`bg-white/20 hover:bg-white/30 p-2 rounded-full backdrop-blur-md transition ${$&&!o?"text-slate-800":"text-current"}`,children:y.jsx(ur,{size:20})})]})]}),_&&y.jsx("div",{className:"absolute top-20 left-4 right-4 z-30 animate-fade-in-down",children:y.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl p-2 shadow-xl border border-white/20",children:[y.jsxs("form",{onSubmit:Xe,className:"relative mb-2",children:[y.jsx("input",{type:"text",autoFocus:!0,value:S,onChange:fe=>T(fe.target.value),placeholder:"Stadt eingeben (z.B. Mnchen)...",className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-xl py-3 pl-4 pr-12 outline-none border border-transparent focus:border-blue-500 transition-all"}),y.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-1.5 bg-blue-500 text-white rounded-lg",children:y.jsx(ur,{size:20})})]}),e.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2 px-1 pb-2",children:e.map(fe=>y.jsxs("button",{onClick:()=>{Ae(fe.lat,fe.lng,fe.name),x(!1)},className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-xs font-medium transition",children:[y.jsx(va,{size:10,className:"fill-current text-yellow-500"}),y.jsx("span",{children:fe.name})]},fe.id))}),y.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-2 pt-2 text-center",children:y.jsx("button",{onClick:()=>x(!1),className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white",children:"Schlieen"})})]})}),y.jsx("div",{className:"flex flex-col items-center pt-8 px-6 text-center z-10 relative animate-fade-in-up",children:f?y.jsxs("div",{className:"bg-white/10 p-6 rounded-2xl backdrop-blur-md mt-10",children:[y.jsx(JE,{size:48,className:"mx-auto mb-2 opacity-70"}),y.jsx("p",{className:"mb-4 font-medium",children:f}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("button",{onClick:()=>Se(!0),className:"bg-blue-500 text-white px-6 py-2 rounded-full text-sm font-bold transition flex items-center justify-center hover:bg-blue-600 shadow-lg",children:[y.jsx(au,{size:16,className:"mr-2"})," Standort freigeben"]}),y.jsxs("button",{onClick:()=>x(!0),className:"bg-white/20 hover:bg-white/30 px-6 py-2 rounded-full text-sm font-bold transition flex items-center justify-center",children:[y.jsx(ur,{size:16,className:"mr-2"})," Manuell suchen"]})]})]}):p&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`mb-2 drop-shadow-2xl filter transform hover:scale-105 transition duration-700 ease-in-out ${o?"animate-float":""}`,children:jM(me,k)}),y.jsxs("h1",{className:"text-8xl font-bold tracking-tighter drop-shadow-lg leading-none",children:[Math.round(p.current.temperature_2m),""]}),y.jsx("p",{className:"text-xl font-medium mt-2 opacity-90 drop-shadow-sm",children:th(me)}),y.jsxs("div",{className:`flex space-x-4 mt-2 text-sm opacity-90 font-medium ${o?"bg-white/10 backdrop-blur-md text-current":$?"bg-slate-800/10":"bg-black/20"} px-4 py-1 rounded-full backdrop-blur-sm`,children:[y.jsxs("span",{className:"flex items-center",children:[y.jsx("span",{className:"text-xs mr-1 opacity-70",children:"H:"})," ",Math.round(p.daily.temperature_2m_max[0]),""]}),y.jsx("span",{className:`w-px ${$&&!o?"bg-slate-800/30":"bg-white/30"} h-4`}),y.jsxs("span",{className:"flex items-center",children:[y.jsx("span",{className:"text-xs mr-1 opacity-70",children:"T:"})," ",Math.round(p.daily.temperature_2m_min[0]),""]})]}),y.jsxs("div",{className:"w-full mt-10 space-y-6",children:[te.map((fe,he)=>fe==="hourly"?y.jsx("div",{className:"animate-fade-in",children:ae(he)},"hourly"):fe==="daily"?y.jsx("div",{className:"animate-fade-in",children:Le(he)},"daily"):fe==="details"?y.jsx("div",{className:"animate-fade-in",children:Me(he)},"details"):null),y.jsx("div",{className:"animate-fade-in",children:oe()})]})]})})]})},qM=Sa.createContext({notifications:[],markAllRead:()=>{},clearAll:()=>{}});var Ki={},Gl={},Rf=function(t,e){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},Rf(t,e)};function Yb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rf(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var mu=function(){return mu=Object.assign||function(e){for(var i,r=1,o=arguments.length;r<o;r++){i=arguments[r];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},mu.apply(this,arguments)};function go(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i}function Xb(t,e,i,r){var o=arguments.length,l=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,i,r);else for(var f=t.length-1;f>=0;f--)(c=t[f])&&(l=(o<3?c(l):o>3?c(e,i,l):c(e,i))||l);return o>3&&l&&Object.defineProperty(e,i,l),l}function Wb(t,e){return function(i,r){e(i,r,t)}}function Qb(t,e,i,r,o,l){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var f=r.kind,g=f==="getter"?"get":f==="setter"?"set":"value",p=!e&&t?r.static?t:t.prototype:null,b=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),_,x=!1,S=i.length-1;S>=0;S--){var T={};for(var C in r)T[C]=C==="access"?{}:r[C];for(var C in r.access)T.access[C]=r.access[C];T.addInitializer=function(N){if(x)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(N||null))};var A=(0,i[S])(f==="accessor"?{get:b.get,set:b.set}:b[g],T);if(f==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(_=c(A.get))&&(b.get=_),(_=c(A.set))&&(b.set=_),(_=c(A.init))&&o.unshift(_)}else(_=c(A))&&(f==="field"?o.unshift(_):b[g]=_)}p&&Object.defineProperty(p,r.name,b),x=!0}function Zb(t,e,i){for(var r=arguments.length>2,o=0;o<e.length;o++)i=r?e[o].call(t,i):e[o].call(t);return r?i:void 0}function e_(t){return typeof t=="symbol"?t:"".concat(t)}function t_(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function n_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _e(t,e,i,r){function o(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function f(b){try{p(r.next(b))}catch(_){c(_)}}function g(b){try{p(r.throw(b))}catch(_){c(_)}}function p(b){b.done?l(b.value):o(b.value).then(f,g)}p((r=r.apply(t,e||[])).next())})}function i_(t,e){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(b){return g([p,b])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(i=0)),i;)try{if(r=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,o=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){i.label=p[1];break}if(p[0]===6&&i.label<l[1]){i.label=l[1],l=p;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(p);break}l[2]&&i.ops.pop(),i.trys.pop();continue}p=e.call(t,i)}catch(b){p=[6,b],o=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Du=Object.create?(function(t,e,i,r){r===void 0&&(r=i);var o=Object.getOwnPropertyDescriptor(e,i);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,o)}):(function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]});function s_(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Du(e,t,i)}function yu(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ph(t,e){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var r=i.call(t),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)l.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(c)throw c.error}}return l}function r_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ph(arguments[e]));return t}function o_(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<i;e++)for(var l=arguments[e],c=0,f=l.length;c<f;c++,o++)r[o]=l[c];return r}function a_(t,e,i){if(i||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}function uo(t){return this instanceof uo?(this.v=t,this):new uo(t)}function l_(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(T){return Promise.resolve(T).then(S,_)}}function f(S,T){r[S]&&(o[S]=function(C){return new Promise(function(A,N){l.push([S,C,A,N])>1||g(S,C)})},T&&(o[S]=T(o[S])))}function g(S,T){try{p(r[S](T))}catch(C){x(l[0][3],C)}}function p(S){S.value instanceof uo?Promise.resolve(S.value.v).then(b,_):x(l[0][2],S)}function b(S){g("next",S)}function _(S){g("throw",S)}function x(S,T){S(T),l.shift(),l.length&&g(l[0][0],l[0][1])}}function u_(t){var e,i;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,l){e[o]=t[o]?function(c){return(i=!i)?{value:uo(t[o](c)),done:!1}:l?l(c):c}:l}}function c_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof yu=="function"?yu(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(l){i[l]=t[l]&&function(c){return new Promise(function(f,g){c=t[l](c),o(f,g,c.done,c.value)})}}function o(l,c,f,g){Promise.resolve(g).then(function(p){l({value:p,done:f})},c)}}function d_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var GM=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Mf=function(t){return Mf=Object.getOwnPropertyNames||function(e){var i=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[i.length]=r);return i},Mf(t)};function f_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i=Mf(t),r=0;r<i.length;r++)i[r]!=="default"&&Du(e,t,i[r]);return GM(e,t),e}function h_(t){return t&&t.__esModule?t:{default:t}}function p_(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)}function g_(t,e,i,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}function m_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function y_(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:r,async:i})}else i&&t.stack.push({async:!0});return e}var FM=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function v_(t){function e(l){t.error=t.hasError?new FM(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var i,r=0;function o(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(o);if(i.dispose){var l=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(l).then(o,function(c){return e(c),o()})}else r|=1}catch(c){e(c)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function b_(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,r,o,l,c){return r?e?".jsx":".js":o&&(!l||!c)?i:o+l+"."+c.toLowerCase()+"js"}):t}const JM={__extends:Yb,__assign:mu,__rest:go,__decorate:Xb,__param:Wb,__esDecorate:Qb,__runInitializers:Zb,__propKey:e_,__setFunctionName:t_,__metadata:n_,__awaiter:_e,__generator:i_,__createBinding:Du,__exportStar:s_,__values:yu,__read:ph,__spread:r_,__spreadArrays:o_,__spreadArray:a_,__await:uo,__asyncGenerator:l_,__asyncDelegator:u_,__asyncValues:c_,__makeTemplateObject:d_,__importStar:f_,__importDefault:h_,__classPrivateFieldGet:p_,__classPrivateFieldSet:g_,__classPrivateFieldIn:m_,__addDisposableResource:y_,__disposeResources:v_,__rewriteRelativeImportExtension:b_},KM=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:y_,get __assign(){return mu},__asyncDelegator:u_,__asyncGenerator:l_,__asyncValues:c_,__await:uo,__awaiter:_e,__classPrivateFieldGet:p_,__classPrivateFieldIn:m_,__classPrivateFieldSet:g_,__createBinding:Du,__decorate:Xb,__disposeResources:v_,__esDecorate:Qb,__exportStar:s_,__extends:Yb,__generator:i_,__importDefault:h_,__importStar:f_,__makeTemplateObject:d_,__metadata:n_,__param:Wb,__propKey:e_,__read:ph,__rest:go,__rewriteRelativeImportExtension:b_,__runInitializers:Zb,__setFunctionName:t_,__spread:r_,__spreadArray:a_,__spreadArrays:o_,__values:yu,default:JM},Symbol.toStringTag,{value:"Module"})),YM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Uu=class extends Error{constructor(e,i="FunctionsError",r){super(e),this.name=i,this.context=r}},__=class extends Uu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},If=class extends Uu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Df=class extends Uu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var vu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vu||(vu={}));class XM{constructor(e,{headers:i={},customFetch:r,region:o=vu.Any}={}){this.url=e,this.headers=i,this.region=o,this.fetch=YM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _e(this,arguments,void 0,function*(i,r={}){var o;let l,c;try{const{headers:f,method:g,body:p,signal:b,timeout:_}=r;let x={},{region:S}=r;S||(S=this.region);const T=new URL(`${this.url}/${i}`);S&&S!=="any"&&(x["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let C;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",C=p):typeof p=="string"?(x["Content-Type"]="text/plain",C=p):typeof FormData<"u"&&p instanceof FormData?C=p:(x["Content-Type"]="application/json",C=JSON.stringify(p)):C=p;let A=b;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),b?(A=c.signal,b.addEventListener("abort",()=>c.abort())):A=c.signal);const N=yield this.fetch(T.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),f),body:C,signal:A}).catch(G=>{throw new __(G)}),U=N.headers.get("x-relay-error");if(U&&U==="true")throw new If(N);if(!N.ok)throw new Df(N);let M=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return M==="application/json"?V=yield N.json():M==="application/octet-stream"||M==="application/pdf"?V=yield N.blob():M==="text/event-stream"?V=N:M==="multipart/form-data"?V=yield N.formData():V=yield N.text(),{data:V,error:null,response:N}}catch(f){return{data:null,error:f,response:f instanceof Df||f instanceof If?f.context:void 0}}finally{l&&clearTimeout(l)}})}}const WM=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return vu},FunctionsClient:XM,FunctionsError:Uu,FunctionsFetchError:__,FunctionsHttpError:Df,FunctionsRelayError:If},Symbol.toStringTag,{value:"Module"})),x_=wa(WM);var ln={};const mo=wa(KM);var Fl={},Jl={},Kl={},Yl={},Xl={},Wl={},av;function w_(){if(av)return Wl;av=1,Object.defineProperty(Wl,"__esModule",{value:!0});class t extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return Wl.default=t,Wl}var lv;function S_(){if(lv)return Xl;lv=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=mo.__importDefault(w_());let i=class{constructor(o){var l,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,b,_,x;let S=null,T=null,C=null,A=g.status,N=g.statusText;if(g.ok){if(this.method!=="HEAD"){const G=await g.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?T=G:T=JSON.parse(G))}const M=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),V=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");M&&V&&V.length>1&&(C=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(S={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,C=null,A=406,N="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const M=await g.text();try{S=JSON.parse(M),Array.isArray(S)&&g.status===404&&(T=[],S=null,A=200,N="OK")}catch{g.status===404&&M===""?(A=204,N="No Content"):S={message:M}}if(S&&this.isMaybeSingle&&(!((x=S==null?void 0:S.details)===null||x===void 0)&&x.includes("0 rows"))&&(S=null,A=200,N="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:T,count:C,status:A,statusText:N}});return this.shouldThrowOnError||(f=f.catch(g=>{var p,b,_,x,S,T;let C="";const A=g==null?void 0:g.cause;if(A){const N=(p=A==null?void 0:A.message)!==null&&p!==void 0?p:"",U=(b=A==null?void 0:A.code)!==null&&b!==void 0?b:"";C=`${(_=g==null?void 0:g.name)!==null&&_!==void 0?_:"FetchError"}: ${g==null?void 0:g.message}`,C+=`

Caused by: ${(x=A==null?void 0:A.name)!==null&&x!==void 0?x:"Error"}: ${N}`,U&&(C+=` (${U})`),A!=null&&A.stack&&(C+=`
${A.stack}`)}else C=(S=g==null?void 0:g.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(T=g==null?void 0:g.name)!==null&&T!==void 0?T:"FetchError"}: ${g==null?void 0:g.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}};return Xl.default=i,Xl}var uv;function E_(){if(uv)return Yl;uv=1,Object.defineProperty(Yl,"__esModule",{value:!0});const e=mo.__importDefault(S_());let i=class extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",b=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${b?`${b},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:f=c}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var b;const _=[o?"analyze":null,l?"verbose":null,c?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),x=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return Yl.default=i,Yl}var cv;function gh(){if(cv)return Kl;cv=1,Object.defineProperty(Kl,"__esModule",{value:!0});const e=mo.__importDefault(E_()),i=new RegExp("[,()]");let r=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const f=Array.from(new Set(c)).map(g=>typeof g=="string"&&i.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:f,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const b=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${p}fts${b}.${c}`),this}match(l){return Object.entries(l).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(l,c,f){return this.url.searchParams.append(l,`not.${c}.${f}`),this}or(l,{foreignTable:c,referencedTable:f=c}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,c,f){return this.url.searchParams.append(l,`${c}.${f}`),this}};return Kl.default=r,Kl}var dv;function T_(){if(dv)return Jl;dv=1,Object.defineProperty(Jl,"__esModule",{value:!0});const e=mo.__importDefault(gh());let i=class{constructor(o,{headers:l={},schema:c,fetch:f}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=f}select(o,l){const{head:c=!1,count:f}=l??{},g=c?"HEAD":"GET";let p=!1;const b=(o??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",b),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(p.length>0){const b=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:f,defaultToNull:g=!0}={}){var p;const b="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(_.length>0){const x=[...new Set(_)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var c;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Jl.default=i,Jl}var fv;function QM(){if(fv)return Fl;fv=1,Object.defineProperty(Fl,"__esModule",{value:!0});const t=mo,e=t.__importDefault(T_()),i=t.__importDefault(gh());let r=class A_{constructor(l,{headers:c={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=f,this.fetch=g}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new A_(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:f=!1,get:g=!1,count:p}={}){var b;let _;const x=new URL(`${this.url}/rpc/${l}`);let S;f||g?(_=f?"HEAD":"GET",Object.entries(c).filter(([C,A])=>A!==void 0).map(([C,A])=>[C,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([C,A])=>{x.searchParams.append(C,A)})):(_="POST",S=c);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new i.default({method:_,url:x,headers:T,schema:this.schemaName,body:S,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};return Fl.default=r,Fl}var hv;function C_(){if(hv)return ln;hv=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const t=mo,e=t.__importDefault(QM());ln.PostgrestClient=e.default;const i=t.__importDefault(T_());ln.PostgrestQueryBuilder=i.default;const r=t.__importDefault(gh());ln.PostgrestFilterBuilder=r.default;const o=t.__importDefault(E_());ln.PostgrestTransformBuilder=o.default;const l=t.__importDefault(S_());ln.PostgrestBuilder=l.default;const c=t.__importDefault(w_());return ln.PostgrestError=c.default,ln.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},ln}class N_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const r=i.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const r=this.getWebSocketConstructor();return new r(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ZM="2.87.1",eI=`realtime-js/${ZM}`,k_="1.0.0",tI="2.0.0",pv=k_,Uf=1e4,nI=1e3,iI=100;var or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(or||(or={}));var zt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zt||(zt={}));var fi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fi||(fi={}));var Pf;(function(t){t.websocket="websocket"})(Pf||(Pf={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class sI{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,r;const o=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var i,r;const o=(r=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,r){var o,l;const c=e.topic,f=(o=e.ref)!==null&&o!==void 0?o:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+f.length+c.length+p.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let T=new DataView(S),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,g.length),T.setUint8(C++,f.length),T.setUint8(C++,c.length),T.setUint8(C++,p.length),T.setUint8(C++,_.length),T.setUint8(C++,i),Array.from(g,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(f,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(c,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(p,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(_,N=>T.setUint8(C++,N.charCodeAt(0)));var A=new Uint8Array(S.byteLength+r.byteLength);return A.set(new Uint8Array(S),0),A.set(new Uint8Array(r),S.byteLength),A.buffer}decode(e,i){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return i(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,l,c,f,g]=r;return i({join_ref:o,ref:l,topic:c,event:f,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),r=i.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,o)}}_decodeUserBroadcast(e,i,r){const o=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),f=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=r.decode(e.slice(g,g+o));g=g+o;const b=r.decode(e.slice(g,g+l));g=g+l;const _=r.decode(e.slice(g,g+c));g=g+c;const x=e.slice(g,e.byteLength),S=f===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,T={type:this.BROADCAST_EVENT,event:b,payload:S};return c>0&&(T.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>i.includes(r)))}}class R_{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(dt||(dt={}));const gv=(t,e,i={})=>{var r;const o=(r=i.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=rI(c,t,e,o),l),{}):{}},rI=(t,e,i,r)=>{const o=e.find(f=>f.name===t),l=o==null?void 0:o.type,c=i[t];return l&&!r.includes(l)?M_(l,c):Of(c)},M_=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return uI(e,i)}switch(t){case dt.bool:return oI(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return aI(e);case dt.json:case dt.jsonb:return lI(e);case dt.timestamp:return cI(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return Of(e);default:return Of(e)}},Of=t=>t,oI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uI=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,r=t[i];if(t[0]==="{"&&r==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>M_(e,f))}return t},cI=t=>typeof t=="string"?t.replace(" ","T"):t,I_=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class tf{constructor(e,i,r={},o=Uf){this.channel=e,this.event=i,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var r;return this._hasReceived(e)&&i((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lf||(Lf={}));let D_=class nu{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nu.syncState(this.state,o,l,c),this.pendingDiffs.forEach(g=>{this.state=nu.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=nu.syncDiff(this.state,o,l,c),f())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,r,o){const l=this.cloneDeep(e),c=this.transformState(i),f={},g={};return this.map(l,(p,b)=>{c[p]||(g[p]=b)}),this.map(c,(p,b)=>{const _=l[p];if(_){const x=b.map(A=>A.presence_ref),S=_.map(A=>A.presence_ref),T=b.filter(A=>S.indexOf(A.presence_ref)<0),C=_.filter(A=>x.indexOf(A.presence_ref)<0);T.length>0&&(f[p]=T),C.length>0&&(g[p]=C)}else f[p]=b}),this.syncDiff(l,{joins:f,leaves:g},r,o)}static syncDiff(e,i,r,o){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(f,g)=>{var p;const b=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),b.length>0){const _=e[f].map(S=>S.presence_ref),x=b.filter(S=>_.indexOf(S.presence_ref)<0);e[f].unshift(...x)}r(f,b,g)}),this.map(c,(f,g)=>{let p=e[f];if(!p)return;const b=g.map(_=>_.presence_ref);p=p.filter(_=>b.indexOf(_.presence_ref)<0),e[f]=p,o(f,p,g),p.length===0&&delete e[f]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(r=>i(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,r)=>{const o=e[r];return"metas"in o?i[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[r]=o,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zf||(zf={}));var ro;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ro||(ro={}));var Si;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Si||(Si={}));const dI=zt;let U_=class pa{constructor(e,i={config:{}},r){var o,l;if(this.topic=e,this.params=i,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new tf(this,fi.join,this.params,this.timeout),this.rejoinTimer=new R_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fi.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new D_(this),this.broadcastEndpointURL=I_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:c,presence:f,private:g}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[ro.PRESENCE]&&this.bindings[ro.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},x={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(Si.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(Si.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(Si.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,A=(T=C==null?void 0:C.length)!==null&&T!==void 0?T:0,N=[];for(let U=0;U<A;U++){const M=C[U],{filter:{event:V,schema:G,table:X,filter:O}}=M,se=S&&S[U];if(se&&se.event===V&&pa.isFilterValueEqual(se.schema,G)&&pa.isFilterValueEqual(se.table,X)&&pa.isFilterValueEqual(se.filter,O))N.push(Object.assign(Object.assign({},M),{id:se.id}));else{this.unsubscribe(),this.state=zt.errored,e==null||e(Si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Si.SUBSCRIBED);return}}).receive("error",S=>{this.state=zt.errored,e==null||e(Si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,r){return this.state===zt.joined&&e===ro.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,r)}async httpSend(e,i,r={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const p=await f.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,g;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new tf(this,fi.leave,{},e),r.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(e,i,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(l),c}_push(e,i,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new tf(this,e,i,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iI){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,r){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,r){var o,l;const c=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:b}=fi;if(r&&[f,g,p,b].indexOf(c)>=0&&r!==this._joinRef())return;let x=this._onMessage(c,i,r);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var T,C,A;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((A=(C=S.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(S=>S.callback(x,r)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var T,C,A,N,U,M;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const V=S.id,G=(T=S.filter)===null||T===void 0?void 0:T.event;return V&&((C=i.ids)===null||C===void 0?void 0:C.includes(V))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const V=(U=(N=S==null?void 0:S.filter)===null||N===void 0?void 0:N.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return V==="*"||V===((M=i==null?void 0:i.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof x=="object"&&"ids"in x){const T=x.data,{schema:C,table:A,commit_timestamp:N,type:U,errors:M}=T;x=Object.assign(Object.assign({},{schema:C,table:A,commit_timestamp:N,eventType:U,new:{},old:{},errors:M}),this._getPayloadRecords(T))}S.callback(x,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,r){const o=e.toLocaleLowerCase(),l={type:o,filter:i,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,i){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&pa.isEqual(o.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const r in e)if(e[r]!==i[r])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fi.close,{},e)}_onError(e){this._on(fi.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=gv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=gv(e.columns,e.old_record)),i}};const nf=()=>{},Ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fI=[1e3,2e3,5e3,1e4],hI=1e4,pI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let gI=class{constructor(e,i){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uf,this.transport=null,this.heartbeatIntervalMs=Ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nf,this.ref=0,this.reconnectTimer=null,this.vsn=pv,this.logger=nf,this.conn=null,this.sendBuffer=[],this.serializer=new sI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((r=i==null?void 0:i.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${Pf.websocket}`,this.httpEndpoint=I_(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,r){this.logger(e,i,r)}connectionState(){switch(this.conn&&this.conn.readyState){case or.connecting:return ar.Connecting;case or.open:return ar.Open;case or.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new U_(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:r,payload:o,ref:l}=e,c=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${i} ${r} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nI,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:l,ref:c}=i,f=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${r} ${o} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===or.open||this.conn.readyState===or.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fi.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${e}${r}${o}`}_workerObjectUrl(e){let i;if(e)i=e;else{const r=new Blob([pI],{type:"application/javascript"});i=URL.createObjectURL(r)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,r=!1;if(e)i=e,r=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const l={access_token:i,version:eI};i&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(fi.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(i)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new R_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,r,o,l,c,f,g,p,b,_,x,S;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Uf,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ql.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:nf,this.vsn=(g=e==null?void 0:e.vsn)!==null&&g!==void 0?g:pv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(T=>fI[T-1]||hI),this.vsn){case k_:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:((T,C)=>C(JSON.stringify(T))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((T,C)=>C(JSON.parse(T)));break;case tI:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const mI=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:dI,get REALTIME_LISTEN_TYPES(){return ro},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return zf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Lf},get REALTIME_SUBSCRIBE_STATES(){return Si},RealtimeChannel:U_,RealtimeClient:gI,RealtimePresence:D_,WebSocketFactory:N_},Symbol.toStringTag,{value:"Module"})),P_=wa(mI);class Aa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class O_ extends Aa{constructor(e,i,r){super(e),this.name="StorageApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bu extends Aa{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const mh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yI=()=>Response,jf=t=>{if(Array.isArray(t))return t.map(i=>jf(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,r])=>{const o=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=jf(r)}),e},vI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bI=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),sf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_I=(t,e,i)=>_e(void 0,void 0,void 0,function*(){const r=yield yI();t instanceof r&&!(i!=null&&i.noResolveJson)?t.json().then(o=>{const l=t.status||500,c=(o==null?void 0:o.statusCode)||l+"";e(new O_(sf(o),l,c))}).catch(o=>{e(new bu(sf(o),o))}):e(new bu(sf(t),t))}),xI=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(vI(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),i))};function Ca(t,e,i,r,o,l){return _e(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(i,xI(e,r,o,l)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>_I(g,f,r))})})}function _a(t,e,i,r){return _e(this,void 0,void 0,function*(){return Ca(t,"GET",e,i,r)})}function di(t,e,i,r,o){return _e(this,void 0,void 0,function*(){return Ca(t,"POST",e,r,o,i)})}function $f(t,e,i,r,o){return _e(this,void 0,void 0,function*(){return Ca(t,"PUT",e,r,o,i)})}function wI(t,e,i,r){return _e(this,void 0,void 0,function*(){return Ca(t,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),r)})}function yh(t,e,i,r,o){return _e(this,void 0,void 0,function*(){return Ca(t,"DELETE",e,r,o,i)})}class SI{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}}var L_;class EI{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[L_]="BlobDownloadBuilder",this.promise=null}asStream(){return new SI(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(vt(e))return{data:null,error:e};throw e}})}}L_=Symbol.toStringTag;const TI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AI{constructor(e,i={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=r,this.fetch=mh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,r,o){return _e(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},mv),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),g&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(g))):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),o!=null&&o.headers&&(f=Object.assign(Object.assign({},f),o.headers));const p=this._removeEmptyFolders(i),b=this._getFinalPath(p),_=yield(e=="PUT"?$f:di)(this.fetch,`${this.url}/object/${b}`,l,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(vt(l))return{data:null,error:l};throw l}})}upload(e,i,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,r)})}uploadToSignedUrl(e,i,r,o){return _e(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",i);try{let g;const p=Object.assign({upsert:mv.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType);const _=yield $f(this.fetch,f.toString(),g,{headers:b});return{data:{path:l,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(vt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);i!=null&&i.upsert&&(o["x-upsert"]="true");const l=yield di(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),c=new URL(this.url+l.url),f=c.searchParams.get("token");if(!f)throw new Aa("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}update(e,i,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,r)})}move(e,i,r){return _e(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}copy(e,i,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield di(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,i,r){return _e(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield di(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,i,r){return _e(this,void 0,void 0,function*(){try{const o=yield di(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}download(e,i){const o=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),c=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>_a(this.fetch,`${this.url}/${o}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new EI(g,this.shouldThrowOnError)}info(e){return _e(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const r=yield _a(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:jf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield wI(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r)&&r instanceof bu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,i){const r=this._getFinalPath(e),o=[],l=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&o.push(l);const f=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${p}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}list(e,i,r){return _e(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},TI),i),{prefix:e||""});return{data:yield di(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}listV2(e,i){return _e(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield di(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const z_="2.87.1",j_={"X-Client-Info":`storage-js/${z_}`};class CI{constructor(e,i={},r,o){this.shouldThrowOnError=!1;const l=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j_),i),this.fetch=mh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield _a(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}createBucket(e){return _e(this,arguments,void 0,function*(i,r={public:!1}){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(vt(o))return{data:null,error:o};throw o}})}updateBucket(e,i){return _e(this,void 0,void 0,function*(){try{return{data:yield $f(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var xa=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NI(t,e,i){const r=new URL(e,t);if(i)for(const[o,l]of Object.entries(i))l!==void 0&&r.searchParams.set(o,l);return r.toString()}async function kI(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function RI(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:r,query:o,body:l,headers:c}){const f=NI(t.baseUrl,r,o),g=await kI(t.auth),p=await e(f,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...g,...c},body:l?JSON.stringify(l):void 0}),b=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),x=_&&b?JSON.parse(b):b;if(!p.ok){const S=_?x:void 0,T=S==null?void 0:S.error;throw new xa((T==null?void 0:T.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:p.status,headers:p.headers,data:x}}}}function Zl(t){return t.join("")}var MI=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Zl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zl(t.namespace)}`}),!0}catch(e){if(e instanceof xa&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof xa&&i.status===409)return;throw i}}};function Jr(t){return t.join("")}var II=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof xa&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof xa&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},DI=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=RI({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new MI(this.client,e),this.tableOps=new II(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class $_{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j_),i),this.fetch=mh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const i=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&i.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&i.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&i.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&i.set("sortOrder",e.sortOrder),e!=null&&e.search&&i.set("search",e.search);const r=i.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield _a(this.fetch,o,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield yh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(vt(i))return{data:null,error:i};throw i}})}from(e){if(!bI(e))throw new Aa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new DI({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(i,{get(l,c){const f=l[c];return typeof f!="function"?f:(...g)=>_e(this,void 0,void 0,function*(){try{return{data:yield f.apply(l,g),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}})}})}}const vh={"X-Client-Info":`storage-js/${z_}`,"Content-Type":"application/json"};class bh extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function kn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class iu extends bh{constructor(e,i,r){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class H_ extends bh{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var Hf;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hf||(Hf={}));const Pu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UI=()=>Response,B_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},PI=t=>Array.from(new Float32Array(t)),OI=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},yv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LI=(t,e,i)=>_e(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const f=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";e(new iu(yv(c),o,f))}).catch(()=>{const c=o+"",f=l.statusText||`HTTP ${o} error`;e(new iu(f,o,c))});else{const c=o+"",f=l.statusText||`HTTP ${o} error`;e(new iu(f,o,c))}}else e(new H_(yv(t),t))}),zI=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(B_(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),i)):o};function jI(t,e,i,r,o,l){return _e(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(i,zI(e,r,o,l)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>LI(g,f,r))})})}function $n(t,e,i,r,o){return _e(this,void 0,void 0,function*(){return jI(t,"POST",e,r,o,i)})}class V_{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vh),i),this.fetch=Pu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}getIndex(e,i){return _e(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}listIndexes(e){return _e(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return _e(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}}class q_{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vh),i),this.fetch=Pu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}getVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}listVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield $n(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}queryVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}deleteVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $n(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}}class G_{constructor(e,i={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vh),i),this.fetch=Pu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}listBuckets(){return _e(this,arguments,void 0,function*(e={}){try{return{data:yield $n(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield $n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}}class F_ extends G_{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new J_(this.url,this.headers,e,this.fetch)}createBucket(e){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return i.createBucket.call(this,e)})}getBucket(e){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return i.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(i={}){return e.listBuckets.call(this,i)})}deleteBucket(e){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return i.deleteBucket.call(this,e)})}}class J_ extends V_{constructor(e,i,r,o){super(e,i,o),this.vectorBucketName=r}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new K_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class K_ extends q_{constructor(e,i,r,o,l){super(e,i,l),this.vectorBucketName=r,this.indexName=o}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $I extends CI{constructor(e,i={},r,o){super(e,i,r,o)}from(e){return new AI(this.url,this.headers,e,this.fetch)}get vectors(){return new F_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $_(this.url+"/iceberg",this.headers,this.fetch)}}const HI=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:$_,StorageApiError:O_,StorageClient:$I,StorageError:Aa,StorageUnknownError:bu,StorageVectorsApiError:iu,StorageVectorsClient:F_,StorageVectorsError:bh,get StorageVectorsErrorCode(){return Hf},StorageVectorsUnknownError:H_,VectorBucketApi:G_,VectorBucketScope:J_,VectorDataApi:q_,VectorIndexApi:V_,VectorIndexScope:K_,isPlainObject:B_,isStorageError:vt,isStorageVectorsError:kn,normalizeToFloat32:PI,resolveFetch:Pu,resolveResponse:UI,validateVectorDimension:OI},Symbol.toStringTag,{value:"Module"})),BI=wa(HI);var rf={},ca={},vv;function VI(){return vv||(vv=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.version=void 0,ca.version="2.87.1"),ca}var bv;function qI(){return bv||(bv=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=VI();let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(rf)),rf}var of={},_v;function GI(){return _v||(_v=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=o=>o?(...l)=>o(...l):(...l)=>fetch(...l);t.resolveFetch=e;const i=()=>Headers;t.resolveHeadersConstructor=i;const r=(o,l,c)=>{const f=(0,t.resolveFetch)(c),g=(0,t.resolveHeadersConstructor)();return async(p,b)=>{var _;const x=(_=await l())!==null&&_!==void 0?_:o;let S=new g(b==null?void 0:b.headers);return S.has("apikey")||S.set("apikey",o),S.has("Authorization")||S.set("Authorization",`Bearer ${x}`),f(p,Object.assign(Object.assign({},b),{headers:S}))}};t.fetchWithAuth=r})(of)),of}var Yi={},xv;function FI(){if(xv)return Yi;xv=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.isBrowser=void 0,Yi.uuid=t,Yi.ensureTrailingSlash=e,Yi.applySettingDefaults=r,Yi.validateSupabaseUrl=o;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,f=l=="x"?c:c&3|8;return f.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const i=()=>typeof window<"u";Yi.isBrowser=i;function r(l,c){var f,g;const{db:p,auth:b,realtime:_,global:x}=l,{db:S,auth:T,realtime:C,global:A}=c,N={db:Object.assign(Object.assign({},S),p),auth:Object.assign(Object.assign({},T),b),realtime:Object.assign(Object.assign({},C),_),storage:{},global:Object.assign(Object.assign(Object.assign({},A),x),{headers:Object.assign(Object.assign({},(f=A==null?void 0:A.headers)!==null&&f!==void 0?f:{}),(g=x==null?void 0:x.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return l.accessToken?N.accessToken=l.accessToken:delete N.accessToken,N}function o(l){const c=l==null?void 0:l.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Yi}var da={};const Y_="2.87.1",Qr=30*1e3,Bf=3,af=Bf*Qr,JI="http://localhost:9999",KI="supabase.auth.token",YI={"X-Client-Info":`gotrue-js/${Y_}`},Vf="X-Supabase-Api-Version",X_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WI=600*1e3;let co=class extends Error{constructor(e,i,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=r}};function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let W_=class extends co{constructor(e,i,r){super(e,i,r),this.name="AuthApiError",this.status=i,this.code=r}};function Q_(t){return Ee(t)&&t.name==="AuthApiError"}let Ns=class extends co{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}},ts=class extends co{constructor(e,i,r,o){super(e,r,o),this.name=i,this.status=r}},An=class extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Z_(t){return Ee(t)&&t.name==="AuthSessionMissingError"}let ir=class extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ga=class extends ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ma=class extends ts{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ex(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}let qf=class extends ts{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},_u=class extends ts{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}};function su(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}let Gf=class extends ts{constructor(e,i,r){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=r}};function QI(t){return Ee(t)&&t.name==="AuthWeakPasswordError"}let xu=class extends ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wv=` 	
\r=`.split(""),ZI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wv.length;e+=1)t[wv[e].charCodeAt(0)]=-2;for(let e=0;e<wu.length;e+=1)t[wu[e].charCodeAt(0)]=e;return t})();function Sv(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(wu[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;i(wu[r]),e.queuedBits-=6}}function tx(t,e,i){const r=ZI[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ev(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{n4(c,r,i)};for(let c=0;c<t.length;c+=1)tx(t.charCodeAt(c),o,l);return e.join("")}function e4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function t4(t,e){for(let i=0;i<t.length;i+=1){let r=t.charCodeAt(i);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}e4(r,e)}}function n4(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function oo(t){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)tx(t.charCodeAt(o),i,r);return new Uint8Array(e)}function i4(t){const e=[];return t4(t,i=>e.push(i)),new Uint8Array(e)}function lr(t){const e=[],i={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Sv(o,i,r)),Sv(null,i,r),e.join("")}function s4(t){return Math.round(Date.now()/1e3)+t}function r4(){return Symbol("auth-callback")}const tn=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},nx=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function o4(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return i.searchParams.forEach((r,o)=>{e[o]=r}),e}const ix=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),a4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zr=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},tr=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},en=async(t,e)=>{await t.removeItem(e)};class Ou{constructor(){this.promise=new Ou.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Ou.promiseConstructor=Promise;function lf(t){const e=t.split(".");if(e.length!==3)throw new xu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!XI.test(e[r]))throw new xu("JWT not in base64url format");return{header:JSON.parse(Ev(e[0])),payload:JSON.parse(Ev(e[1])),signature:oo(e[2]),raw:{header:e[0],payload:e[1]}}}async function l4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function u4(t,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function c4(t){return("0"+t.toString(16)).substr(-2)}function d4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=i.length;let o="";for(let l=0;l<56;l++)o+=i.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,c4).join("")}async function f4(t){const i=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function h4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await f4(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(t,e,i=!1){const r=d4();let o=r;i&&(o+="/PASSWORD_RECOVERY"),await Zr(t,`${e}-code-verifier`,o);const l=await h4(r);return[l,r===l?"plain":"s256"]}const p4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g4(t){const e=t.headers.get(Vf);if(!e||!e.match(p4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function m4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function y4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(t){if(!v4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uf(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b4(t,e){return new Proxy(t,{get:(i,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,r,o)}})}function Tv(t){return JSON.parse(JSON.stringify(t))}const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_4=[502,503,504];async function Av(t){var e;if(!a4(t))throw new _u(sr(t),0);if(_4.includes(t.status))throw new _u(sr(t),t.status);let i;try{i=await t.json()}catch(l){throw new Ns(sr(l),l)}let r;const o=g4(t);if(o&&o.getTime()>=X_["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?r=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(r=i.error_code),r){if(r==="weak_password")throw new Gf(sr(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new An}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Gf(sr(i),t.status,i.weak_password.reasons);throw new W_(sr(i),t.status||500,r)}const x4=(t,e,i,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),i))};async function Re(t,e,i,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[Vf]||(l[Vf]=X_["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await w4(t,e,i+f,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function w4(t,e,i,r,o,l){const c=x4(e,r,o,l);let f;try{f=await t(i,Object.assign({},c))}catch(g){throw console.error(g),new _u(sr(g),0)}if(f.ok||await Av(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(g){await Av(g)}}function ci(t){var e;let i=null;T4(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=s4(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:r},error:null}}function Cv(t){const e=ci(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,r)=>i&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ks(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function S4(t){return{data:t,error:null}}function E4(t){const{action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l}=t,c=go(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:i,hashed_token:r,redirect_to:o,verification_type:l},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function Nv(t){return t}function T4(t){return t.access_token&&t.refresh_token&&t.expires_in}const ru=["global","local","others"];let _h=class{constructor({url:e="",headers:i={},fetch:r}){this.url=e,this.headers=i,this.fetch=ix(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=ru[0]){if(ru.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ru.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,i={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ks})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:i}=e,r=go(e,["options"]),o=Object.assign(Object.assign({},r),i);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:E4,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Ee(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ks})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,r,o,l,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},b=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Nv});if(b.error)throw b.error;const _=await b.json(),x=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(g=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(T.split(";")[1].split("=")[1]);p[`${A}Page`]=C}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Yr(e);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ks})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){Yr(e);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:ks})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,i=!1){Yr(e);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:ks})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yr(e.userId);try{const{data:i,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:r}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async _deleteFactor(e){Yr(e.userId),Yr(e.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,r,o,l,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},b=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Nv});if(b.error)throw b.error;const _=await b.json(),x=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(g=(f=b.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(T.split(";")[1].split("=")[1]);p[`${A}Page`]=C}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Ee(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ee(i))return{data:null,error:i};throw i}}};function kv(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const rr={debug:!!(globalThis&&nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let sx=class extends xh{};class A4 extends xh{}async function rx(t,e,i){rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await i()}finally{rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const Rv={};async function C4(t,e,i){var r;const o=(r=Rv[t])!==null&&r!==void 0?r:Promise.resolve(),l=Promise.race([o.catch(()=>null),e>=0?new Promise((c,f)=>{setTimeout(()=>{f(new A4(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await i());return Rv[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await o,null;throw c}),await l}function N4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ox(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function k4(t){return parseInt(t,16)}function R4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function M4(t){var e;const{chainId:i,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:g,resources:p,scheme:b,uri:_,version:x}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=ox(t.address),T=b?`${b}://${r}`:r,C=t.statement?`${t.statement}
`:"",A=`${T} wants you to sign in with your Ethereum account:
${S}

${C}`;let N=`URI: ${_}
Version: ${x}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),f&&(N+=`
Not Before: ${f.toISOString()}`),g&&(N+=`
Request ID: ${g}`),p){let U=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);U+=`
- ${M}`}N+=U}return`${A}
${N}`}class jt extends Error{constructor({message:e,code:i,cause:r,name:o}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class Su extends jt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function I4({error:t,options:e}){var i,r,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ax(c)){if(l.rp.id!==c)return new jt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function D4({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new jt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(ax(r)){if(i.rpId!==r)return new jt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class U4{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const P4=new U4;function O4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:r}=t,o=go(t,["challenge","user","excludeCredentials"]),l=oo(e).buffer,c=Object.assign(Object.assign({},i),{id:oo(i.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:c});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];f.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:oo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function L4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,r=go(t,["challenge","allowCredentials"]),o=oo(e).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:oo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function z4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:lr(new Uint8Array(t.response.attestationObject)),clientDataJSON:lr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function j4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:lr(new Uint8Array(o.authenticatorData)),clientDataJSON:lr(new Uint8Array(o.clientDataJSON)),signature:lr(new Uint8Array(o.signature)),userHandle:o.userHandle?lr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ax(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mv(){var t,e;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Su("Browser returned unexpected credential type",e)}:{data:null,error:new Su("Empty credential response",e)}}catch(e){return{data:null,error:I4({error:e,options:t})}}}async function H4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Su("Browser returned unexpected credential type",e)}:{data:null,error:new Su("Empty credential response",e)}}catch(e){return{data:null,error:D4({error:e,options:t})}}}const B4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Eu(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(i(c))r[l]=c;else if(e(c)){const f=r[l];e(f)?r[l]=Eu(f,c):r[l]=Eu(c)}else r[l]=c}return r}function q4(t,e){return Eu(B4,t,e||{})}function G4(t,e){return Eu(V4,t,e||{})}class F4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:r,signal:o},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!c)return{data:null,error:f};const g=o??P4.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=q4(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:b,error:_}=await $4({publicKey:p,signal:g});return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const p=G4(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:b,error:_}=await H4(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:g}));return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(c){return Ee(c)?{data:null,error:c}:{data:null,error:new Ns("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:i,webauthn:r}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new co("rpId is required for WebAuthn authentication")};try{if(!Mv())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:r},signal:o},{request:l});if(!c)return{data:null,error:f};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:r,credential_response:g.credential_response}})}catch(c){return Ee(c)?{data:null,error:c}:{data:null,error:new Ns("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!i)return{data:null,error:new co("rpId is required for WebAuthn registration")};try{if(!Mv())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:f};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:r},signal:o},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return Ee(c)?{data:null,error:c}:{data:null,error:new Ns("Unexpected error in register",c)}}}}N4();const J4={url:JI,storageKey:KI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Iv(t,e,i){return await i()}const Xr={};let wh=class Ff{get jwks(){var e,i;return(i=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:e})}constructor(e){var i,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},J4),e);if(this.storageKey=l.storageKey,this.instanceID=(i=Ff.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Ff.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&tn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new _h({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ix(l.fetch),this.lock=l.lock||Iv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rx:this.lock=Iv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new F4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=kv(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Y_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},r="none";if(tn()&&(i=o4(window.location.href),this._isImplicitGrantCallback(i)?r="implicit":await this._isPKCECallback(i)&&(r="pkce")),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(i,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ex(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Ee(i)?this._returnResult({error:i}):this._returnResult({error:new Ns("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,r,o;try{const l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:ci}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,r,o;try{let l;if("email"in e){const{email:b,password:_,options:x}=e;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await Kr(this.storage,this.storageKey)),l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:b,password:_,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:T},xform:ci})}else if("phone"in e){const{phone:b,password:_,options:x}=e;l=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ci})}else throw new ga("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await en(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:f}=e;i=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Cv})}else if("phone"in e){const{phone:l,password:c,options:f}=e;i=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Cv})}else throw new ga("You must provide either an email or phone number and a password");const{data:r,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const l=new ir;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,r,o,l,c,f,g,p,b,_,x;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:C,wallet:A,statement:N,options:U}=e;let M;if(tn())if(typeof A=="object")M=A;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")M=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=A}const V=new URL((i=U==null?void 0:U.url)!==null&&i!==void 0?i:window.location.href),G=await M.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=ox(G[0]);let O=(r=U==null?void 0:U.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const te=await M.request({method:"eth_chainId"});O=k4(te)}const se={domain:V.host,address:X,statement:N,uri:V.href,version:"1",chainId:O,nonce:(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=U==null?void 0:U.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=U==null?void 0:U.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=M4(se),T=await M.request({method:"personal_sign",params:[R4(S),X]})}try{const{data:C,error:A}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ci});if(A)throw A;if(!C||!C.session||!C.user){const N=new ir;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:A})}catch(C){if(Ee(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var i,r,o,l,c,f,g,p,b,_,x,S;let T,C;if("message"in e)T=e.message,C=e.signature;else{const{chain:A,wallet:N,statement:U,options:M}=e;let V;if(tn())if(typeof N=="object")V=N;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))V=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=N}const G=new URL((i=M==null?void 0:M.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in V&&V.signIn){const X=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),U?{statement:U}:null));let O;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")O=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)O=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)T=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),C=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${G.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(o=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=M==null?void 0:M.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((f=M==null?void 0:M.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(b=M==null?void 0:M.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const X=await V.signMessage(new TextEncoder().encode(T),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=X}}try{const{data:A,error:N}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:lr(C)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ci});if(N)throw N;if(!A||!A.session||!A.user){const U=new ir;return this._returnResult({data:{user:null,session:null},error:U})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:N})}catch(A){if(Ee(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const i=await tr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/");try{const{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ci});if(await en(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new ir;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:r,token:o,access_token:l,nonce:c}=e,f=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ci}),{data:g,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const b=new ir;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,r,o,l,c;try{if("email"in e){const{email:f,options:g}=e;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Kr(this.storage,this.storageKey));const{error:_}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:b}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b})}throw new ga("You must provide either an email or phone number.")}catch(f){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var i,r;try{let o,l;"options"in e&&(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:f}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ci});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(o){if(Ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var i,r,o,l,c;try{let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Kr(this.storage,this.storageKey));const p=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:S4});return!((l=p.data)===null||l===void 0)&&l.url&&tn()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;if(r)throw r;if(!i)throw new An;const{error:o}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Ee(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:c}=await Re(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:c,error:f}=await Re(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new ga("You must provide either an email or phone number and a type")}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<af:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await tr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=uf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=b4(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ks}):await this._useSession(async i=>{var r,o,l;const{data:c,error:f}=i;if(f)throw f;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new An}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:ks})})}catch(i){if(Ee(i))return Z_(i)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new An;const c=o.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await Kr(this.storage,this.storageKey));const{data:p,error:b}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:c.access_token,xform:ks});if(b)throw b;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new An;const i=Date.now()/1e3;let r=i,o=!0,l=null;const{payload:c}=lf(e.access_token);if(c.exp&&(r=c.exp,o=r<=i),o){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(Ee(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var r;if(!e){const{data:c,error:f}=i;if(f)throw f;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new An;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Ee(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!tn())throw new ma("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ma(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new qf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qf("No code detected.");const{data:U,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:f,expires_at:g,token_type:p}=e;if(!l||!f||!c||!p)throw new ma("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(f);let x=b+_;g&&(x=parseInt(g));const S=x-b;S*1e3<=Qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const T=x-_;b-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,x,b):b-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,x,b);const{data:C,error:A}=await this._getUser(l);if(A)throw A;const N={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:x,refresh_token:c,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(r){if(Ee(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({error:l});const c=(r=o.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:f}=await this.admin.signOut(c,e);if(f&&!(Q_(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=r4(),r={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async i=>{var r,o;try{const{data:{session:l},error:c}=i;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Kr(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:r,error:o}=await this._useSession(async l=>{var c,f,g,p,b;const{data:_,error:x}=l;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return tn()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ee(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var r;try{const{error:o,data:{session:l}}=i;if(o)throw o;const{options:c,provider:f,token:g,access_token:p,nonce:b}=e,_=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ci}),{data:x,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ir}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(o){if(await en(this.storage,`${this.storageKey}-code-verifier`),Ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)throw c;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const r=Date.now();return await u4(async o=>(o>0&&await l4(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ci})),(o,l)=>{const c=200*Math.pow(2,o);return l&&su(l)&&Date.now()+c-r<Qr})}catch(r){if(this._debug(i,"error",r),Ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",r),tn()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,i;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await tr(this.storage,this.storageKey);if(o&&this.userStorage){let c=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Zr(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:uf()}else if(o&&!o.user&&!o.user){const c=await tr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await en(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,o)):o.user=uf()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const l=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<af;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${af}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),su(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var i,r;if(!e)throw new An;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ou;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new An;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),Ee(l)){const c={data:null,error:l};return su(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,i,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await en(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),r=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&i.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const l=Tv(o);await Zr(this.storage,this.storageKey,l)}else{const o=Tv(i);await Zr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qr}ms, refresh threshold is ${Bf} ticks`),o<=Bf&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,r){const o=[`provider=${encodeURIComponent(i)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await Kr(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;return l?this._returnResult({data:null,error:l}):await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var r,o;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?z4(e.webauthn.credential_response):j4(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:g}))})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;const{data:o,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:O4(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:L4(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=lf(r.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((i=(e=r.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new An})})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new An});const c=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&tn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,i){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new An});const c=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&tn()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:r}=e;return r?this._returnResult({data:null,error:r}):i?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new An})})}catch(e){if(Ee(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;return o?this._returnResult({data:null,error:o}):r?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new An})})}catch(i){if(Ee(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let r=i.keys.find(f=>f.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+WI>o)return r;const{data:l,error:c}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,r=l.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,i={}){try{let r=e;if(!r){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});r=S.session.access_token}const{header:o,payload:l,signature:c,raw:{header:f,payload:g}}=lf(r);i!=null&&i.allowExpired||m4(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:l,header:o,signature:c},error:null}}const b=y4(o.alg),_=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,c,i4(`${f}.${g}`)))throw new xu("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(r){if(Ee(r))return this._returnResult({data:null,error:r});throw r}}};wh.nextInstanceID={};const K4=_h,Y4=wh,X4=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:K4,AuthApiError:W_,AuthClient:Y4,AuthError:co,AuthImplicitGrantRedirectError:ma,AuthInvalidCredentialsError:ga,AuthInvalidJwtError:xu,AuthInvalidTokenResponseError:ir,AuthPKCEGrantCodeExchangeError:qf,AuthRetryableFetchError:_u,AuthSessionMissingError:An,AuthUnknownError:Ns,AuthWeakPasswordError:Gf,CustomAuthError:ts,GoTrueAdminApi:_h,GoTrueClient:wh,NavigatorLockAcquireTimeoutError:sx,SIGN_OUT_SCOPES:ru,isAuthApiError:Q_,isAuthError:Ee,isAuthImplicitGrantRedirectError:ex,isAuthRetryableFetchError:su,isAuthSessionMissingError:Z_,isAuthWeakPasswordError:QI,lockInternals:rr,navigatorLock:rx,processLock:C4},Symbol.toStringTag,{value:"Module"})),lx=wa(X4);var Dv;function W4(){if(Dv)return da;Dv=1,Object.defineProperty(da,"__esModule",{value:!0}),da.SupabaseAuthClient=void 0;const t=lx;let e=class extends t.AuthClient{constructor(r){super(r)}};return da.SupabaseAuthClient=e,da}var Uv;function Pv(){if(Uv)return Gl;Uv=1,Object.defineProperty(Gl,"__esModule",{value:!0});const t=x_,e=C_(),i=P_,r=BI,o=qI(),l=GI(),c=FI(),f=W4();class g{constructor(b,_,x){var S,T,C;this.supabaseUrl=b,this.supabaseKey=_;const A=(0,c.validateSupabaseUrl)(b);if(!_)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",A),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",A),this.storageUrl=new URL("storage/v1",A),this.functionsUrl=new URL("functions/v1",A);const N=`sb-${A.hostname.split(".")[0]}-auth-token`,U={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:N}),global:o.DEFAULT_GLOBAL_OPTIONS},M=(0,c.applySettingDefaults)(x??{},U);this.storageKey=(S=M.auth.storageKey)!==null&&S!==void 0?S:"",this.headers=(T=M.global.headers)!==null&&T!==void 0?T:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(V,G)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(G)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((C=M.auth)!==null&&C!==void 0?C:{},this.headers,M.global.fetch),this.fetch=(0,l.fetchWithAuth)(_,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(V=>this.realtime.setAuth(V)).catch(V=>console.warn("Failed to set initial Realtime auth token:",V)),this.rest=new e.PostgrestClient(new URL("rest/v1",A).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,x==null?void 0:x.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(b){return this.rest.from(b)}schema(b){return this.rest.schema(b)}rpc(b,_={},x={head:!1,get:!1,count:void 0}){return this.rest.rpc(b,_,x)}channel(b,_={config:{}}){return this.realtime.channel(b,_)}getChannels(){return this.realtime.getChannels()}removeChannel(b){return this.realtime.removeChannel(b)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var b,_;if(this.accessToken)return await this.accessToken();const{data:x}=await this.auth.getSession();return(_=(b=x.session)===null||b===void 0?void 0:b.access_token)!==null&&_!==void 0?_:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:b,persistSession:_,detectSessionInUrl:x,storage:S,userStorage:T,storageKey:C,flowType:A,lock:N,debug:U,throwOnError:M},V,G){const X={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},X),V),storageKey:C,autoRefreshToken:b,persistSession:_,detectSessionInUrl:x,storage:S,userStorage:T,flowType:A,lock:N,debug:U,throwOnError:M,fetch:G,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(b){return new i.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},b),{params:Object.assign({apikey:this.supabaseKey},b==null?void 0:b.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_,x)=>{this._handleTokenChanged(_,"CLIENT",x==null?void 0:x.access_token)})}_handleTokenChanged(b,_,x){(b==="TOKEN_REFRESHED"||b==="SIGNED_IN")&&this.changedAccessToken!==x?(this.changedAccessToken=x,this.realtime.setAuth(x)):b==="SIGNED_OUT"&&(this.realtime.setAuth(),_=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Gl.default=g,Gl}var Ov;function Q4(){return Ov||(Ov=1,(function(t){var e=Ki&&Ki.__createBinding||(Object.create?(function(b,_,x,S){S===void 0&&(S=x);var T=Object.getOwnPropertyDescriptor(_,x);(!T||("get"in T?!_.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(b,S,T)}):(function(b,_,x,S){S===void 0&&(S=x),b[S]=_[x]})),i=Ki&&Ki.__exportStar||function(b,_){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(_,x)&&e(_,b,x)},r=Ki&&Ki.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const o=r(Pv());i(lx,t);var l=C_();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=x_;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),i(P_,t);var f=Pv();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(f).default}});const g=(b,_,x)=>new o.default(b,_,x);t.createClient=g;function p(){if(typeof window<"u"||typeof process>"u")return!1;const b=process.version;if(b==null)return!1;const _=b.match(/^v(\d+)\./);return _?parseInt(_[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ki)),Ki}var ux=Q4();const cx=Jf(ux),Z4=gS({__proto__:null,default:cx},[ux]),{PostgrestError:$D,FunctionsHttpError:HD,FunctionsFetchError:BD,FunctionsRelayError:VD,FunctionsError:qD,FunctionRegion:GD,SupabaseClient:FD,createClient:eD,GoTrueAdminApi:JD,GoTrueClient:KD,AuthAdminApi:YD,AuthClient:XD,navigatorLock:WD,NavigatorLockAcquireTimeoutError:QD,lockInternals:ZD,processLock:eU,SIGN_OUT_SCOPES:tU,AuthError:nU,AuthApiError:iU,AuthUnknownError:sU,CustomAuthError:rU,AuthSessionMissingError:oU,AuthInvalidTokenResponseError:aU,AuthInvalidCredentialsError:lU,AuthImplicitGrantRedirectError:uU,AuthPKCEGrantCodeExchangeError:cU,AuthRetryableFetchError:dU,AuthWeakPasswordError:fU,AuthInvalidJwtError:hU,isAuthError:pU,isAuthApiError:gU,isAuthSessionMissingError:mU,isAuthImplicitGrantRedirectError:yU,isAuthRetryableFetchError:vU,isAuthWeakPasswordError:bU,RealtimePresence:_U,RealtimeChannel:xU,RealtimeClient:wU,REALTIME_LISTEN_TYPES:SU,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:EU,REALTIME_PRESENCE_LISTEN_EVENTS:TU,REALTIME_SUBSCRIBE_STATES:AU,REALTIME_CHANNEL_STATES:CU}=cx||Z4,tD=[{id:"admin_user",name:"Administrator",avatar:"https://ui-avatars.com/api/?name=Admin&background=000&color=fff",color:"bg-gray-800 text-white",role:"admin",password:"admin"}],nD=[],iD=[],sD=[],rD=[],oD="https://hjkmfodzhradtkeiyele.supabase.co",aD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhqa21mb2R6aHJhZHRrZWl5ZWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0ODIwNjEsImV4cCI6MjA2ODA1ODA2MX0.2cfezsLcT6x3KI9VqzrHntP80O-cy0JQUb7UK3Mnai8";let Cn=null;try{Cn=eD(oD,aD,{auth:{persistSession:!1},global:{headers:{"x-my-custom-header":"familienhub"}}}),console.log(" Connected to Supabase")}catch(t){console.error("Supabase init failed:",t)}class dx{constructor(e,i){this.key=e,this.defaultVal=i}async delay(e=50){return new Promise(i=>setTimeout(i,e))}getStored(){try{const e=localStorage.getItem(this.key);return e?JSON.parse(e):this.defaultVal}catch{return this.defaultVal}}setStored(e){try{localStorage.setItem(this.key,JSON.stringify(e))}catch(i){console.error("Storage full or error",i)}}async getAll(){return await this.delay(),this.getStored()}async add(e){await this.delay();const i=this.getStored();if(!i.find(r=>r.id===e.id)){const r=[...i,e];return this.setStored(r),r}return i}async update(e,i){await this.delay();const o=this.getStored().map(l=>l.id===e?{...l,...i}:l);return this.setStored(o),o}async delete(e){await this.delay();const r=this.getStored().filter(o=>o.id!==e);return this.setStored(r),r}async setAll(e){return await this.delay(),this.setStored(e),e}}class lD{constructor(e,i,r){this.table=e,this.localFallback=new dx(i,r)}sanitize(e){const i={...e};return this.table==="news"&&"readBy"in i&&delete i.readBy,i}async getAll(){if(Cn)try{const{data:e,error:i}=await Cn.from(this.table).select("*");if(!i&&e)return await this.localFallback.setAll(e),e;i&&console.warn(`[Supabase] Load warning (${this.table}): ${i.message}. Using fallback.`)}catch(e){console.warn(`[Supabase] Network error (${this.table}). Using fallback.`,e)}return this.localFallback.getAll()}async add(e){if(await this.localFallback.add(e),Cn)try{const i=this.sanitize(e),{error:r}=await Cn.from(this.table).insert(i);r&&console.error(`[Supabase] Add sync error (${this.table}):`,r.message)}catch(i){console.error(`[Supabase] Add network error (${this.table}):`,i)}return this.localFallback.getAll()}async update(e,i){if(await this.localFallback.update(e,i),Cn)try{const r=this.sanitize(i);if(Object.keys(r).length>0){const{error:o}=await Cn.from(this.table).update(r).eq("id",e);o&&console.error(`[Supabase] Update sync error (${this.table}):`,o.message)}}catch(r){console.error(`[Supabase] Update network error (${this.table}):`,r)}return this.localFallback.getAll()}async delete(e){if(await this.localFallback.delete(e),Cn)try{const{error:i}=await Cn.from(this.table).delete().eq("id",e);i&&console.error(`[Supabase] Delete sync error (${this.table}):`,i.message)}catch(i){console.error(`[Supabase] Delete network error (${this.table}):`,i)}return this.localFallback.getAll()}async setAll(e){if(await this.localFallback.setAll(e),Cn)try{if(e.length===0){const{error:i}=await Cn.from(this.table).delete().neq("id","0");i?console.error(`[Supabase] Clear error (${this.table}):`,i.message):console.log(`[Supabase] Cleared table ${this.table}`)}else{const i=e.map(l=>l.id).filter(l=>l);if(i.length>0){const l=`(${i.map(f=>`"${f}"`).join(",")})`,{error:c}=await Cn.from(this.table).delete().filter("id","not.in",l);c&&console.warn(`[Supabase] Bulk delete failed (${this.table}):`,c.message)}const r=e.map(l=>this.sanitize(l)),{error:o}=await Cn.from(this.table).upsert(r);o&&console.error(`[Supabase] Sync/Upsert error (${this.table}):`,o.message)}}catch(i){console.error("[Supabase] setAll exception",i)}return this.localFallback.getAll()}}const uD={fh_family:"family",fh_events:"events",fh_news:"news",fh_polls:"polls",fh_shopping:"shopping",fh_household:"household_tasks",fh_personal:"personal_tasks",fh_mealPlan:"meal_plans",fh_mealRequests:"meal_requests",fh_recipes:"recipes",fh_weather_favs:"weather_favs",fh_feedback:"feedback",fh_notifications:"notifications"},jn=(t,e)=>{if(Cn){const i=uD[t];if(i)return new lD(i,t,e)}return new dx(t,e)},Ne={family:jn("fh_family",tD),events:jn("fh_events",nD),news:jn("fh_news",rD),polls:jn("fh_polls",[]),shopping:jn("fh_shopping",iD),householdTasks:jn("fh_household",sD),personalTasks:jn("fh_personal",[]),mealPlan:jn("fh_mealPlan",[]),mealRequests:jn("fh_mealRequests",[]),recipes:jn("fh_recipes",[]),weatherFavorites:jn("fh_weather_favs",[]),feedback:jn("fh_feedback",[]),notifications:jn("fh_notifications",[])};var Lv;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(Lv||(Lv={}));const Cs=Ta("LocalNotifications",{web:()=>hh(()=>import("./web-CE7QMMsI.js"),[]).then(t=>new t.LocalNotificationsWeb)}),cf=Ta("App",{web:()=>hh(()=>import("./web-DPzTDMJL.js"),[]).then(t=>new t.AppWeb)}),df=(t,e)=>{const[i,r]=H.useState(()=>{try{const o=localStorage.getItem(t);return o!==null?JSON.parse(o):e}catch{return e}});return H.useEffect(()=>{localStorage.setItem(t,JSON.stringify(i))},[t,i]),[i,r]},zv=t=>{let e=0;for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);e=(e<<5)-e+r,e=e&e}return Math.abs(e)},cD=3e4,dD=()=>{const t=Array.from({length:50}).map((e,i)=>({id:i,left:Math.random()*100,delay:Math.random()*5,duration:Math.random()*10+10,size:Math.random()*12+8}));return y.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:t.map(e=>y.jsx("div",{className:"absolute text-white/70 animate-rain will-change-transform",style:{left:`${e.left}%`,top:"-20px",fontSize:`${e.size}px`,animationDuration:`${e.duration}s`,animationDelay:`${e.delay}s`},children:e.id%2===0?"":""},e.id))})},fD=Sa.memo(()=>y.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-[-1] transform-gpu",children:[y.jsx("div",{className:"absolute top-0 left-[-20%] w-[70vw] h-[70vw] bg-purple-400 dark:bg-purple-900 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-[80px] opacity-40 animate-blob will-change-transform"}),y.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[70vw] h-[70vw] bg-cyan-300 dark:bg-indigo-900 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-[80px] opacity-40 animate-blob animation-delay-2000 will-change-transform"}),y.jsx("div",{className:"absolute bottom-[-20%] left-[20%] w-[70vw] h-[70vw] bg-pink-300 dark:bg-blue-900 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-[80px] opacity-40 animate-blob animation-delay-4000 will-change-transform"})]})),hD=Sa.memo(()=>y.jsx("div",{className:"liquid-lens-scanner will-change-transform"})),pD=()=>{const[t,e]=H.useState(!0),[i,r]=H.useState([]),[o,l]=H.useState([]),[c,f]=H.useState([]),[g,p]=H.useState([]),[b,_]=H.useState([]),[x,S]=H.useState([]),[T,C]=H.useState([]),[A,N]=H.useState([]),[U,M]=H.useState([]),[V,G]=H.useState([]),[X,O]=H.useState([]),[se,te]=H.useState([]),[ye,ve]=H.useState([]),[Te,Ae]=df("fh_darkmode",!1),[Se,Xe]=df("fh_liquidglass",!1),[L,ne]=df("fh_christmas",!1),pe="de",[ce,me]=H.useState(null),[k,$]=H.useState(Ye.DASHBOARD),[re,Y]=H.useState(Ye.DASHBOARD),[ie,J]=H.useState(null),ae=H.useRef(0);H.useRef(!1);const[Le,oe]=H.useState("select"),[Me,be]=H.useState(null),[Ue,Je]=H.useState(""),[fe,he]=H.useState(""),[$e,qe]=H.useState(!1),[rt,Ct]=H.useState(""),[Nt,mn]=H.useState(0),[Yt,Rn]=H.useState(!1),[bt,mi]=H.useState(!1),[Mn,yn]=H.useState(""),[qt,ti]=H.useState("parent"),[ni,ii]=H.useState(!1),[Ti,vn]=H.useState(!1),_t=H.useRef(Date.now()),$t=H.useRef(null),St=H.useCallback(I=>{const F=I.target;F.closest("nav")||F.closest("input")||F.closest("textarea")||F.closest(".no-swipe")||F.tagName==="BUTTON"||I.touches[0].clientX<20||I.touches[0].clientX>window.innerWidth-20||($t.current={x:I.touches[0].clientX,y:I.touches[0].clientY})},[]),Ai=H.useCallback(I=>{if(!$t.current)return;const F={x:I.changedTouches[0].clientX,y:I.changedTouches[0].clientY},ee=$t.current.x-F.x,le=$t.current.y-F.y;if($t.current=null,Math.abs(ee)>80&&Math.abs(le)<50){const nt=[Ye.DASHBOARD,Ye.WEATHER,Ye.CALENDAR,Ye.MEALS,Ye.LISTS];let mt=nt.indexOf(k);if(k===Ye.NEWS&&(mt=2),mt!==-1)if(ee>0){const Bt=(mt+1)%nt.length;$(nt[Bt])}else{const Bt=(mt-1+nt.length)%nt.length;$(nt[Bt])}}},[k]);H.useEffect(()=>(Xi.isNativePlatform()&&cf.addListener("backButton",({canGoBack:I})=>{k!==Ye.DASHBOARD&&ce?$(Ye.DASHBOARD):!ce&&(Le==="enter-pass"||Le==="set-pass")?(oe("select"),be(null)):cf.exitApp()}),()=>{Xi.isNativePlatform()&&cf.removeAllListeners()}),[k,ce,Le]);const Hn=async()=>{try{if(Xi.isNativePlatform()){try{(await Cs.checkPermissions()).display!=="granted"&&await Cs.requestPermissions()}catch{}try{(await ba.checkPermissions()).location!=="granted"&&await ba.requestPermissions()}catch{}}}catch{}!Xi.isNativePlatform()&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(I=>{J({lat:I.coords.latitude,lng:I.coords.longitude,name:"Aktueller Standort"})},I=>{console.log("Browser GPS request denied or failed:",I.message)},{enableHighAccuracy:!1,timeout:5e3})};H.useEffect(()=>{(async()=>{try{const[F,ee,le,je,on,nt,mt,Bt,Et,vi,Ls,fn,is]=await Promise.all([Ne.family.getAll(),Ne.events.getAll(),Ne.news.getAll(),Ne.shopping.getAll(),Ne.householdTasks.getAll(),Ne.personalTasks.getAll(),Ne.mealPlan.getAll(),Ne.mealRequests.getAll(),Ne.weatherFavorites.getAll(),Ne.recipes.getAll(),Ne.feedback.getAll(),Ne.polls.getAll(),Ne.notifications.getAll()]);r(F),l(ee),f(le),p(je),_(on),S(nt),C(mt),N(Bt),M(Et),G(vi),O(Ls),te(fn),ve(is)}catch(F){console.error("Failed to load backend data",F)}finally{e(!1)}})()},[]),H.useEffect(()=>{ce&&Hn()},[ce]),H.useEffect(()=>{if(!ce)return;const I=setInterval(async()=>{const[F,ee]=await Promise.all([Ne.news.getAll(),Ne.feedback.getAll()]);f(F),O(ee);const le=_t.current;F.filter(nt=>{var vi;const mt=nt.tag===`PRIVATE:${ce.id}`,Bt=new Date(nt.createdAt).getTime()>le,Et=!((vi=nt.readBy)!=null&&vi.includes(ce.id));return mt&&Bt&&Et}).forEach(nt=>{var Bt;const mt=((Bt=i.find(Et=>Et.id===nt.authorId))==null?void 0:Bt.name)||"Jemand";Ht("Neue Nachricht ",`${mt}: ${nt.description.substring(0,30)}...`)}),ce.role==="admin"&&ee.filter(mt=>new Date(mt.createdAt).getTime()>le&&!mt.read).forEach(mt=>{Ht("Neues Feedback ",`${mt.userName} hat Feedback gesendet.`)});const on=Date.now();on-ae.current>36e5&&(await Ci(),ae.current=on),_t.current=Date.now()},cD);return Ci(),()=>clearInterval(I)},[ce,i]);const Ci=async()=>{let I=ie==null?void 0:ie.lat,F=ie==null?void 0:ie.lng,ee=(ie==null?void 0:ie.name)||"Dein Standort";if(!I&&U.length>0&&(I=U[0].lat,F=U[0].lng,ee=U[0].name),I&&F)try{const le=await eh(I,F);if(le){const on=(await Cs.getPending()).notifications.filter(Et=>Et.id>=100&&Et.id<125).map(Et=>({id:Et.id}));on.length>0&&await Cs.cancel({notifications:on});const nt=[],mt=new Date,Bt=mt.getHours();for(let Et=1;Et<=12;Et++){const vi=Bt+Et,Ls=le.hourly.temperature_2m[vi],fn=le.hourly.weather_code[vi],is=le.hourly.time[vi];if(Ls!==void 0&&fn!==void 0&&is){const ju=th(fn),$u=Math.round(Ls);let Vn="";fn===0?Vn="":fn<=3?Vn="":fn>=45&&fn<=48?Vn="":fn>=51&&fn<=67?Vn="":fn>=71?Vn="":fn>=95&&(Vn="");const qn=new Date(is);qn>mt&&nt.push({id:100+Et,title:`${Vn} Wetter in ${ee}`,body:`${$u}C und ${ju}.`,schedule:{at:qn},smallIcon:"ic_stat_logo",sound:void 0})}}nt.length>0&&await Cs.schedule({notifications:nt})}}catch{}};H.useEffect(()=>{if(!t&&i.length>0&&!ce){const I=localStorage.getItem("fh_session_user");if(I){const F=i.find(ee=>ee.id===I);F&&me(F)}}},[t,i,ce]),H.useEffect(()=>{Te?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),Se?document.body.classList.add("liquid-glass"):document.body.classList.remove("liquid-glass")},[Te,Se]);const Ht=async(I,F)=>{const ee={id:Date.now().toString()+Math.random(),title:I,message:F,type:"info",timestamp:new Date().toISOString(),read:!1};ve(le=>[ee,...le]),await Ne.notifications.add(ee);try{await Cs.schedule({notifications:[{title:I,body:F,id:Math.floor(Math.random()*1e6),schedule:{at:new Date(Date.now()+100)},sound:void 0,attachments:[],actionTypeId:"",extra:null,smallIcon:"ic_stat_logo"}]})}catch{}},ue=async I=>{try{const F=new Date(`${I.date}T${I.time}`);F>new Date&&await Cs.schedule({notifications:[{id:zv(I.id),title:"Termin Erinnerung ",body:`${I.title} um ${I.time} Uhr`,schedule:{at:F},smallIcon:"ic_stat_logo",sound:void 0,actionTypeId:"",extra:{route:Ye.CALENDAR}}]})}catch(F){console.error("Failed to schedule notification for event",I.title,F)}},We=async I=>{try{await Cs.cancel({notifications:[{id:zv(I)}]})}catch{}},ut=async()=>{ve([]),(await Ne.notifications.getAll()).length>0&&await Ne.notifications.setAll([])},ft=async I=>{l(ee=>[...ee,I]),await Ne.events.add(I),await ue(I);const F=(ce==null?void 0:ce.name)||"Jemand";await Ht("Neuer Termin ",`${F} hat "${I.title}" am ${new Date(I.date).toLocaleDateString()} erstellt.`)},xt=async(I,F)=>{l(le=>le.map(je=>je.id===I?{...je,...F}:je)),await Ne.events.update(I,F),await We(I);const ee=o.find(le=>le.id===I);if(ee){const le={...ee,...F};await ue(le)}},nn=async I=>{l(F=>F.filter(ee=>ee.id!==I)),await Ne.events.delete(I),await We(I)},sn=async I=>{var F;if(f(ee=>[I,...ee]),await Ne.news.add(I),!((F=I.tag)!=null&&F.startsWith("PRIVATE:"))){const ee=(ce==null?void 0:ce.name)||"Jemand";await Ht("Pinnwand ",`${ee} hat "${I.title}" gepostet.`)}},si=async(I,F)=>{f(ee=>ee.map(le=>le.id===I?{...le,...F}:le)),await Ne.news.update(I,F)},Dt=async I=>{f(F=>F.filter(ee=>ee.id!==I)),await Ne.news.delete(I)},cn=async I=>{if(!ce)return;const F=c.find(ee=>ee.id===I);if(F){const ee=[...F.readBy||[],ce.id];f(le=>le.map(je=>je.id===I?{...je,readBy:ee}:je)),await Ne.news.update(I,{readBy:ee})}},ri=async I=>{te(ee=>[I,...ee]),await Ne.polls.add(I);const F=(ce==null?void 0:ce.name)||"Jemand";await Ht("Neue Umfrage ",`${F} fragt: "${I.question}"`)},Ni=async(I,F)=>{te(ee=>ee.map(le=>le.id===I?{...le,...F}:le)),await Ne.polls.update(I,F)},ki=async I=>{te(F=>F.filter(ee=>ee.id!==I)),await Ne.polls.delete(I)},Is=async I=>{const F=g.find(ee=>ee.id===I);if(F){const ee={...F,checked:!F.checked};p(le=>le.map(je=>je.id===I?ee:je)),await Ne.shopping.update(I,{checked:ee.checked})}},Ds=async(I,F,ee)=>{const le={id:Date.now().toString(),name:I,checked:!1,note:F,category:ee};p(je=>[...je,le]),await Ne.shopping.add(le),await Ht("Einkaufsliste ",`"${I}" wurde hinzugefgt.`)},dr=async I=>{p(F=>F.filter(ee=>ee.id!==I)),await Ne.shopping.delete(I)},Us=async I=>{const F=I.map(le=>({id:Date.now().toString()+Math.random(),name:le,checked:!1}));p(le=>[...le,...F]);const ee=await Ne.shopping.getAll();await Ne.shopping.setAll([...ee,...F]),await Ht("Einkaufsliste ",`${I.length} Zutaten aus Rezept hinzugefgt.`)},Bn=async(I,F,ee="medium",le)=>{const je={id:Date.now().toString(),title:I,done:!1,assignedTo:F,type:"household",priority:ee,note:le};_(on=>[...on,je]),await Ne.householdTasks.add(je)},kt=async(I,F="medium",ee)=>{const le={id:Date.now().toString(),title:I,done:!1,type:"personal",priority:F,note:ee};S(je=>[...je,le]),await Ne.personalTasks.add(le)},Gt=async(I,F)=>{if(F==="household"){const ee=b.find(le=>le.id===I);ee&&(_(le=>le.map(je=>je.id===I?{...je,done:!je.done}:je)),await Ne.householdTasks.update(I,{done:!ee.done}))}else{const ee=x.find(le=>le.id===I);ee&&(S(le=>le.map(je=>je.id===I?{...je,done:!je.done}:je)),await Ne.personalTasks.update(I,{done:!ee.done}))}},yi=async(I,F)=>{F==="household"?(_(ee=>ee.filter(le=>le.id!==I)),await Ne.householdTasks.delete(I)):(S(ee=>ee.filter(le=>le.id!==I)),await Ne.personalTasks.delete(I))},Ps=async I=>{C(I),await Ne.mealPlan.setAll(I)},yo=()=>{Ht("Wochenplan erstellt ","Dein neuer Essensplan fr die Woche ist fertig!")},vo=async(I,F,ee)=>{const le=T.find(Bt=>Bt.day===I),je=le?le.id:Date.now().toString()+Math.random().toString().slice(2,5),on=T.filter(Bt=>Bt.day!==I),nt={id:je,day:I,mealName:F,ingredients:ee,recipeHint:"Aus Rezeptlager",breakfast:(le==null?void 0:le.breakfast)||"",lunch:(le==null?void 0:le.lunch)||""},mt=[...on,nt];C(mt),await Ne.mealPlan.setAll(mt)},fr=async I=>{if(ce){const F={id:Date.now().toString(),dishName:I,requestedBy:ce.id,createdAt:new Date().toISOString()};N(le=>[...le,F]),await Ne.mealRequests.add(F);const ee=ce.name;await Ht("Essenswunsch ",`${ee} wnscht sich: ${I}`)}},Z=async I=>{N(F=>F.filter(ee=>ee.id!==I)),await Ne.mealRequests.delete(I)},He=async I=>{G(F=>[...F,I]),await Ne.recipes.add(I)},Rt=async(I,F)=>{G(ee=>ee.map(le=>le.id===I?{...le,...F}:le)),await Ne.recipes.update(I,F)},Ft=async I=>{G(F=>F.filter(ee=>ee.id!==I)),await Ne.recipes.delete(I)},dn=async(I,F)=>{r(ee=>ee.map(le=>le.id===I?{...le,...F}:le)),ce&&ce.id===I&&me({...ce,...F}),await Ne.family.update(I,F)},rn=async(I,F)=>{const ee=Math.floor(Math.random()*1e3),le={id:Date.now().toString(),name:I.trim(),avatar:`https://picsum.photos/200/200?random=${ee}`,color:F==="parent"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700",role:F};return await Ne.family.add(le),r(je=>[...je,le]),le},wt=async I=>{if(i.length<=1){alert("Der letzte Benutzer kann nicht gelscht werden.");return}r(F=>F.filter(ee=>ee.id!==I)),await Ne.family.delete(I)},hr=async I=>{const F={password:void 0};r(ee=>ee.map(le=>le.id===I?{...le,...F}:le)),await Ne.family.update(I,F)},Na=async I=>{O(F=>[...F,I]),await Ne.feedback.add(I),Ht("Feedback gesendet ","Danke fr dein Feedback!")},Ri=async I=>{O(F=>F.map(ee=>I.includes(ee.id)?{...ee,read:!0}:ee));for(const F of I)await Ne.feedback.update(F,{read:!0})},ns=()=>{localStorage.removeItem("fh_session_user"),me(null),$(Ye.DASHBOARD),oe("select"),be(null),Je("")},Lu=async I=>{const F=U.find(ee=>ee.name===I.name);F?(M(ee=>ee.filter(le=>le.name!==I.name)),await Ne.weatherFavorites.delete(F.id)):(M(ee=>[...ee,I]),await Ne.weatherFavorites.add(I))},Mi=()=>{Y(k),$(Ye.SETTINGS)},ka=I=>{be(I),Je(""),he(""),Rn(!1),I.password?oe("enter-pass"):oe("set-pass")},zu=async I=>{if(I.preventDefault(),!!Mn.trim()){ii(!0);try{const F=await rn(Mn,qt);F&&(ce?vn(!1):(me(F),localStorage.setItem("fh_session_user",F.id),Hn())),yn("")}catch(F){console.error("Setup failed",F)}finally{ii(!1)}}},pr=I=>{if(I.preventDefault(),!(!Me||!Ue.trim()))if(Le==="set-pass"){if(Ue.trim().length<4){he("Das Passwort muss mindestens 4 Zeichen lang sein.");return}dn(Me.id,{password:Ue}),me({...Me,password:Ue}),localStorage.setItem("fh_session_user",Me.id),Hn()}else Ue===Me.password?(me(Me),localStorage.setItem("fh_session_user",Me.id),Hn()):he(Oe("login.wrong_pass",pe))},gr=()=>{mn(I=>I+1>=5?(qe(!0),he(""),Ct(""),mi(!1),0):I+1)},oi=I=>{I.preventDefault();const F=i.find(ee=>ee.role==="admin");if(!F){he("Kein Administrator konfiguriert.");return}rt===F.password?(me(F),localStorage.setItem("fh_session_user",F.id),qe(!1),Ct(""),he(""),Hn()):he("Zugriff verweigert. Falsches Passwort.")};if(t)return y.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex flex-col items-center justify-center",children:[y.jsx(uu,{size:80,className:"animate-pulse mb-4"}),y.jsx(Wi,{className:"animate-spin text-blue-500",size:32}),y.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:"Lade Familiendaten..."})]});const bn=()=>L?"bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-red-100 via-green-50 to-red-100 dark:from-red-900/40 dark:via-green-900/20 dark:to-slate-900":Se?"bg-transparent":"bg-gray-50 dark:bg-gray-900";if(!ce)return y.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 flex flex-col items-center justify-center p-6 transition-colors relative overflow-hidden",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-400/10 rounded-full blur-[100px]"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-purple-400/10 rounded-full blur-[100px]"})]}),y.jsxs("div",{className:"text-center mb-10 animate-fade-in flex flex-col items-center z-10",children:[y.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-[30px] shadow-xl mb-6 ring-1 ring-black/5 dark:ring-white/10 active:scale-95 transition-transform cursor-pointer select-none",onClick:gr,children:y.jsx(uu,{size:80})}),y.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-white mb-2 tracking-tight",children:"FamilienHub"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:Oe("login.welcome",pe)})]}),i.length>0&&!Ti?y.jsx("div",{className:"w-full max-w-md z-10",children:y.jsx("div",{className:"grid grid-cols-2 gap-4 animate-slide-in",children:i.filter(I=>I.role!=="admin").sort((I,F)=>I.role==="parent"&&F.role!=="parent"?-1:I.role!=="parent"&&F.role==="parent"?1:I.role==="parent"?I.id.localeCompare(F.id):F.id.localeCompare(I.id)).map(I=>y.jsxs("button",{onClick:()=>ka(I),className:"bg-white dark:bg-gray-800 p-4 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col items-center hover:scale-105 hover:shadow-md active:scale-95 transition-all group relative",children:[y.jsxs("div",{className:"relative mb-3",children:[y.jsx("img",{src:I.avatar,alt:I.name,className:"w-16 h-16 rounded-full object-cover ring-4 ring-gray-50 dark:ring-gray-700 group-hover:ring-blue-50 dark:group-hover:ring-blue-900/50 transition-all"}),I.password&&y.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-gray-800 p-1 rounded-full border border-gray-100 dark:border-gray-700 text-gray-400",children:y.jsx(Gv,{size:12})})]}),y.jsx("span",{className:"font-bold text-base text-gray-800 dark:text-gray-200",children:I.name})]},I.id))})}):y.jsx("div",{className:"w-full max-w-xs animate-fade-in z-10 relative",children:y.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl p-6 rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700",children:[i.length>0&&y.jsx("button",{onClick:()=>vn(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(Nn,{size:20})}),y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-1",children:i.length===0?"Neu hier?":"Neues Mitglied"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.length===0?"Erstelle das erste Profil.":"Fge jemanden hinzu."})]}),y.jsxs("form",{onSubmit:zu,children:[y.jsx("div",{className:"mb-4",children:y.jsx("input",{type:"text",placeholder:"Name (z.B. Mama)",value:Mn,onChange:I=>yn(I.target.value),className:"w-full bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl px-4 py-3 text-center text-lg font-semibold outline-none focus:ring-2 focus:ring-blue-500 dark:text-white placeholder-gray-400 transition-all",autoFocus:!0})}),y.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-gray-100 dark:bg-gray-700/50 rounded-xl",children:[y.jsx("button",{type:"button",onClick:()=>ti("parent"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center justify-center space-x-1 ${qt==="parent"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:y.jsx("span",{children:"Elternteil"})}),y.jsx("button",{type:"button",onClick:()=>ti("child"),className:`flex-1 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center justify-center space-x-1 ${qt==="child"?"bg-white dark:bg-gray-600 text-green-600 dark:text-green-300 shadow-sm":"text-gray-400 dark:text-gray-500 hover:text-gray-600"}`,children:y.jsx("span",{children:"Kind"})})]}),y.jsx("button",{type:"submit",disabled:!Mn.trim()||ni,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-blue-500/30 active:scale-95 transition disabled:opacity-50 flex justify-center items-center",children:ni?y.jsx(Wi,{className:"animate-spin",size:20}):y.jsxs("span",{className:"flex items-center",children:["Erstellen ",y.jsx(PS,{size:18,className:"ml-2"})]})})]})]})}),(Le==="enter-pass"||Le==="set-pass")&&Me&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl w-full max-w-xs p-8 relative animate-slide-up ring-1 ring-white/20",children:[y.jsx("button",{onClick:()=>{oe("select"),be(null)},className:"absolute top-5 right-5 text-gray-400 hover:text-gray-600 bg-gray-100 dark:bg-gray-700 rounded-full p-1 transition",children:y.jsx(Nn,{size:20})}),y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"relative",children:y.jsx("img",{src:Me.avatar,className:"w-20 h-20 rounded-full mb-4 ring-4 ring-white dark:ring-gray-700 shadow-md"})}),y.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white tracking-tight",children:[Oe("login.hello",pe)," ",Me.name]}),y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:Oe(Le==="set-pass"?"login.create_pass":"login.enter_pass",pe)})]}),y.jsxs("form",{onSubmit:pr,children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:Yt?"text":"password",autoFocus:!0,value:Ue,onChange:I=>{Je(I.target.value),he("")},placeholder:Oe(Le==="set-pass"?"login.new_pass_placeholder":"login.pass_placeholder",pe),className:`w-full bg-gray-50 dark:bg-gray-700 border ${fe?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600"} rounded-2xl px-4 py-4 pr-12 text-center text-xl tracking-widest mb-6 outline-none focus:ring-4 focus:ring-blue-500/20 transition-all dark:text-white`}),y.jsx("button",{type:"button",onClick:()=>Rn(!Yt),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:Yt?y.jsx(ym,{size:20}):y.jsx(ou,{size:20})}),fe&&y.jsx("div",{className:"absolute -bottom-5 left-0 right-0 text-red-500 text-xs text-center font-bold animate-pulse",children:fe})]}),y.jsx("button",{type:"submit",disabled:!Ue.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl shadow-xl shadow-blue-500/20 active:scale-95 transition disabled:opacity-50 disabled:shadow-none",children:Oe(Le==="set-pass"?"login.set_pass_btn":"login.login_btn",pe)})]})]})}),$e&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-red-950/80 backdrop-blur-md animate-fade-in",children:y.jsxs("div",{className:"bg-gray-900 w-full max-w-sm rounded-3xl shadow-2xl p-8 relative border border-red-500/30 ring-4 ring-red-500/10 animate-slide-up",children:[y.jsx("button",{onClick:()=>{qe(!1),Ct(""),he(""),mi(!1)},className:"absolute top-4 right-4 text-red-400 hover:text-red-200 bg-red-950/50 rounded-full p-1 transition",children:y.jsx(Nn,{size:20})}),y.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 bg-red-900/30 rounded-full flex items-center justify-center mb-4 border border-red-500/50",children:y.jsx(y1,{size:32,className:"text-red-500"})}),y.jsx("h3",{className:"text-xl font-black text-red-500 uppercase tracking-widest",children:"System berschreibung"}),y.jsxs("p",{className:"text-xs text-red-300 font-mono mt-2 bg-red-950/50 px-2 py-1 rounded",children:[y.jsx($1,{size:10,className:"inline mr-1"}),"ADMINBEREICH: Nur erlaubter Zutritt"]})]}),y.jsxs("form",{onSubmit:oi,children:[y.jsxs("div",{className:"relative mb-6",children:[y.jsx("input",{type:bt?"text":"password",autoFocus:!0,value:rt,onChange:I=>{Ct(I.target.value),he("")},placeholder:"Admin Passwort",className:`w-full bg-black/50 border ${fe?"border-red-500":"border-red-900"} rounded-xl px-4 py-4 pr-12 text-center text-white placeholder-red-800/50 outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500 transition-all font-mono tracking-wider`}),y.jsx("button",{type:"button",onClick:()=>mi(!bt),className:"absolute right-4 top-4 text-red-400 hover:text-red-200",children:bt?y.jsx(ym,{size:20}):y.jsx(ou,{size:20})}),fe&&y.jsx("div",{className:"absolute -bottom-6 left-0 right-0 text-red-500 text-xs text-center font-bold animate-pulse",children:fe})]}),y.jsx("button",{type:"submit",disabled:!rt.trim(),className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-red-900/20 active:scale-95 transition disabled:opacity-50 disabled:shadow-none uppercase tracking-wide text-sm",children:"Zugriff Gewhren"})]})]})})]});const Ra=b.filter(I=>I.assignedTo===ce.id&&!I.done).length+x.filter(I=>!I.done).length,Os=i.filter(I=>I.role!=="admin"),bo={notifications:ye,markAllRead:()=>ve(I=>I.map(F=>({...F,read:!0}))),clearAll:ut},Ma=()=>{const I=()=>{switch(k){case Ye.DASHBOARD:return y.jsx(sT,{family:Os,currentUser:ce,events:o,shoppingCount:g.filter(F=>!F.checked).length,openTaskCount:Ra,todayMeal:T[0],onNavigate:$,onProfileClick:Mi,lang:pe,weatherFavorites:U,currentWeatherLocation:ie,onUpdateWeatherLocation:J,news:c,liquidGlass:Se});case Ye.CALENDAR:return y.jsx(wm,{events:o,news:c,polls:se,family:Os,onAddEvent:ft,onUpdateEvent:xt,onDeleteEvent:nn,onAddNews:sn,onUpdateNews:si,onDeleteNews:Dt,onAddPoll:ri,onUpdatePoll:Ni,onDeletePoll:ki,currentUser:ce,onProfileClick:Mi,initialTab:"calendar",onMarkNewsRead:cn,liquidGlass:Se});case Ye.NEWS:return y.jsx(wm,{events:o,news:c,polls:se,family:Os,onAddEvent:ft,onUpdateEvent:xt,onDeleteEvent:nn,onAddNews:sn,onUpdateNews:si,onDeleteNews:Dt,onAddPoll:ri,onUpdatePoll:Ni,onDeletePoll:ki,currentUser:ce,onProfileClick:Mi,initialTab:"news",onMarkNewsRead:cn,liquidGlass:Se});case Ye.LISTS:return y.jsx(rT,{shoppingItems:g,householdTasks:b,personalTasks:x,recipes:V,family:Os,currentUser:ce,onToggleShopping:Is,onAddShopping:Ds,onDeleteShopping:dr,onAddHousehold:Bn,onToggleTask:Gt,onAddPersonal:kt,onDeleteTask:yi,onAddRecipe:He,onDeleteRecipe:Ft,onUpdateRecipe:Rt,onAddIngredientsToShopping:Us,onAddMealToPlan:vo,onProfileClick:Mi,liquidGlass:Se});case Ye.MEALS:return y.jsx(bM,{plan:T,requests:A,family:Os,currentUser:ce,onUpdatePlan:Ps,onAddRequest:fr,onDeleteRequest:Z,onAddIngredientsToShopping:Us,onProfileClick:Mi,recipes:V,onAddRecipe:He,onPlanGenerated:yo,liquidGlass:Se});case Ye.ACTIVITIES:return y.jsx(DM,{onProfileClick:Mi,currentLocation:ie});case Ye.WEATHER:return y.jsx(VM,{onBack:()=>$(Ye.DASHBOARD),favorites:U,onToggleFavorite:Lu,initialLocation:ie,liquidGlass:Se});case Ye.SETTINGS:return y.jsx(LM,{currentUser:ce,onUpdateUser:F=>dn(ce.id,F),onUpdateFamilyMember:dn,onLogout:ns,onClose:()=>$(re),darkMode:Te,onToggleDarkMode:()=>Ae(!Te),liquidGlass:Se,onToggleLiquidGlass:()=>Xe(!Se),christmasMode:L,onToggleChristmasMode:()=>ne(!L),lang:pe,setLang:()=>{},family:i,onResetPassword:hr,onSendFeedback:Na,allFeedbacks:X,onMarkFeedbackRead:Ri,onAddNews:sn,news:c,onDeleteNews:Dt,onAddUser:rn,onDeleteUser:wt,onMarkNewsRead:cn});default:return null}};return y.jsx("div",{className:"page-transition-wrapper",children:I()},k)};return y.jsxs(qM.Provider,{value:bo,children:[L&&y.jsx(dD,{}),Se&&y.jsx(fD,{}),Se&&y.jsx(hD,{}),y.jsxs("div",{className:`min-h-screen transition-all duration-500 overflow-x-hidden ${k===Ye.WEATHER?"":"pb-24"} ${bn()}`,onTouchStart:St,onTouchEnd:Ai,children:[Ma(),y.jsx(nT,{currentRoute:k,onNavigate:$,lang:pe,christmasMode:L,liquidGlass:Se})]})]})},fx=document.getElementById("root");if(!fx)throw new Error("Could not find root element to mount to");const gD=AS.createRoot(fx);gD.render(y.jsx(Sa.StrictMode,{children:y.jsx(pD,{})}));export{Kb as W};
